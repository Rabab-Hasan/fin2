var xA=Object.defineProperty;var vA=(e,t,n)=>t in e?xA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var dp=(e,t,n)=>(vA(e,typeof t!="symbol"?t+"":t,n),n);function yA(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();function sr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hw={exports:{}},Yu={},Qw={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nl=Symbol.for("react.element"),bA=Symbol.for("react.portal"),wA=Symbol.for("react.fragment"),jA=Symbol.for("react.strict_mode"),NA=Symbol.for("react.profiler"),kA=Symbol.for("react.provider"),SA=Symbol.for("react.context"),CA=Symbol.for("react.forward_ref"),PA=Symbol.for("react.suspense"),AA=Symbol.for("react.memo"),EA=Symbol.for("react.lazy"),ov=Symbol.iterator;function OA(e){return e===null||typeof e!="object"?null:(e=ov&&e[ov]||e["@@iterator"],typeof e=="function"?e:null)}var Yw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gw=Object.assign,Xw={};function ys(e,t,n){this.props=e,this.context=t,this.refs=Xw,this.updater=n||Yw}ys.prototype.isReactComponent={};ys.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ys.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zw(){}Zw.prototype=ys.prototype;function hh(e,t,n){this.props=e,this.context=t,this.refs=Xw,this.updater=n||Yw}var gh=hh.prototype=new Zw;gh.constructor=hh;Gw(gh,ys.prototype);gh.isPureReactComponent=!0;var lv=Array.isArray,Jw=Object.prototype.hasOwnProperty,xh={current:null},e1={key:!0,ref:!0,__self:!0,__source:!0};function t1(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Jw.call(t,r)&&!e1.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:nl,type:e,key:i,ref:o,props:a,_owner:xh.current}}function TA(e,t){return{$$typeof:nl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vh(e){return typeof e=="object"&&e!==null&&e.$$typeof===nl}function _A(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var cv=/\/+/g;function pp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_A(""+e.key):t.toString(36)}function dc(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case nl:case bA:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+pp(o,0):r,lv(a)?(n="",e!=null&&(n=e.replace(cv,"$&/")+"/"),dc(a,t,n,"",function(u){return u})):a!=null&&(vh(a)&&(a=TA(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(cv,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",lv(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+pp(i,l);o+=dc(i,t,n,c,a)}else if(c=OA(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+pp(i,l++),o+=dc(i,t,n,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Cl(e,t,n){if(e==null)return e;var r=[],a=0;return dc(e,r,"","",function(i){return t.call(n,i,a++)}),r}function MA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rt={current:null},pc={transition:null},DA={ReactCurrentDispatcher:Rt,ReactCurrentBatchConfig:pc,ReactCurrentOwner:xh};function n1(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:Cl,forEach:function(e,t,n){Cl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Cl(e,function(){t++}),t},toArray:function(e){return Cl(e,function(t){return t})||[]},only:function(e){if(!vh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Component=ys;ce.Fragment=wA;ce.Profiler=NA;ce.PureComponent=hh;ce.StrictMode=jA;ce.Suspense=PA;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DA;ce.act=n1;ce.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Gw({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=xh.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Jw.call(t,c)&&!e1.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:nl,type:e.type,key:a,ref:i,props:r,_owner:o}};ce.createContext=function(e){return e={$$typeof:SA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:kA,_context:e},e.Consumer=e};ce.createElement=t1;ce.createFactory=function(e){var t=t1.bind(null,e);return t.type=e,t};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:CA,render:e}};ce.isValidElement=vh;ce.lazy=function(e){return{$$typeof:EA,_payload:{_status:-1,_result:e},_init:MA}};ce.memo=function(e,t){return{$$typeof:AA,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=pc.transition;pc.transition={};try{e()}finally{pc.transition=t}};ce.unstable_act=n1;ce.useCallback=function(e,t){return Rt.current.useCallback(e,t)};ce.useContext=function(e){return Rt.current.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e){return Rt.current.useDeferredValue(e)};ce.useEffect=function(e,t){return Rt.current.useEffect(e,t)};ce.useId=function(){return Rt.current.useId()};ce.useImperativeHandle=function(e,t,n){return Rt.current.useImperativeHandle(e,t,n)};ce.useInsertionEffect=function(e,t){return Rt.current.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return Rt.current.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return Rt.current.useMemo(e,t)};ce.useReducer=function(e,t,n){return Rt.current.useReducer(e,t,n)};ce.useRef=function(e){return Rt.current.useRef(e)};ce.useState=function(e){return Rt.current.useState(e)};ce.useSyncExternalStore=function(e,t,n){return Rt.current.useSyncExternalStore(e,t,n)};ce.useTransition=function(){return Rt.current.useTransition()};ce.version="18.3.1";Qw.exports=ce;var h=Qw.exports;const zn=sr(h),r1=yA({__proto__:null,default:zn},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $A=h,IA=Symbol.for("react.element"),RA=Symbol.for("react.fragment"),LA=Object.prototype.hasOwnProperty,FA=$A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zA={key:!0,ref:!0,__self:!0,__source:!0};function a1(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)LA.call(t,r)&&!zA.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:IA,type:e,key:i,ref:o,props:a,_owner:FA.current}}Yu.Fragment=RA;Yu.jsx=a1;Yu.jsxs=a1;Hw.exports=Yu;var s=Hw.exports,vf={},i1={exports:{}},pn={},s1={exports:{}},o1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,U){var O=z.length;z.push(U);e:for(;0<O;){var W=O-1>>>1,A=z[W];if(0<a(A,U))z[W]=U,z[O]=A,O=W;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var U=z[0],O=z.pop();if(O!==U){z[0]=O;e:for(var W=0,A=z.length,K=A>>>1;W<K;){var V=2*(W+1)-1,H=z[V],Y=V+1,le=z[Y];if(0>a(H,O))Y<A&&0>a(le,H)?(z[W]=le,z[Y]=O,W=Y):(z[W]=H,z[V]=O,W=V);else if(Y<A&&0>a(le,O))z[W]=le,z[Y]=O,W=Y;else break e}}return U}function a(z,U){var O=z.sortIndex-U.sortIndex;return O!==0?O:z.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,p=null,f=3,m=!1,g=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(z){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=z)r(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=n(u)}}function j(z){if(x=!1,b(z),!g)if(n(c)!==null)g=!0,D(S);else{var U=n(u);U!==null&&$(j,U.startTime-z)}}function S(z,U){g=!1,x&&(x=!1,v(E),E=-1),m=!0;var O=f;try{for(b(U),p=n(c);p!==null&&(!(p.expirationTime>U)||z&&!N());){var W=p.callback;if(typeof W=="function"){p.callback=null,f=p.priorityLevel;var A=W(p.expirationTime<=U);U=e.unstable_now(),typeof A=="function"?p.callback=A:p===n(c)&&r(c),b(U)}else r(c);p=n(c)}if(p!==null)var K=!0;else{var V=n(u);V!==null&&$(j,V.startTime-U),K=!1}return K}finally{p=null,f=O,m=!1}}var k=!1,C=null,E=-1,R=5,M=-1;function N(){return!(e.unstable_now()-M<R)}function T(){if(C!==null){var z=e.unstable_now();M=z;var U=!0;try{U=C(!0,z)}finally{U?I():(k=!1,C=null)}}else k=!1}var I;if(typeof y=="function")I=function(){y(T)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,_=F.port2;F.port1.onmessage=T,I=function(){_.postMessage(null)}}else I=function(){w(T,0)};function D(z){C=z,k||(k=!0,I())}function $(z,U){E=w(function(){z(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,D(S))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(z){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var O=f;f=U;try{return z()}finally{f=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,U){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var O=f;f=z;try{return U()}finally{f=O}},e.unstable_scheduleCallback=function(z,U,O){var W=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?W+O:W):O=W,z){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=O+A,z={id:d++,callback:U,priorityLevel:z,startTime:O,expirationTime:A,sortIndex:-1},O>W?(z.sortIndex=O,t(u,z),n(c)===null&&z===n(u)&&(x?(v(E),E=-1):x=!0,$(j,O-W))):(z.sortIndex=A,t(c,z),g||m||(g=!0,D(S))),z},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(z){var U=f;return function(){var O=f;f=U;try{return z.apply(this,arguments)}finally{f=O}}}})(o1);s1.exports=o1;var BA=s1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UA=h,ln=BA;function Q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l1=new Set,jo={};function fi(e,t){Ji(e,t),Ji(e+"Capture",t)}function Ji(e,t){for(jo[e]=t,e=0;e<t.length;e++)l1.add(t[e])}var Nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yf=Object.prototype.hasOwnProperty,WA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uv={},dv={};function qA(e){return yf.call(dv,e)?!0:yf.call(uv,e)?!1:WA.test(e)?dv[e]=!0:(uv[e]=!0,!1)}function KA(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function VA(e,t,n,r){if(t===null||typeof t>"u"||KA(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Lt(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){wt[e]=new Lt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];wt[t]=new Lt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){wt[e]=new Lt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){wt[e]=new Lt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){wt[e]=new Lt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){wt[e]=new Lt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){wt[e]=new Lt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){wt[e]=new Lt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){wt[e]=new Lt(e,5,!1,e.toLowerCase(),null,!1,!1)});var yh=/[\-:]([a-z])/g;function bh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(yh,bh);wt[t]=new Lt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(yh,bh);wt[t]=new Lt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(yh,bh);wt[t]=new Lt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){wt[e]=new Lt(e,1,!1,e.toLowerCase(),null,!1,!1)});wt.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){wt[e]=new Lt(e,1,!1,e.toLowerCase(),null,!0,!0)});function wh(e,t,n,r){var a=wt.hasOwnProperty(t)?wt[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(VA(t,n,a,r)&&(n=null),r||a===null?qA(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Tr=UA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pl=Symbol.for("react.element"),_i=Symbol.for("react.portal"),Mi=Symbol.for("react.fragment"),jh=Symbol.for("react.strict_mode"),bf=Symbol.for("react.profiler"),c1=Symbol.for("react.provider"),u1=Symbol.for("react.context"),Nh=Symbol.for("react.forward_ref"),wf=Symbol.for("react.suspense"),jf=Symbol.for("react.suspense_list"),kh=Symbol.for("react.memo"),Kr=Symbol.for("react.lazy"),d1=Symbol.for("react.offscreen"),pv=Symbol.iterator;function $s(e){return e===null||typeof e!="object"?null:(e=pv&&e[pv]||e["@@iterator"],typeof e=="function"?e:null)}var $e=Object.assign,fp;function eo(e){if(fp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);fp=t&&t[1]||""}return`
`+fp+e}var mp=!1;function hp(e,t){if(!e||mp)return"";mp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{mp=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?eo(e):""}function HA(e){switch(e.tag){case 5:return eo(e.type);case 16:return eo("Lazy");case 13:return eo("Suspense");case 19:return eo("SuspenseList");case 0:case 2:case 15:return e=hp(e.type,!1),e;case 11:return e=hp(e.type.render,!1),e;case 1:return e=hp(e.type,!0),e;default:return""}}function Nf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Mi:return"Fragment";case _i:return"Portal";case bf:return"Profiler";case jh:return"StrictMode";case wf:return"Suspense";case jf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case u1:return(e.displayName||"Context")+".Consumer";case c1:return(e._context.displayName||"Context")+".Provider";case Nh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case kh:return t=e.displayName||null,t!==null?t:Nf(e.type)||"Memo";case Kr:t=e._payload,e=e._init;try{return Nf(e(t))}catch{}}return null}function QA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nf(t);case 8:return t===jh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function p1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function YA(e){var t=p1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Al(e){e._valueTracker||(e._valueTracker=YA(e))}function f1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=p1(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Oc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function kf(e,t){var n=t.checked;return $e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function fv(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=pa(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function m1(e,t){t=t.checked,t!=null&&wh(e,"checked",t,!1)}function Sf(e,t){m1(e,t);var n=pa(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Cf(e,t.type,n):t.hasOwnProperty("defaultValue")&&Cf(e,t.type,pa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function mv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Cf(e,t,n){(t!=="number"||Oc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var to=Array.isArray;function Ki(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+pa(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Pf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Q(91));return $e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hv(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Q(92));if(to(n)){if(1<n.length)throw Error(Q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:pa(n)}}function h1(e,t){var n=pa(t.value),r=pa(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function gv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function g1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Af(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?g1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var El,x1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(El=El||document.createElement("div"),El.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=El.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function No(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var lo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GA=["Webkit","ms","Moz","O"];Object.keys(lo).forEach(function(e){GA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lo[t]=lo[e]})});function v1(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||lo.hasOwnProperty(e)&&lo[e]?(""+t).trim():t+"px"}function y1(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=v1(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var XA=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ef(e,t){if(t){if(XA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Q(62))}}function Of(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tf=null;function Sh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _f=null,Vi=null,Hi=null;function xv(e){if(e=il(e)){if(typeof _f!="function")throw Error(Q(280));var t=e.stateNode;t&&(t=ed(t),_f(e.stateNode,e.type,t))}}function b1(e){Vi?Hi?Hi.push(e):Hi=[e]:Vi=e}function w1(){if(Vi){var e=Vi,t=Hi;if(Hi=Vi=null,xv(e),t)for(e=0;e<t.length;e++)xv(t[e])}}function j1(e,t){return e(t)}function N1(){}var gp=!1;function k1(e,t,n){if(gp)return e(t,n);gp=!0;try{return j1(e,t,n)}finally{gp=!1,(Vi!==null||Hi!==null)&&(N1(),w1())}}function ko(e,t){var n=e.stateNode;if(n===null)return null;var r=ed(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Q(231,t,typeof n));return n}var Mf=!1;if(Nr)try{var Is={};Object.defineProperty(Is,"passive",{get:function(){Mf=!0}}),window.addEventListener("test",Is,Is),window.removeEventListener("test",Is,Is)}catch{Mf=!1}function ZA(e,t,n,r,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var co=!1,Tc=null,_c=!1,Df=null,JA={onError:function(e){co=!0,Tc=e}};function eE(e,t,n,r,a,i,o,l,c){co=!1,Tc=null,ZA.apply(JA,arguments)}function tE(e,t,n,r,a,i,o,l,c){if(eE.apply(this,arguments),co){if(co){var u=Tc;co=!1,Tc=null}else throw Error(Q(198));_c||(_c=!0,Df=u)}}function mi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function S1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vv(e){if(mi(e)!==e)throw Error(Q(188))}function nE(e){var t=e.alternate;if(!t){if(t=mi(e),t===null)throw Error(Q(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return vv(a),e;if(i===r)return vv(a),t;i=i.sibling}throw Error(Q(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?e:t}function C1(e){return e=nE(e),e!==null?P1(e):null}function P1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=P1(e);if(t!==null)return t;e=e.sibling}return null}var A1=ln.unstable_scheduleCallback,yv=ln.unstable_cancelCallback,rE=ln.unstable_shouldYield,aE=ln.unstable_requestPaint,Ue=ln.unstable_now,iE=ln.unstable_getCurrentPriorityLevel,Ch=ln.unstable_ImmediatePriority,E1=ln.unstable_UserBlockingPriority,Mc=ln.unstable_NormalPriority,sE=ln.unstable_LowPriority,O1=ln.unstable_IdlePriority,Gu=null,tr=null;function oE(e){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(Gu,e,void 0,(e.current.flags&128)===128)}catch{}}var Bn=Math.clz32?Math.clz32:uE,lE=Math.log,cE=Math.LN2;function uE(e){return e>>>=0,e===0?32:31-(lE(e)/cE|0)|0}var Ol=64,Tl=4194304;function no(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Dc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?r=no(l):(i&=o,i!==0&&(r=no(i)))}else o=n&~a,o!==0?r=no(o):i!==0&&(r=no(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Bn(t),a=1<<n,r|=e[n],t&=~a;return r}function dE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pE(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Bn(i),l=1<<o,c=a[o];c===-1?(!(l&n)||l&r)&&(a[o]=dE(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function $f(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function T1(){var e=Ol;return Ol<<=1,!(Ol&4194240)&&(Ol=64),e}function xp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function rl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Bn(t),e[t]=n}function fE(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Bn(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function Ph(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Bn(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var ge=0;function _1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var M1,Ah,D1,$1,I1,If=!1,_l=[],na=null,ra=null,aa=null,So=new Map,Co=new Map,Gr=[],mE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bv(e,t){switch(e){case"focusin":case"focusout":na=null;break;case"dragenter":case"dragleave":ra=null;break;case"mouseover":case"mouseout":aa=null;break;case"pointerover":case"pointerout":So.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Co.delete(t.pointerId)}}function Rs(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=il(t),t!==null&&Ah(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function hE(e,t,n,r,a){switch(t){case"focusin":return na=Rs(na,e,t,n,r,a),!0;case"dragenter":return ra=Rs(ra,e,t,n,r,a),!0;case"mouseover":return aa=Rs(aa,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return So.set(i,Rs(So.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Co.set(i,Rs(Co.get(i)||null,e,t,n,r,a)),!0}return!1}function R1(e){var t=za(e.target);if(t!==null){var n=mi(t);if(n!==null){if(t=n.tag,t===13){if(t=S1(n),t!==null){e.blockedOn=t,I1(e.priority,function(){D1(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Rf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Tf=r,n.target.dispatchEvent(r),Tf=null}else return t=il(n),t!==null&&Ah(t),e.blockedOn=n,!1;t.shift()}return!0}function wv(e,t,n){fc(e)&&n.delete(t)}function gE(){If=!1,na!==null&&fc(na)&&(na=null),ra!==null&&fc(ra)&&(ra=null),aa!==null&&fc(aa)&&(aa=null),So.forEach(wv),Co.forEach(wv)}function Ls(e,t){e.blockedOn===t&&(e.blockedOn=null,If||(If=!0,ln.unstable_scheduleCallback(ln.unstable_NormalPriority,gE)))}function Po(e){function t(a){return Ls(a,e)}if(0<_l.length){Ls(_l[0],e);for(var n=1;n<_l.length;n++){var r=_l[n];r.blockedOn===e&&(r.blockedOn=null)}}for(na!==null&&Ls(na,e),ra!==null&&Ls(ra,e),aa!==null&&Ls(aa,e),So.forEach(t),Co.forEach(t),n=0;n<Gr.length;n++)r=Gr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Gr.length&&(n=Gr[0],n.blockedOn===null);)R1(n),n.blockedOn===null&&Gr.shift()}var Qi=Tr.ReactCurrentBatchConfig,$c=!0;function xE(e,t,n,r){var a=ge,i=Qi.transition;Qi.transition=null;try{ge=1,Eh(e,t,n,r)}finally{ge=a,Qi.transition=i}}function vE(e,t,n,r){var a=ge,i=Qi.transition;Qi.transition=null;try{ge=4,Eh(e,t,n,r)}finally{ge=a,Qi.transition=i}}function Eh(e,t,n,r){if($c){var a=Rf(e,t,n,r);if(a===null)Pp(e,t,r,Ic,n),bv(e,r);else if(hE(a,e,t,n,r))r.stopPropagation();else if(bv(e,r),t&4&&-1<mE.indexOf(e)){for(;a!==null;){var i=il(a);if(i!==null&&M1(i),i=Rf(e,t,n,r),i===null&&Pp(e,t,r,Ic,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else Pp(e,t,r,null,n)}}var Ic=null;function Rf(e,t,n,r){if(Ic=null,e=Sh(r),e=za(e),e!==null)if(t=mi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=S1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ic=e,null}function L1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iE()){case Ch:return 1;case E1:return 4;case Mc:case sE:return 16;case O1:return 536870912;default:return 16}default:return 16}}var Jr=null,Oh=null,mc=null;function F1(){if(mc)return mc;var e,t=Oh,n=t.length,r,a="value"in Jr?Jr.value:Jr.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return mc=a.slice(e,1<r?1-r:void 0)}function hc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ml(){return!0}function jv(){return!1}function fn(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ml:jv,this.isPropagationStopped=jv,this}return $e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),t}var bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Th=fn(bs),al=$e({},bs,{view:0,detail:0}),yE=fn(al),vp,yp,Fs,Xu=$e({},al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_h,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fs&&(Fs&&e.type==="mousemove"?(vp=e.screenX-Fs.screenX,yp=e.screenY-Fs.screenY):yp=vp=0,Fs=e),vp)},movementY:function(e){return"movementY"in e?e.movementY:yp}}),Nv=fn(Xu),bE=$e({},Xu,{dataTransfer:0}),wE=fn(bE),jE=$e({},al,{relatedTarget:0}),bp=fn(jE),NE=$e({},bs,{animationName:0,elapsedTime:0,pseudoElement:0}),kE=fn(NE),SE=$e({},bs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),CE=fn(SE),PE=$e({},bs,{data:0}),kv=fn(PE),AE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=OE[e])?!!t[e]:!1}function _h(){return TE}var _E=$e({},al,{key:function(e){if(e.key){var t=AE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?EE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_h,charCode:function(e){return e.type==="keypress"?hc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ME=fn(_E),DE=$e({},Xu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sv=fn(DE),$E=$e({},al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_h}),IE=fn($E),RE=$e({},bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),LE=fn(RE),FE=$e({},Xu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zE=fn(FE),BE=[9,13,27,32],Mh=Nr&&"CompositionEvent"in window,uo=null;Nr&&"documentMode"in document&&(uo=document.documentMode);var UE=Nr&&"TextEvent"in window&&!uo,z1=Nr&&(!Mh||uo&&8<uo&&11>=uo),Cv=String.fromCharCode(32),Pv=!1;function B1(e,t){switch(e){case"keyup":return BE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function U1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Di=!1;function WE(e,t){switch(e){case"compositionend":return U1(t);case"keypress":return t.which!==32?null:(Pv=!0,Cv);case"textInput":return e=t.data,e===Cv&&Pv?null:e;default:return null}}function qE(e,t){if(Di)return e==="compositionend"||!Mh&&B1(e,t)?(e=F1(),mc=Oh=Jr=null,Di=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return z1&&t.locale!=="ko"?null:t.data;default:return null}}var KE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Av(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!KE[e.type]:t==="textarea"}function W1(e,t,n,r){b1(r),t=Rc(t,"onChange"),0<t.length&&(n=new Th("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var po=null,Ao=null;function VE(e){ej(e,0)}function Zu(e){var t=Ri(e);if(f1(t))return e}function HE(e,t){if(e==="change")return t}var q1=!1;if(Nr){var wp;if(Nr){var jp="oninput"in document;if(!jp){var Ev=document.createElement("div");Ev.setAttribute("oninput","return;"),jp=typeof Ev.oninput=="function"}wp=jp}else wp=!1;q1=wp&&(!document.documentMode||9<document.documentMode)}function Ov(){po&&(po.detachEvent("onpropertychange",K1),Ao=po=null)}function K1(e){if(e.propertyName==="value"&&Zu(Ao)){var t=[];W1(t,Ao,e,Sh(e)),k1(VE,t)}}function QE(e,t,n){e==="focusin"?(Ov(),po=t,Ao=n,po.attachEvent("onpropertychange",K1)):e==="focusout"&&Ov()}function YE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zu(Ao)}function GE(e,t){if(e==="click")return Zu(t)}function XE(e,t){if(e==="input"||e==="change")return Zu(t)}function ZE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wn=typeof Object.is=="function"?Object.is:ZE;function Eo(e,t){if(Wn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!yf.call(t,a)||!Wn(e[a],t[a]))return!1}return!0}function Tv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _v(e,t){var n=Tv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Tv(n)}}function V1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?V1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function H1(){for(var e=window,t=Oc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Oc(e.document)}return t}function Dh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function JE(e){var t=H1(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&V1(n.ownerDocument.documentElement,n)){if(r!==null&&Dh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=_v(n,i);var o=_v(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var eO=Nr&&"documentMode"in document&&11>=document.documentMode,$i=null,Lf=null,fo=null,Ff=!1;function Mv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ff||$i==null||$i!==Oc(r)||(r=$i,"selectionStart"in r&&Dh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fo&&Eo(fo,r)||(fo=r,r=Rc(Lf,"onSelect"),0<r.length&&(t=new Th("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=$i)))}function Dl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ii={animationend:Dl("Animation","AnimationEnd"),animationiteration:Dl("Animation","AnimationIteration"),animationstart:Dl("Animation","AnimationStart"),transitionend:Dl("Transition","TransitionEnd")},Np={},Q1={};Nr&&(Q1=document.createElement("div").style,"AnimationEvent"in window||(delete Ii.animationend.animation,delete Ii.animationiteration.animation,delete Ii.animationstart.animation),"TransitionEvent"in window||delete Ii.transitionend.transition);function Ju(e){if(Np[e])return Np[e];if(!Ii[e])return e;var t=Ii[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Q1)return Np[e]=t[n];return e}var Y1=Ju("animationend"),G1=Ju("animationiteration"),X1=Ju("animationstart"),Z1=Ju("transitionend"),J1=new Map,Dv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xa(e,t){J1.set(e,t),fi(t,[e])}for(var kp=0;kp<Dv.length;kp++){var Sp=Dv[kp],tO=Sp.toLowerCase(),nO=Sp[0].toUpperCase()+Sp.slice(1);xa(tO,"on"+nO)}xa(Y1,"onAnimationEnd");xa(G1,"onAnimationIteration");xa(X1,"onAnimationStart");xa("dblclick","onDoubleClick");xa("focusin","onFocus");xa("focusout","onBlur");xa(Z1,"onTransitionEnd");Ji("onMouseEnter",["mouseout","mouseover"]);Ji("onMouseLeave",["mouseout","mouseover"]);Ji("onPointerEnter",["pointerout","pointerover"]);Ji("onPointerLeave",["pointerout","pointerover"]);fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fi("onBeforeInput",["compositionend","keypress","textInput","paste"]);fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rO=new Set("cancel close invalid load scroll toggle".split(" ").concat(ro));function $v(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,tE(r,t,void 0,e),e.currentTarget=null}function ej(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;$v(a,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;$v(a,l,u),i=c}}}if(_c)throw e=Df,_c=!1,Df=null,e}function Ne(e,t){var n=t[qf];n===void 0&&(n=t[qf]=new Set);var r=e+"__bubble";n.has(r)||(tj(t,e,2,!1),n.add(r))}function Cp(e,t,n){var r=0;t&&(r|=4),tj(n,e,r,t)}var $l="_reactListening"+Math.random().toString(36).slice(2);function Oo(e){if(!e[$l]){e[$l]=!0,l1.forEach(function(n){n!=="selectionchange"&&(rO.has(n)||Cp(n,!1,e),Cp(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$l]||(t[$l]=!0,Cp("selectionchange",!1,t))}}function tj(e,t,n,r){switch(L1(t)){case 1:var a=xE;break;case 4:a=vE;break;default:a=Eh}n=a.bind(null,t,n,e),a=void 0,!Mf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Pp(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=za(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}k1(function(){var u=i,d=Sh(n),p=[];e:{var f=J1.get(e);if(f!==void 0){var m=Th,g=e;switch(e){case"keypress":if(hc(n)===0)break e;case"keydown":case"keyup":m=ME;break;case"focusin":g="focus",m=bp;break;case"focusout":g="blur",m=bp;break;case"beforeblur":case"afterblur":m=bp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Nv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=wE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=IE;break;case Y1:case G1:case X1:m=kE;break;case Z1:m=LE;break;case"scroll":m=yE;break;case"wheel":m=zE;break;case"copy":case"cut":case"paste":m=CE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Sv}var x=(t&4)!==0,w=!x&&e==="scroll",v=x?f!==null?f+"Capture":null:f;x=[];for(var y=u,b;y!==null;){b=y;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,v!==null&&(j=ko(y,v),j!=null&&x.push(To(y,j,b)))),w)break;y=y.return}0<x.length&&(f=new m(f,g,null,n,d),p.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==Tf&&(g=n.relatedTarget||n.fromElement)&&(za(g)||g[kr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?za(g):null,g!==null&&(w=mi(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(x=Nv,j="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(x=Sv,j="onPointerLeave",v="onPointerEnter",y="pointer"),w=m==null?f:Ri(m),b=g==null?f:Ri(g),f=new x(j,y+"leave",m,n,d),f.target=w,f.relatedTarget=b,j=null,za(d)===u&&(x=new x(v,y+"enter",g,n,d),x.target=b,x.relatedTarget=w,j=x),w=j,m&&g)t:{for(x=m,v=g,y=0,b=x;b;b=Ai(b))y++;for(b=0,j=v;j;j=Ai(j))b++;for(;0<y-b;)x=Ai(x),y--;for(;0<b-y;)v=Ai(v),b--;for(;y--;){if(x===v||v!==null&&x===v.alternate)break t;x=Ai(x),v=Ai(v)}x=null}else x=null;m!==null&&Iv(p,f,m,x,!1),g!==null&&w!==null&&Iv(p,w,g,x,!0)}}e:{if(f=u?Ri(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var S=HE;else if(Av(f))if(q1)S=XE;else{S=YE;var k=QE}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=GE);if(S&&(S=S(e,u))){W1(p,S,n,d);break e}k&&k(e,f,u),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Cf(f,"number",f.value)}switch(k=u?Ri(u):window,e){case"focusin":(Av(k)||k.contentEditable==="true")&&($i=k,Lf=u,fo=null);break;case"focusout":fo=Lf=$i=null;break;case"mousedown":Ff=!0;break;case"contextmenu":case"mouseup":case"dragend":Ff=!1,Mv(p,n,d);break;case"selectionchange":if(eO)break;case"keydown":case"keyup":Mv(p,n,d)}var C;if(Mh)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Di?B1(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(z1&&n.locale!=="ko"&&(Di||E!=="onCompositionStart"?E==="onCompositionEnd"&&Di&&(C=F1()):(Jr=d,Oh="value"in Jr?Jr.value:Jr.textContent,Di=!0)),k=Rc(u,E),0<k.length&&(E=new kv(E,e,null,n,d),p.push({event:E,listeners:k}),C?E.data=C:(C=U1(n),C!==null&&(E.data=C)))),(C=UE?WE(e,n):qE(e,n))&&(u=Rc(u,"onBeforeInput"),0<u.length&&(d=new kv("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=C))}ej(p,t)})}function To(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rc(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=ko(e,n),i!=null&&r.unshift(To(e,i,a)),i=ko(e,t),i!=null&&r.push(To(e,i,a))),e=e.return}return r}function Ai(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Iv(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,a?(c=ko(n,i),c!=null&&o.unshift(To(n,c,l))):a||(c=ko(n,i),c!=null&&o.push(To(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var aO=/\r\n?/g,iO=/\u0000|\uFFFD/g;function Rv(e){return(typeof e=="string"?e:""+e).replace(aO,`
`).replace(iO,"")}function Il(e,t,n){if(t=Rv(t),Rv(e)!==t&&n)throw Error(Q(425))}function Lc(){}var zf=null,Bf=null;function Uf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wf=typeof setTimeout=="function"?setTimeout:void 0,sO=typeof clearTimeout=="function"?clearTimeout:void 0,Lv=typeof Promise=="function"?Promise:void 0,oO=typeof queueMicrotask=="function"?queueMicrotask:typeof Lv<"u"?function(e){return Lv.resolve(null).then(e).catch(lO)}:Wf;function lO(e){setTimeout(function(){throw e})}function Ap(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),Po(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);Po(t)}function ia(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ws=Math.random().toString(36).slice(2),Jn="__reactFiber$"+ws,_o="__reactProps$"+ws,kr="__reactContainer$"+ws,qf="__reactEvents$"+ws,cO="__reactListeners$"+ws,uO="__reactHandles$"+ws;function za(e){var t=e[Jn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[kr]||n[Jn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Fv(e);e!==null;){if(n=e[Jn])return n;e=Fv(e)}return t}e=n,n=e.parentNode}return null}function il(e){return e=e[Jn]||e[kr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ri(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Q(33))}function ed(e){return e[_o]||null}var Kf=[],Li=-1;function va(e){return{current:e}}function Ce(e){0>Li||(e.current=Kf[Li],Kf[Li]=null,Li--)}function je(e,t){Li++,Kf[Li]=e.current,e.current=t}var fa={},Ot=va(fa),qt=va(!1),ni=fa;function es(e,t){var n=e.type.contextTypes;if(!n)return fa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Kt(e){return e=e.childContextTypes,e!=null}function Fc(){Ce(qt),Ce(Ot)}function zv(e,t,n){if(Ot.current!==fa)throw Error(Q(168));je(Ot,t),je(qt,n)}function nj(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(Q(108,QA(e)||"Unknown",a));return $e({},n,r)}function zc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fa,ni=Ot.current,je(Ot,e),je(qt,qt.current),!0}function Bv(e,t,n){var r=e.stateNode;if(!r)throw Error(Q(169));n?(e=nj(e,t,ni),r.__reactInternalMemoizedMergedChildContext=e,Ce(qt),Ce(Ot),je(Ot,e)):Ce(qt),je(qt,n)}var dr=null,td=!1,Ep=!1;function rj(e){dr===null?dr=[e]:dr.push(e)}function dO(e){td=!0,rj(e)}function ya(){if(!Ep&&dr!==null){Ep=!0;var e=0,t=ge;try{var n=dr;for(ge=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}dr=null,td=!1}catch(a){throw dr!==null&&(dr=dr.slice(e+1)),A1(Ch,ya),a}finally{ge=t,Ep=!1}}return null}var Fi=[],zi=0,Bc=null,Uc=0,bn=[],wn=0,ri=null,mr=1,hr="";function Da(e,t){Fi[zi++]=Uc,Fi[zi++]=Bc,Bc=e,Uc=t}function aj(e,t,n){bn[wn++]=mr,bn[wn++]=hr,bn[wn++]=ri,ri=e;var r=mr;e=hr;var a=32-Bn(r)-1;r&=~(1<<a),n+=1;var i=32-Bn(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,mr=1<<32-Bn(t)+a|n<<a|r,hr=i+e}else mr=1<<i|n<<a|r,hr=e}function $h(e){e.return!==null&&(Da(e,1),aj(e,1,0))}function Ih(e){for(;e===Bc;)Bc=Fi[--zi],Fi[zi]=null,Uc=Fi[--zi],Fi[zi]=null;for(;e===ri;)ri=bn[--wn],bn[wn]=null,hr=bn[--wn],bn[wn]=null,mr=bn[--wn],bn[wn]=null}var sn=null,an=null,Ae=!1,Rn=null;function ij(e,t){var n=Nn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Uv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,sn=e,an=ia(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,sn=e,an=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ri!==null?{id:mr,overflow:hr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Nn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,sn=e,an=null,!0):!1;default:return!1}}function Vf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hf(e){if(Ae){var t=an;if(t){var n=t;if(!Uv(e,t)){if(Vf(e))throw Error(Q(418));t=ia(n.nextSibling);var r=sn;t&&Uv(e,t)?ij(r,n):(e.flags=e.flags&-4097|2,Ae=!1,sn=e)}}else{if(Vf(e))throw Error(Q(418));e.flags=e.flags&-4097|2,Ae=!1,sn=e}}}function Wv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;sn=e}function Rl(e){if(e!==sn)return!1;if(!Ae)return Wv(e),Ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Uf(e.type,e.memoizedProps)),t&&(t=an)){if(Vf(e))throw sj(),Error(Q(418));for(;t;)ij(e,t),t=ia(t.nextSibling)}if(Wv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){an=ia(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}an=null}}else an=sn?ia(e.stateNode.nextSibling):null;return!0}function sj(){for(var e=an;e;)e=ia(e.nextSibling)}function ts(){an=sn=null,Ae=!1}function Rh(e){Rn===null?Rn=[e]:Rn.push(e)}var pO=Tr.ReactCurrentBatchConfig;function zs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,e))}return e}function Ll(e,t){throw e=Object.prototype.toString.call(t),Error(Q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qv(e){var t=e._init;return t(e._payload)}function oj(e){function t(v,y){if(e){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function a(v,y){return v=ca(v,y),v.index=0,v.sibling=null,v}function i(v,y,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,y,b,j){return y===null||y.tag!==6?(y=Ip(b,v.mode,j),y.return=v,y):(y=a(y,b),y.return=v,y)}function c(v,y,b,j){var S=b.type;return S===Mi?d(v,y,b.props.children,j,b.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Kr&&qv(S)===y.type)?(j=a(y,b.props),j.ref=zs(v,y,b),j.return=v,j):(j=jc(b.type,b.key,b.props,null,v.mode,j),j.ref=zs(v,y,b),j.return=v,j)}function u(v,y,b,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Rp(b,v.mode,j),y.return=v,y):(y=a(y,b.children||[]),y.return=v,y)}function d(v,y,b,j,S){return y===null||y.tag!==7?(y=Ya(b,v.mode,j,S),y.return=v,y):(y=a(y,b),y.return=v,y)}function p(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ip(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Pl:return b=jc(y.type,y.key,y.props,null,v.mode,b),b.ref=zs(v,null,y),b.return=v,b;case _i:return y=Rp(y,v.mode,b),y.return=v,y;case Kr:var j=y._init;return p(v,j(y._payload),b)}if(to(y)||$s(y))return y=Ya(y,v.mode,b,null),y.return=v,y;Ll(v,y)}return null}function f(v,y,b,j){var S=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:l(v,y,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Pl:return b.key===S?c(v,y,b,j):null;case _i:return b.key===S?u(v,y,b,j):null;case Kr:return S=b._init,f(v,y,S(b._payload),j)}if(to(b)||$s(b))return S!==null?null:d(v,y,b,j,null);Ll(v,b)}return null}function m(v,y,b,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(b)||null,l(y,v,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Pl:return v=v.get(j.key===null?b:j.key)||null,c(y,v,j,S);case _i:return v=v.get(j.key===null?b:j.key)||null,u(y,v,j,S);case Kr:var k=j._init;return m(v,y,b,k(j._payload),S)}if(to(j)||$s(j))return v=v.get(b)||null,d(y,v,j,S,null);Ll(y,j)}return null}function g(v,y,b,j){for(var S=null,k=null,C=y,E=y=0,R=null;C!==null&&E<b.length;E++){C.index>E?(R=C,C=null):R=C.sibling;var M=f(v,C,b[E],j);if(M===null){C===null&&(C=R);break}e&&C&&M.alternate===null&&t(v,C),y=i(M,y,E),k===null?S=M:k.sibling=M,k=M,C=R}if(E===b.length)return n(v,C),Ae&&Da(v,E),S;if(C===null){for(;E<b.length;E++)C=p(v,b[E],j),C!==null&&(y=i(C,y,E),k===null?S=C:k.sibling=C,k=C);return Ae&&Da(v,E),S}for(C=r(v,C);E<b.length;E++)R=m(C,v,E,b[E],j),R!==null&&(e&&R.alternate!==null&&C.delete(R.key===null?E:R.key),y=i(R,y,E),k===null?S=R:k.sibling=R,k=R);return e&&C.forEach(function(N){return t(v,N)}),Ae&&Da(v,E),S}function x(v,y,b,j){var S=$s(b);if(typeof S!="function")throw Error(Q(150));if(b=S.call(b),b==null)throw Error(Q(151));for(var k=S=null,C=y,E=y=0,R=null,M=b.next();C!==null&&!M.done;E++,M=b.next()){C.index>E?(R=C,C=null):R=C.sibling;var N=f(v,C,M.value,j);if(N===null){C===null&&(C=R);break}e&&C&&N.alternate===null&&t(v,C),y=i(N,y,E),k===null?S=N:k.sibling=N,k=N,C=R}if(M.done)return n(v,C),Ae&&Da(v,E),S;if(C===null){for(;!M.done;E++,M=b.next())M=p(v,M.value,j),M!==null&&(y=i(M,y,E),k===null?S=M:k.sibling=M,k=M);return Ae&&Da(v,E),S}for(C=r(v,C);!M.done;E++,M=b.next())M=m(C,v,E,M.value,j),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?E:M.key),y=i(M,y,E),k===null?S=M:k.sibling=M,k=M);return e&&C.forEach(function(T){return t(v,T)}),Ae&&Da(v,E),S}function w(v,y,b,j){if(typeof b=="object"&&b!==null&&b.type===Mi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Pl:e:{for(var S=b.key,k=y;k!==null;){if(k.key===S){if(S=b.type,S===Mi){if(k.tag===7){n(v,k.sibling),y=a(k,b.props.children),y.return=v,v=y;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Kr&&qv(S)===k.type){n(v,k.sibling),y=a(k,b.props),y.ref=zs(v,k,b),y.return=v,v=y;break e}n(v,k);break}else t(v,k);k=k.sibling}b.type===Mi?(y=Ya(b.props.children,v.mode,j,b.key),y.return=v,v=y):(j=jc(b.type,b.key,b.props,null,v.mode,j),j.ref=zs(v,y,b),j.return=v,v=j)}return o(v);case _i:e:{for(k=b.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(v,y.sibling),y=a(y,b.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=Rp(b,v.mode,j),y.return=v,v=y}return o(v);case Kr:return k=b._init,w(v,y,k(b._payload),j)}if(to(b))return g(v,y,b,j);if($s(b))return x(v,y,b,j);Ll(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(v,y.sibling),y=a(y,b),y.return=v,v=y):(n(v,y),y=Ip(b,v.mode,j),y.return=v,v=y),o(v)):n(v,y)}return w}var ns=oj(!0),lj=oj(!1),Wc=va(null),qc=null,Bi=null,Lh=null;function Fh(){Lh=Bi=qc=null}function zh(e){var t=Wc.current;Ce(Wc),e._currentValue=t}function Qf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Yi(e,t){qc=e,Lh=Bi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Bt=!0),e.firstContext=null)}function Pn(e){var t=e._currentValue;if(Lh!==e)if(e={context:e,memoizedValue:t,next:null},Bi===null){if(qc===null)throw Error(Q(308));Bi=e,qc.dependencies={lanes:0,firstContext:e}}else Bi=Bi.next=e;return t}var Ba=null;function Bh(e){Ba===null?Ba=[e]:Ba.push(e)}function cj(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,Bh(t)):(n.next=a.next,a.next=n),t.interleaved=n,Sr(e,r)}function Sr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Vr=!1;function Uh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function br(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sa(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Sr(e,n)}return a=r.interleaved,a===null?(t.next=t,Bh(r)):(t.next=a.next,a.next=t),r.interleaved=t,Sr(e,n)}function gc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ph(e,n)}}function Kv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Kc(e,t,n,r){var a=e.updateQueue;Vr=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var p=a.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,x=l;switch(f=t,m=n,x.tag){case 1:if(g=x.payload,typeof g=="function"){p=g.call(m,p,f);break e}p=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,f=typeof g=="function"?g.call(m,p,f):g,f==null)break e;p=$e({},p,f);break e;case 2:Vr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=p):d=d.next=m,o|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(1);if(d===null&&(c=p),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);ii|=o,e.lanes=o,e.memoizedState=p}}function Vv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(Q(191,a));a.call(r)}}}var sl={},nr=va(sl),Mo=va(sl),Do=va(sl);function Ua(e){if(e===sl)throw Error(Q(174));return e}function Wh(e,t){switch(je(Do,t),je(Mo,e),je(nr,sl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Af(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Af(t,e)}Ce(nr),je(nr,t)}function rs(){Ce(nr),Ce(Mo),Ce(Do)}function dj(e){Ua(Do.current);var t=Ua(nr.current),n=Af(t,e.type);t!==n&&(je(Mo,e),je(nr,n))}function qh(e){Mo.current===e&&(Ce(nr),Ce(Mo))}var _e=va(0);function Vc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Op=[];function Kh(){for(var e=0;e<Op.length;e++)Op[e]._workInProgressVersionPrimary=null;Op.length=0}var xc=Tr.ReactCurrentDispatcher,Tp=Tr.ReactCurrentBatchConfig,ai=0,De=null,Xe=null,st=null,Hc=!1,mo=!1,$o=0,fO=0;function Nt(){throw Error(Q(321))}function Vh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wn(e[n],t[n]))return!1;return!0}function Hh(e,t,n,r,a,i){if(ai=i,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xc.current=e===null||e.memoizedState===null?xO:vO,e=n(r,a),mo){i=0;do{if(mo=!1,$o=0,25<=i)throw Error(Q(301));i+=1,st=Xe=null,t.updateQueue=null,xc.current=yO,e=n(r,a)}while(mo)}if(xc.current=Qc,t=Xe!==null&&Xe.next!==null,ai=0,st=Xe=De=null,Hc=!1,t)throw Error(Q(300));return e}function Qh(){var e=$o!==0;return $o=0,e}function Gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?De.memoizedState=st=e:st=st.next=e,st}function An(){if(Xe===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var t=st===null?De.memoizedState:st.next;if(t!==null)st=t,Xe=e;else{if(e===null)throw Error(Q(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},st===null?De.memoizedState=st=e:st=st.next=e}return st}function Io(e,t){return typeof t=="function"?t(e):t}function _p(e){var t=An(),n=t.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=e;var r=Xe,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((ai&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=p,o=r):c=c.next=p,De.lanes|=d,ii|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,Wn(r,t.memoizedState)||(Bt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,De.lanes|=i,ii|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Mp(e){var t=An(),n=t.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Wn(i,t.memoizedState)||(Bt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function pj(){}function fj(e,t){var n=De,r=An(),a=t(),i=!Wn(r.memoizedState,a);if(i&&(r.memoizedState=a,Bt=!0),r=r.queue,Yh(gj.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||st!==null&&st.memoizedState.tag&1){if(n.flags|=2048,Ro(9,hj.bind(null,n,r,a,t),void 0,null),lt===null)throw Error(Q(349));ai&30||mj(n,t,a)}return a}function mj(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function hj(e,t,n,r){t.value=n,t.getSnapshot=r,xj(t)&&vj(e)}function gj(e,t,n){return n(function(){xj(t)&&vj(e)})}function xj(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wn(e,n)}catch{return!0}}function vj(e){var t=Sr(e,1);t!==null&&Un(t,e,1,-1)}function Hv(e){var t=Gn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=gO.bind(null,De,e),[t.memoizedState,e]}function Ro(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function yj(){return An().memoizedState}function vc(e,t,n,r){var a=Gn();De.flags|=e,a.memoizedState=Ro(1|t,n,void 0,r===void 0?null:r)}function nd(e,t,n,r){var a=An();r=r===void 0?null:r;var i=void 0;if(Xe!==null){var o=Xe.memoizedState;if(i=o.destroy,r!==null&&Vh(r,o.deps)){a.memoizedState=Ro(t,n,i,r);return}}De.flags|=e,a.memoizedState=Ro(1|t,n,i,r)}function Qv(e,t){return vc(8390656,8,e,t)}function Yh(e,t){return nd(2048,8,e,t)}function bj(e,t){return nd(4,2,e,t)}function wj(e,t){return nd(4,4,e,t)}function jj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nj(e,t,n){return n=n!=null?n.concat([e]):null,nd(4,4,jj.bind(null,t,e),n)}function Gh(){}function kj(e,t){var n=An();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Sj(e,t){var n=An();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Cj(e,t,n){return ai&21?(Wn(n,t)||(n=T1(),De.lanes|=n,ii|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Bt=!0),e.memoizedState=n)}function mO(e,t){var n=ge;ge=n!==0&&4>n?n:4,e(!0);var r=Tp.transition;Tp.transition={};try{e(!1),t()}finally{ge=n,Tp.transition=r}}function Pj(){return An().memoizedState}function hO(e,t,n){var r=la(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Aj(e))Ej(t,n);else if(n=cj(e,t,n,r),n!==null){var a=It();Un(n,e,r,a),Oj(n,t,r)}}function gO(e,t,n){var r=la(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Aj(e))Ej(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,Wn(l,o)){var c=t.interleaved;c===null?(a.next=a,Bh(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=cj(e,t,a,r),n!==null&&(a=It(),Un(n,e,r,a),Oj(n,t,r))}}function Aj(e){var t=e.alternate;return e===De||t!==null&&t===De}function Ej(e,t){mo=Hc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Oj(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ph(e,n)}}var Qc={readContext:Pn,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},xO={readContext:Pn,useCallback:function(e,t){return Gn().memoizedState=[e,t===void 0?null:t],e},useContext:Pn,useEffect:Qv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,vc(4194308,4,jj.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vc(4194308,4,e,t)},useInsertionEffect:function(e,t){return vc(4,2,e,t)},useMemo:function(e,t){var n=Gn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Gn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=hO.bind(null,De,e),[r.memoizedState,e]},useRef:function(e){var t=Gn();return e={current:e},t.memoizedState=e},useState:Hv,useDebugValue:Gh,useDeferredValue:function(e){return Gn().memoizedState=e},useTransition:function(){var e=Hv(!1),t=e[0];return e=mO.bind(null,e[1]),Gn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=De,a=Gn();if(Ae){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=t(),lt===null)throw Error(Q(349));ai&30||mj(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Qv(gj.bind(null,r,i,e),[e]),r.flags|=2048,Ro(9,hj.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Gn(),t=lt.identifierPrefix;if(Ae){var n=hr,r=mr;n=(r&~(1<<32-Bn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=$o++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=fO++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vO={readContext:Pn,useCallback:kj,useContext:Pn,useEffect:Yh,useImperativeHandle:Nj,useInsertionEffect:bj,useLayoutEffect:wj,useMemo:Sj,useReducer:_p,useRef:yj,useState:function(){return _p(Io)},useDebugValue:Gh,useDeferredValue:function(e){var t=An();return Cj(t,Xe.memoizedState,e)},useTransition:function(){var e=_p(Io)[0],t=An().memoizedState;return[e,t]},useMutableSource:pj,useSyncExternalStore:fj,useId:Pj,unstable_isNewReconciler:!1},yO={readContext:Pn,useCallback:kj,useContext:Pn,useEffect:Yh,useImperativeHandle:Nj,useInsertionEffect:bj,useLayoutEffect:wj,useMemo:Sj,useReducer:Mp,useRef:yj,useState:function(){return Mp(Io)},useDebugValue:Gh,useDeferredValue:function(e){var t=An();return Xe===null?t.memoizedState=e:Cj(t,Xe.memoizedState,e)},useTransition:function(){var e=Mp(Io)[0],t=An().memoizedState;return[e,t]},useMutableSource:pj,useSyncExternalStore:fj,useId:Pj,unstable_isNewReconciler:!1};function $n(e,t){if(e&&e.defaultProps){t=$e({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Yf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:$e({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var rd={isMounted:function(e){return(e=e._reactInternals)?mi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=It(),a=la(e),i=br(r,a);i.payload=t,n!=null&&(i.callback=n),t=sa(e,i,a),t!==null&&(Un(t,e,a,r),gc(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=It(),a=la(e),i=br(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=sa(e,i,a),t!==null&&(Un(t,e,a,r),gc(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=It(),r=la(e),a=br(n,r);a.tag=2,t!=null&&(a.callback=t),t=sa(e,a,r),t!==null&&(Un(t,e,r,n),gc(t,e,r))}};function Yv(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Eo(n,r)||!Eo(a,i):!0}function Tj(e,t,n){var r=!1,a=fa,i=t.contextType;return typeof i=="object"&&i!==null?i=Pn(i):(a=Kt(t)?ni:Ot.current,r=t.contextTypes,i=(r=r!=null)?es(e,a):fa),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=rd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Gv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&rd.enqueueReplaceState(t,t.state,null)}function Gf(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Uh(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Pn(i):(i=Kt(t)?ni:Ot.current,a.context=es(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Yf(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&rd.enqueueReplaceState(a,a.state,null),Kc(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function as(e,t){try{var n="",r=t;do n+=HA(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Dp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Xf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var bO=typeof WeakMap=="function"?WeakMap:Map;function _j(e,t,n){n=br(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gc||(Gc=!0,om=r),Xf(e,t)},n}function Mj(e,t,n){n=br(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){Xf(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Xf(e,t),typeof r!="function"&&(oa===null?oa=new Set([this]):oa.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Xv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new bO;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=DO.bind(null,e,t,n),t.then(e,e))}function Zv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Jv(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=br(-1,1),t.tag=2,sa(n,t,1))),n.lanes|=1),e)}var wO=Tr.ReactCurrentOwner,Bt=!1;function Mt(e,t,n,r){t.child=e===null?lj(t,null,n,r):ns(t,e.child,n,r)}function ey(e,t,n,r,a){n=n.render;var i=t.ref;return Yi(t,a),r=Hh(e,t,n,r,i,a),n=Qh(),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Cr(e,t,a)):(Ae&&n&&$h(t),t.flags|=1,Mt(e,t,r,a),t.child)}function ty(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!ag(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Dj(e,t,i,r,a)):(e=jc(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Eo,n(o,r)&&e.ref===t.ref)return Cr(e,t,a)}return t.flags|=1,e=ca(i,r),e.ref=t.ref,e.return=t,t.child=e}function Dj(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(Eo(i,r)&&e.ref===t.ref)if(Bt=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(Bt=!0);else return t.lanes=e.lanes,Cr(e,t,a)}return Zf(e,t,n,r,a)}function $j(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Wi,Jt),Jt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(Wi,Jt),Jt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,je(Wi,Jt),Jt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,je(Wi,Jt),Jt|=r;return Mt(e,t,a,n),t.child}function Ij(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Zf(e,t,n,r,a){var i=Kt(n)?ni:Ot.current;return i=es(t,i),Yi(t,a),n=Hh(e,t,n,r,i,a),r=Qh(),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Cr(e,t,a)):(Ae&&r&&$h(t),t.flags|=1,Mt(e,t,n,a),t.child)}function ny(e,t,n,r,a){if(Kt(n)){var i=!0;zc(t)}else i=!1;if(Yi(t,a),t.stateNode===null)yc(e,t),Tj(t,n,r),Gf(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Pn(u):(u=Kt(n)?ni:Ot.current,u=es(t,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Gv(t,o,r,u),Vr=!1;var f=t.memoizedState;o.state=f,Kc(t,r,o,a),c=t.memoizedState,l!==r||f!==c||qt.current||Vr?(typeof d=="function"&&(Yf(t,n,d,r),c=t.memoizedState),(l=Vr||Yv(t,n,l,r,f,c,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,uj(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:$n(t.type,l),o.props=u,p=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Pn(c):(c=Kt(n)?ni:Ot.current,c=es(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||f!==c)&&Gv(t,o,r,c),Vr=!1,f=t.memoizedState,o.state=f,Kc(t,r,o,a);var g=t.memoizedState;l!==p||f!==g||qt.current||Vr?(typeof m=="function"&&(Yf(t,n,m,r),g=t.memoizedState),(u=Vr||Yv(t,n,u,r,f,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Jf(e,t,n,r,i,a)}function Jf(e,t,n,r,a,i){Ij(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&Bv(t,n,!1),Cr(e,t,i);r=t.stateNode,wO.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ns(t,e.child,null,i),t.child=ns(t,null,l,i)):Mt(e,t,l,i),t.memoizedState=r.state,a&&Bv(t,n,!0),t.child}function Rj(e){var t=e.stateNode;t.pendingContext?zv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zv(e,t.context,!1),Wh(e,t.containerInfo)}function ry(e,t,n,r,a){return ts(),Rh(a),t.flags|=256,Mt(e,t,n,r),t.child}var em={dehydrated:null,treeContext:null,retryLane:0};function tm(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lj(e,t,n){var r=t.pendingProps,a=_e.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),je(_e,a&1),e===null)return Hf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=sd(o,r,0,null),e=Ya(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=tm(n),t.memoizedState=em,e):Xh(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return jO(e,t,o,r,l,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=ca(a,c),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=ca(l,i):(i=Ya(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?tm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=em,r}return i=e.child,e=i.sibling,r=ca(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Xh(e,t){return t=sd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fl(e,t,n,r){return r!==null&&Rh(r),ns(t,e.child,null,n),e=Xh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jO(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Dp(Error(Q(422))),Fl(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=sd({mode:"visible",children:r.children},a,0,null),i=Ya(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&ns(t,e.child,null,o),t.child.memoizedState=tm(o),t.memoizedState=em,i);if(!(t.mode&1))return Fl(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(Q(419)),r=Dp(i,r,void 0),Fl(e,t,o,r)}if(l=(o&e.childLanes)!==0,Bt||l){if(r=lt,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Sr(e,a),Un(r,e,a,-1))}return rg(),r=Dp(Error(Q(421))),Fl(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=$O.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,an=ia(a.nextSibling),sn=t,Ae=!0,Rn=null,e!==null&&(bn[wn++]=mr,bn[wn++]=hr,bn[wn++]=ri,mr=e.id,hr=e.overflow,ri=t),t=Xh(t,r.children),t.flags|=4096,t)}function ay(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Qf(e.return,t,n)}function $p(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Fj(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Mt(e,t,r.children,n),r=_e.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ay(e,n,t);else if(e.tag===19)ay(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(je(_e,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Vc(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),$p(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Vc(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}$p(t,!0,n,null,i);break;case"together":$p(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function yc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Cr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ii|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Q(153));if(t.child!==null){for(e=t.child,n=ca(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ca(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function NO(e,t,n){switch(t.tag){case 3:Rj(t),ts();break;case 5:dj(t);break;case 1:Kt(t.type)&&zc(t);break;case 4:Wh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;je(Wc,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(je(_e,_e.current&1),t.flags|=128,null):n&t.child.childLanes?Lj(e,t,n):(je(_e,_e.current&1),e=Cr(e,t,n),e!==null?e.sibling:null);je(_e,_e.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Fj(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),je(_e,_e.current),r)break;return null;case 22:case 23:return t.lanes=0,$j(e,t,n)}return Cr(e,t,n)}var zj,nm,Bj,Uj;zj=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nm=function(){};Bj=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ua(nr.current);var i=null;switch(n){case"input":a=kf(e,a),r=kf(e,r),i=[];break;case"select":a=$e({},a,{value:void 0}),r=$e({},r,{value:void 0}),i=[];break;case"textarea":a=Pf(e,a),r=Pf(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Lc)}Ef(n,r);var o;n=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(jo.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(jo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ne("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Uj=function(e,t,n,r){n!==r&&(t.flags|=4)};function Bs(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function kt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function kO(e,t,n){var r=t.pendingProps;switch(Ih(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(t),null;case 1:return Kt(t.type)&&Fc(),kt(t),null;case 3:return r=t.stateNode,rs(),Ce(qt),Ce(Ot),Kh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Rl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Rn!==null&&(um(Rn),Rn=null))),nm(e,t),kt(t),null;case 5:qh(t);var a=Ua(Do.current);if(n=t.type,e!==null&&t.stateNode!=null)Bj(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Q(166));return kt(t),null}if(e=Ua(nr.current),Rl(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Jn]=t,r[_o]=i,e=(t.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(a=0;a<ro.length;a++)Ne(ro[a],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":fv(r,i),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ne("invalid",r);break;case"textarea":hv(r,i),Ne("invalid",r)}Ef(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Il(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Il(r.textContent,l,e),a=["children",""+l]):jo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ne("scroll",r)}switch(n){case"input":Al(r),mv(r,i,!0);break;case"textarea":Al(r),gv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Lc)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=g1(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Jn]=t,e[_o]=r,zj(e,t,!1,!1),t.stateNode=e;e:{switch(o=Of(n,r),n){case"dialog":Ne("cancel",e),Ne("close",e),a=r;break;case"iframe":case"object":case"embed":Ne("load",e),a=r;break;case"video":case"audio":for(a=0;a<ro.length;a++)Ne(ro[a],e);a=r;break;case"source":Ne("error",e),a=r;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),a=r;break;case"details":Ne("toggle",e),a=r;break;case"input":fv(e,r),a=kf(e,r),Ne("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=$e({},r,{value:void 0}),Ne("invalid",e);break;case"textarea":hv(e,r),a=Pf(e,r),Ne("invalid",e);break;default:a=r}Ef(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?y1(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&x1(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&No(e,c):typeof c=="number"&&No(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(jo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ne("scroll",e):c!=null&&wh(e,i,c,o))}switch(n){case"input":Al(e),mv(e,r,!1);break;case"textarea":Al(e),gv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+pa(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Ki(e,!!r.multiple,i,!1):r.defaultValue!=null&&Ki(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Lc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return kt(t),null;case 6:if(e&&t.stateNode!=null)Uj(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Q(166));if(n=Ua(Do.current),Ua(nr.current),Rl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Jn]=t,(i=r.nodeValue!==n)&&(e=sn,e!==null))switch(e.tag){case 3:Il(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Il(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jn]=t,t.stateNode=r}return kt(t),null;case 13:if(Ce(_e),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ae&&an!==null&&t.mode&1&&!(t.flags&128))sj(),ts(),t.flags|=98560,i=!1;else if(i=Rl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Q(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Q(317));i[Jn]=t}else ts(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;kt(t),i=!1}else Rn!==null&&(um(Rn),Rn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||_e.current&1?Je===0&&(Je=3):rg())),t.updateQueue!==null&&(t.flags|=4),kt(t),null);case 4:return rs(),nm(e,t),e===null&&Oo(t.stateNode.containerInfo),kt(t),null;case 10:return zh(t.type._context),kt(t),null;case 17:return Kt(t.type)&&Fc(),kt(t),null;case 19:if(Ce(_e),i=t.memoizedState,i===null)return kt(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Bs(i,!1);else{if(Je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Vc(e),o!==null){for(t.flags|=128,Bs(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return je(_e,_e.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ue()>is&&(t.flags|=128,r=!0,Bs(i,!1),t.lanes=4194304)}else{if(!r)if(e=Vc(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Bs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ae)return kt(t),null}else 2*Ue()-i.renderingStartTime>is&&n!==1073741824&&(t.flags|=128,r=!0,Bs(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ue(),t.sibling=null,n=_e.current,je(_e,r?n&1|2:n&1),t):(kt(t),null);case 22:case 23:return ng(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Jt&1073741824&&(kt(t),t.subtreeFlags&6&&(t.flags|=8192)):kt(t),null;case 24:return null;case 25:return null}throw Error(Q(156,t.tag))}function SO(e,t){switch(Ih(t),t.tag){case 1:return Kt(t.type)&&Fc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return rs(),Ce(qt),Ce(Ot),Kh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qh(t),null;case 13:if(Ce(_e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Q(340));ts()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(_e),null;case 4:return rs(),null;case 10:return zh(t.type._context),null;case 22:case 23:return ng(),null;case 24:return null;default:return null}}var zl=!1,Pt=!1,CO=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Ui(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Re(e,t,r)}else n.current=null}function rm(e,t,n){try{n()}catch(r){Re(e,t,r)}}var iy=!1;function PO(e,t){if(zf=$c,e=H1(),Dh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,p=e,f=null;t:for(;;){for(var m;p!==n||a!==0&&p.nodeType!==3||(l=o+a),p!==i||r!==0&&p.nodeType!==3||(c=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(m=p.firstChild)!==null;)f=p,p=m;for(;;){if(p===e)break t;if(f===n&&++u===a&&(l=o),f===i&&++d===r&&(c=o),(m=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bf={focusedElem:e,selectionRange:n},$c=!1,ee=t;ee!==null;)if(t=ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ee=e;else for(;ee!==null;){t=ee;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,w=g.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?x:$n(t.type,x),w);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(j){Re(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,ee=e;break}ee=t.return}return g=iy,iy=!1,g}function ho(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&rm(t,n,i)}a=a.next}while(a!==r)}}function ad(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function am(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Wj(e){var t=e.alternate;t!==null&&(e.alternate=null,Wj(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jn],delete t[_o],delete t[qf],delete t[cO],delete t[uO])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function qj(e){return e.tag===5||e.tag===3||e.tag===4}function sy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function im(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Lc));else if(r!==4&&(e=e.child,e!==null))for(im(e,t,n),e=e.sibling;e!==null;)im(e,t,n),e=e.sibling}function sm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(sm(e,t,n),e=e.sibling;e!==null;)sm(e,t,n),e=e.sibling}var gt=null,In=!1;function Br(e,t,n){for(n=n.child;n!==null;)Kj(e,t,n),n=n.sibling}function Kj(e,t,n){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(Gu,n)}catch{}switch(n.tag){case 5:Pt||Ui(n,t);case 6:var r=gt,a=In;gt=null,Br(e,t,n),gt=r,In=a,gt!==null&&(In?(e=gt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):gt.removeChild(n.stateNode));break;case 18:gt!==null&&(In?(e=gt,n=n.stateNode,e.nodeType===8?Ap(e.parentNode,n):e.nodeType===1&&Ap(e,n),Po(e)):Ap(gt,n.stateNode));break;case 4:r=gt,a=In,gt=n.stateNode.containerInfo,In=!0,Br(e,t,n),gt=r,In=a;break;case 0:case 11:case 14:case 15:if(!Pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&rm(n,t,o),a=a.next}while(a!==r)}Br(e,t,n);break;case 1:if(!Pt&&(Ui(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Re(n,t,l)}Br(e,t,n);break;case 21:Br(e,t,n);break;case 22:n.mode&1?(Pt=(r=Pt)||n.memoizedState!==null,Br(e,t,n),Pt=r):Br(e,t,n);break;default:Br(e,t,n)}}function oy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new CO),t.forEach(function(r){var a=IO.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function _n(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:gt=l.stateNode,In=!1;break e;case 3:gt=l.stateNode.containerInfo,In=!0;break e;case 4:gt=l.stateNode.containerInfo,In=!0;break e}l=l.return}if(gt===null)throw Error(Q(160));Kj(i,o,a),gt=null,In=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Re(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Vj(t,e),t=t.sibling}function Vj(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_n(t,e),Qn(e),r&4){try{ho(3,e,e.return),ad(3,e)}catch(x){Re(e,e.return,x)}try{ho(5,e,e.return)}catch(x){Re(e,e.return,x)}}break;case 1:_n(t,e),Qn(e),r&512&&n!==null&&Ui(n,n.return);break;case 5:if(_n(t,e),Qn(e),r&512&&n!==null&&Ui(n,n.return),e.flags&32){var a=e.stateNode;try{No(a,"")}catch(x){Re(e,e.return,x)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&m1(a,i),Of(l,o);var u=Of(l,i);for(o=0;o<c.length;o+=2){var d=c[o],p=c[o+1];d==="style"?y1(a,p):d==="dangerouslySetInnerHTML"?x1(a,p):d==="children"?No(a,p):wh(a,d,p,u)}switch(l){case"input":Sf(a,i);break;case"textarea":h1(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Ki(a,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ki(a,!!i.multiple,i.defaultValue,!0):Ki(a,!!i.multiple,i.multiple?[]:"",!1))}a[_o]=i}catch(x){Re(e,e.return,x)}}break;case 6:if(_n(t,e),Qn(e),r&4){if(e.stateNode===null)throw Error(Q(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(x){Re(e,e.return,x)}}break;case 3:if(_n(t,e),Qn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Po(t.containerInfo)}catch(x){Re(e,e.return,x)}break;case 4:_n(t,e),Qn(e);break;case 13:_n(t,e),Qn(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(eg=Ue())),r&4&&oy(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Pt=(u=Pt)||d,_n(t,e),Pt=u):_n(t,e),Qn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ee=e,d=e.child;d!==null;){for(p=ee=d;ee!==null;){switch(f=ee,m=f.child,f.tag){case 0:case 11:case 14:case 15:ho(4,f,f.return);break;case 1:Ui(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(x){Re(r,n,x)}}break;case 5:Ui(f,f.return);break;case 22:if(f.memoizedState!==null){cy(p);continue}}m!==null?(m.return=f,ee=m):cy(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{a=p.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=v1("display",o))}catch(x){Re(e,e.return,x)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(x){Re(e,e.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:_n(t,e),Qn(e),r&4&&oy(e);break;case 21:break;default:_n(t,e),Qn(e)}}function Qn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(qj(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(No(a,""),r.flags&=-33);var i=sy(e);sm(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,l=sy(e);im(e,l,o);break;default:throw Error(Q(161))}}catch(c){Re(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function AO(e,t,n){ee=e,Hj(e)}function Hj(e,t,n){for(var r=(e.mode&1)!==0;ee!==null;){var a=ee,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||zl;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Pt;l=zl;var u=Pt;if(zl=o,(Pt=c)&&!u)for(ee=a;ee!==null;)o=ee,c=o.child,o.tag===22&&o.memoizedState!==null?uy(a):c!==null?(c.return=o,ee=c):uy(a);for(;i!==null;)ee=i,Hj(i),i=i.sibling;ee=a,zl=l,Pt=u}ly(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,ee=i):ly(e)}}function ly(e){for(;ee!==null;){var t=ee;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pt||ad(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Pt)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:$n(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Vv(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Vv(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Po(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Pt||t.flags&512&&am(t)}catch(f){Re(t,t.return,f)}}if(t===e){ee=null;break}if(n=t.sibling,n!==null){n.return=t.return,ee=n;break}ee=t.return}}function cy(e){for(;ee!==null;){var t=ee;if(t===e){ee=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ee=n;break}ee=t.return}}function uy(e){for(;ee!==null;){var t=ee;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ad(4,t)}catch(c){Re(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){Re(t,a,c)}}var i=t.return;try{am(t)}catch(c){Re(t,i,c)}break;case 5:var o=t.return;try{am(t)}catch(c){Re(t,o,c)}}}catch(c){Re(t,t.return,c)}if(t===e){ee=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ee=l;break}ee=t.return}}var EO=Math.ceil,Yc=Tr.ReactCurrentDispatcher,Zh=Tr.ReactCurrentOwner,Cn=Tr.ReactCurrentBatchConfig,ue=0,lt=null,He=null,bt=0,Jt=0,Wi=va(0),Je=0,Lo=null,ii=0,id=0,Jh=0,go=null,zt=null,eg=0,is=1/0,ur=null,Gc=!1,om=null,oa=null,Bl=!1,ea=null,Xc=0,xo=0,lm=null,bc=-1,wc=0;function It(){return ue&6?Ue():bc!==-1?bc:bc=Ue()}function la(e){return e.mode&1?ue&2&&bt!==0?bt&-bt:pO.transition!==null?(wc===0&&(wc=T1()),wc):(e=ge,e!==0||(e=window.event,e=e===void 0?16:L1(e.type)),e):1}function Un(e,t,n,r){if(50<xo)throw xo=0,lm=null,Error(Q(185));rl(e,n,r),(!(ue&2)||e!==lt)&&(e===lt&&(!(ue&2)&&(id|=n),Je===4&&Xr(e,bt)),Vt(e,r),n===1&&ue===0&&!(t.mode&1)&&(is=Ue()+500,td&&ya()))}function Vt(e,t){var n=e.callbackNode;pE(e,t);var r=Dc(e,e===lt?bt:0);if(r===0)n!==null&&yv(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&yv(n),t===1)e.tag===0?dO(dy.bind(null,e)):rj(dy.bind(null,e)),oO(function(){!(ue&6)&&ya()}),n=null;else{switch(_1(r)){case 1:n=Ch;break;case 4:n=E1;break;case 16:n=Mc;break;case 536870912:n=O1;break;default:n=Mc}n=tN(n,Qj.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Qj(e,t){if(bc=-1,wc=0,ue&6)throw Error(Q(327));var n=e.callbackNode;if(Gi()&&e.callbackNode!==n)return null;var r=Dc(e,e===lt?bt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Zc(e,r);else{t=r;var a=ue;ue|=2;var i=Gj();(lt!==e||bt!==t)&&(ur=null,is=Ue()+500,Qa(e,t));do try{_O();break}catch(l){Yj(e,l)}while(1);Fh(),Yc.current=i,ue=a,He!==null?t=0:(lt=null,bt=0,t=Je)}if(t!==0){if(t===2&&(a=$f(e),a!==0&&(r=a,t=cm(e,a))),t===1)throw n=Lo,Qa(e,0),Xr(e,r),Vt(e,Ue()),n;if(t===6)Xr(e,r);else{if(a=e.current.alternate,!(r&30)&&!OO(a)&&(t=Zc(e,r),t===2&&(i=$f(e),i!==0&&(r=i,t=cm(e,i))),t===1))throw n=Lo,Qa(e,0),Xr(e,r),Vt(e,Ue()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(Q(345));case 2:$a(e,zt,ur);break;case 3:if(Xr(e,r),(r&130023424)===r&&(t=eg+500-Ue(),10<t)){if(Dc(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){It(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Wf($a.bind(null,e,zt,ur),t);break}$a(e,zt,ur);break;case 4:if(Xr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-Bn(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=Ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*EO(r/1960))-r,10<r){e.timeoutHandle=Wf($a.bind(null,e,zt,ur),r);break}$a(e,zt,ur);break;case 5:$a(e,zt,ur);break;default:throw Error(Q(329))}}}return Vt(e,Ue()),e.callbackNode===n?Qj.bind(null,e):null}function cm(e,t){var n=go;return e.current.memoizedState.isDehydrated&&(Qa(e,t).flags|=256),e=Zc(e,t),e!==2&&(t=zt,zt=n,t!==null&&um(t)),e}function um(e){zt===null?zt=e:zt.push.apply(zt,e)}function OO(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Wn(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xr(e,t){for(t&=~Jh,t&=~id,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Bn(t),r=1<<n;e[n]=-1,t&=~r}}function dy(e){if(ue&6)throw Error(Q(327));Gi();var t=Dc(e,0);if(!(t&1))return Vt(e,Ue()),null;var n=Zc(e,t);if(e.tag!==0&&n===2){var r=$f(e);r!==0&&(t=r,n=cm(e,r))}if(n===1)throw n=Lo,Qa(e,0),Xr(e,t),Vt(e,Ue()),n;if(n===6)throw Error(Q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$a(e,zt,ur),Vt(e,Ue()),null}function tg(e,t){var n=ue;ue|=1;try{return e(t)}finally{ue=n,ue===0&&(is=Ue()+500,td&&ya())}}function si(e){ea!==null&&ea.tag===0&&!(ue&6)&&Gi();var t=ue;ue|=1;var n=Cn.transition,r=ge;try{if(Cn.transition=null,ge=1,e)return e()}finally{ge=r,Cn.transition=n,ue=t,!(ue&6)&&ya()}}function ng(){Jt=Wi.current,Ce(Wi)}function Qa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,sO(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(Ih(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fc();break;case 3:rs(),Ce(qt),Ce(Ot),Kh();break;case 5:qh(r);break;case 4:rs();break;case 13:Ce(_e);break;case 19:Ce(_e);break;case 10:zh(r.type._context);break;case 22:case 23:ng()}n=n.return}if(lt=e,He=e=ca(e.current,null),bt=Jt=t,Je=0,Lo=null,Jh=id=ii=0,zt=go=null,Ba!==null){for(t=0;t<Ba.length;t++)if(n=Ba[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}Ba=null}return e}function Yj(e,t){do{var n=He;try{if(Fh(),xc.current=Qc,Hc){for(var r=De.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Hc=!1}if(ai=0,st=Xe=De=null,mo=!1,$o=0,Zh.current=null,n===null||n.return===null){Je=1,Lo=t,He=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=bt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Zv(o);if(m!==null){m.flags&=-257,Jv(m,o,l,i,t),m.mode&1&&Xv(i,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var x=new Set;x.add(c),t.updateQueue=x}else g.add(c);break e}else{if(!(t&1)){Xv(i,u,t),rg();break e}c=Error(Q(426))}}else if(Ae&&l.mode&1){var w=Zv(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Jv(w,o,l,i,t),Rh(as(c,l));break e}}i=c=as(c,l),Je!==4&&(Je=2),go===null?go=[i]:go.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=_j(i,c,t);Kv(i,v);break e;case 1:l=c;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(oa===null||!oa.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=Mj(i,l,t);Kv(i,j);break e}}i=i.return}while(i!==null)}Zj(n)}catch(S){t=S,He===n&&n!==null&&(He=n=n.return);continue}break}while(1)}function Gj(){var e=Yc.current;return Yc.current=Qc,e===null?Qc:e}function rg(){(Je===0||Je===3||Je===2)&&(Je=4),lt===null||!(ii&268435455)&&!(id&268435455)||Xr(lt,bt)}function Zc(e,t){var n=ue;ue|=2;var r=Gj();(lt!==e||bt!==t)&&(ur=null,Qa(e,t));do try{TO();break}catch(a){Yj(e,a)}while(1);if(Fh(),ue=n,Yc.current=r,He!==null)throw Error(Q(261));return lt=null,bt=0,Je}function TO(){for(;He!==null;)Xj(He)}function _O(){for(;He!==null&&!rE();)Xj(He)}function Xj(e){var t=eN(e.alternate,e,Jt);e.memoizedProps=e.pendingProps,t===null?Zj(e):He=t,Zh.current=null}function Zj(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=SO(n,t),n!==null){n.flags&=32767,He=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Je=6,He=null;return}}else if(n=kO(n,t,Jt),n!==null){He=n;return}if(t=t.sibling,t!==null){He=t;return}He=t=e}while(t!==null);Je===0&&(Je=5)}function $a(e,t,n){var r=ge,a=Cn.transition;try{Cn.transition=null,ge=1,MO(e,t,n,r)}finally{Cn.transition=a,ge=r}return null}function MO(e,t,n,r){do Gi();while(ea!==null);if(ue&6)throw Error(Q(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Q(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(fE(e,i),e===lt&&(He=lt=null,bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bl||(Bl=!0,tN(Mc,function(){return Gi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Cn.transition,Cn.transition=null;var o=ge;ge=1;var l=ue;ue|=4,Zh.current=null,PO(e,n),Vj(n,e),JE(Bf),$c=!!zf,Bf=zf=null,e.current=n,AO(n),aE(),ue=l,ge=o,Cn.transition=i}else e.current=n;if(Bl&&(Bl=!1,ea=e,Xc=a),i=e.pendingLanes,i===0&&(oa=null),oE(n.stateNode),Vt(e,Ue()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Gc)throw Gc=!1,e=om,om=null,e;return Xc&1&&e.tag!==0&&Gi(),i=e.pendingLanes,i&1?e===lm?xo++:(xo=0,lm=e):xo=0,ya(),null}function Gi(){if(ea!==null){var e=_1(Xc),t=Cn.transition,n=ge;try{if(Cn.transition=null,ge=16>e?16:e,ea===null)var r=!1;else{if(e=ea,ea=null,Xc=0,ue&6)throw Error(Q(331));var a=ue;for(ue|=4,ee=e.current;ee!==null;){var i=ee,o=i.child;if(ee.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ee=u;ee!==null;){var d=ee;switch(d.tag){case 0:case 11:case 15:ho(8,d,i)}var p=d.child;if(p!==null)p.return=d,ee=p;else for(;ee!==null;){d=ee;var f=d.sibling,m=d.return;if(Wj(d),d===u){ee=null;break}if(f!==null){f.return=m,ee=f;break}ee=m}}}var g=i.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}ee=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ee=o;else e:for(;ee!==null;){if(i=ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ho(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,ee=v;break e}ee=i.return}}var y=e.current;for(ee=y;ee!==null;){o=ee;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ee=b;else e:for(o=y;ee!==null;){if(l=ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ad(9,l)}}catch(S){Re(l,l.return,S)}if(l===o){ee=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,ee=j;break e}ee=l.return}}if(ue=a,ya(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(Gu,e)}catch{}r=!0}return r}finally{ge=n,Cn.transition=t}}return!1}function py(e,t,n){t=as(n,t),t=_j(e,t,1),e=sa(e,t,1),t=It(),e!==null&&(rl(e,1,t),Vt(e,t))}function Re(e,t,n){if(e.tag===3)py(e,e,n);else for(;t!==null;){if(t.tag===3){py(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(oa===null||!oa.has(r))){e=as(n,e),e=Mj(t,e,1),t=sa(t,e,1),e=It(),t!==null&&(rl(t,1,e),Vt(t,e));break}}t=t.return}}function DO(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=It(),e.pingedLanes|=e.suspendedLanes&n,lt===e&&(bt&n)===n&&(Je===4||Je===3&&(bt&130023424)===bt&&500>Ue()-eg?Qa(e,0):Jh|=n),Vt(e,t)}function Jj(e,t){t===0&&(e.mode&1?(t=Tl,Tl<<=1,!(Tl&130023424)&&(Tl=4194304)):t=1);var n=It();e=Sr(e,t),e!==null&&(rl(e,t,n),Vt(e,n))}function $O(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Jj(e,n)}function IO(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(t),Jj(e,n)}var eN;eN=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||qt.current)Bt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Bt=!1,NO(e,t,n);Bt=!!(e.flags&131072)}else Bt=!1,Ae&&t.flags&1048576&&aj(t,Uc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;yc(e,t),e=t.pendingProps;var a=es(t,Ot.current);Yi(t,n),a=Hh(null,t,r,e,a,n);var i=Qh();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Kt(r)?(i=!0,zc(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Uh(t),a.updater=rd,t.stateNode=a,a._reactInternals=t,Gf(t,r,e,n),t=Jf(null,t,r,!0,i,n)):(t.tag=0,Ae&&i&&$h(t),Mt(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(yc(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=LO(r),e=$n(r,e),a){case 0:t=Zf(null,t,r,e,n);break e;case 1:t=ny(null,t,r,e,n);break e;case 11:t=ey(null,t,r,e,n);break e;case 14:t=ty(null,t,r,$n(r.type,e),n);break e}throw Error(Q(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:$n(r,a),Zf(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:$n(r,a),ny(e,t,r,a,n);case 3:e:{if(Rj(t),e===null)throw Error(Q(387));r=t.pendingProps,i=t.memoizedState,a=i.element,uj(e,t),Kc(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=as(Error(Q(423)),t),t=ry(e,t,r,n,a);break e}else if(r!==a){a=as(Error(Q(424)),t),t=ry(e,t,r,n,a);break e}else for(an=ia(t.stateNode.containerInfo.firstChild),sn=t,Ae=!0,Rn=null,n=lj(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ts(),r===a){t=Cr(e,t,n);break e}Mt(e,t,r,n)}t=t.child}return t;case 5:return dj(t),e===null&&Hf(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Uf(r,a)?o=null:i!==null&&Uf(r,i)&&(t.flags|=32),Ij(e,t),Mt(e,t,o,n),t.child;case 6:return e===null&&Hf(t),null;case 13:return Lj(e,t,n);case 4:return Wh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ns(t,null,r,n):Mt(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:$n(r,a),ey(e,t,r,a,n);case 7:return Mt(e,t,t.pendingProps,n),t.child;case 8:return Mt(e,t,t.pendingProps.children,n),t.child;case 12:return Mt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,je(Wc,r._currentValue),r._currentValue=o,i!==null)if(Wn(i.value,o)){if(i.children===a.children&&!qt.current){t=Cr(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=br(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Qf(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Q(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Qf(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Mt(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Yi(t,n),a=Pn(a),r=r(a),t.flags|=1,Mt(e,t,r,n),t.child;case 14:return r=t.type,a=$n(r,t.pendingProps),a=$n(r.type,a),ty(e,t,r,a,n);case 15:return Dj(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:$n(r,a),yc(e,t),t.tag=1,Kt(r)?(e=!0,zc(t)):e=!1,Yi(t,n),Tj(t,r,a),Gf(t,r,a,n),Jf(null,t,r,!0,e,n);case 19:return Fj(e,t,n);case 22:return $j(e,t,n)}throw Error(Q(156,t.tag))};function tN(e,t){return A1(e,t)}function RO(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(e,t,n,r){return new RO(e,t,n,r)}function ag(e){return e=e.prototype,!(!e||!e.isReactComponent)}function LO(e){if(typeof e=="function")return ag(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Nh)return 11;if(e===kh)return 14}return 2}function ca(e,t){var n=e.alternate;return n===null?(n=Nn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jc(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")ag(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Mi:return Ya(n.children,a,i,t);case jh:o=8,a|=8;break;case bf:return e=Nn(12,n,t,a|2),e.elementType=bf,e.lanes=i,e;case wf:return e=Nn(13,n,t,a),e.elementType=wf,e.lanes=i,e;case jf:return e=Nn(19,n,t,a),e.elementType=jf,e.lanes=i,e;case d1:return sd(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case c1:o=10;break e;case u1:o=9;break e;case Nh:o=11;break e;case kh:o=14;break e;case Kr:o=16,r=null;break e}throw Error(Q(130,e==null?e:typeof e,""))}return t=Nn(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function Ya(e,t,n,r){return e=Nn(7,e,r,t),e.lanes=n,e}function sd(e,t,n,r){return e=Nn(22,e,r,t),e.elementType=d1,e.lanes=n,e.stateNode={isHidden:!1},e}function Ip(e,t,n){return e=Nn(6,e,null,t),e.lanes=n,e}function Rp(e,t,n){return t=Nn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function FO(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xp(0),this.expirationTimes=xp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xp(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function ig(e,t,n,r,a,i,o,l,c){return e=new FO(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Nn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uh(i),e}function zO(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_i,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function nN(e){if(!e)return fa;e=e._reactInternals;e:{if(mi(e)!==e||e.tag!==1)throw Error(Q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Kt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Q(171))}if(e.tag===1){var n=e.type;if(Kt(n))return nj(e,n,t)}return t}function rN(e,t,n,r,a,i,o,l,c){return e=ig(n,r,!0,e,a,i,o,l,c),e.context=nN(null),n=e.current,r=It(),a=la(n),i=br(r,a),i.callback=t??null,sa(n,i,a),e.current.lanes=a,rl(e,a,r),Vt(e,r),e}function od(e,t,n,r){var a=t.current,i=It(),o=la(a);return n=nN(n),t.context===null?t.context=n:t.pendingContext=n,t=br(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=sa(a,t,o),e!==null&&(Un(e,a,o,i),gc(e,a,o)),o}function Jc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function sg(e,t){fy(e,t),(e=e.alternate)&&fy(e,t)}function BO(){return null}var aN=typeof reportError=="function"?reportError:function(e){console.error(e)};function og(e){this._internalRoot=e}ld.prototype.render=og.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Q(409));od(e,t,null,null)};ld.prototype.unmount=og.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;si(function(){od(null,e,null,null)}),t[kr]=null}};function ld(e){this._internalRoot=e}ld.prototype.unstable_scheduleHydration=function(e){if(e){var t=$1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Gr.length&&t!==0&&t<Gr[n].priority;n++);Gr.splice(n,0,e),n===0&&R1(e)}};function lg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function cd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function my(){}function UO(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var u=Jc(o);i.call(u)}}var o=rN(t,r,e,0,null,!1,!1,"",my);return e._reactRootContainer=o,e[kr]=o.current,Oo(e.nodeType===8?e.parentNode:e),si(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var u=Jc(c);l.call(u)}}var c=ig(e,0,!1,null,null,!1,!1,"",my);return e._reactRootContainer=c,e[kr]=c.current,Oo(e.nodeType===8?e.parentNode:e),si(function(){od(t,c,n,r)}),c}function ud(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Jc(o);l.call(c)}}od(t,o,e,a)}else o=UO(n,t,e,a,r);return Jc(o)}M1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=no(t.pendingLanes);n!==0&&(Ph(t,n|1),Vt(t,Ue()),!(ue&6)&&(is=Ue()+500,ya()))}break;case 13:si(function(){var r=Sr(e,1);if(r!==null){var a=It();Un(r,e,1,a)}}),sg(e,1)}};Ah=function(e){if(e.tag===13){var t=Sr(e,134217728);if(t!==null){var n=It();Un(t,e,134217728,n)}sg(e,134217728)}};D1=function(e){if(e.tag===13){var t=la(e),n=Sr(e,t);if(n!==null){var r=It();Un(n,e,t,r)}sg(e,t)}};$1=function(){return ge};I1=function(e,t){var n=ge;try{return ge=e,t()}finally{ge=n}};_f=function(e,t,n){switch(t){case"input":if(Sf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=ed(r);if(!a)throw Error(Q(90));f1(r),Sf(r,a)}}}break;case"textarea":h1(e,n);break;case"select":t=n.value,t!=null&&Ki(e,!!n.multiple,t,!1)}};j1=tg;N1=si;var WO={usingClientEntryPoint:!1,Events:[il,Ri,ed,b1,w1,tg]},Us={findFiberByHostInstance:za,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qO={bundleType:Us.bundleType,version:Us.version,rendererPackageName:Us.rendererPackageName,rendererConfig:Us.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=C1(e),e===null?null:e.stateNode},findFiberByHostInstance:Us.findFiberByHostInstance||BO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ul.isDisabled&&Ul.supportsFiber)try{Gu=Ul.inject(qO),tr=Ul}catch{}}pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WO;pn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lg(t))throw Error(Q(200));return zO(e,t,null,n)};pn.createRoot=function(e,t){if(!lg(e))throw Error(Q(299));var n=!1,r="",a=aN;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=ig(e,1,!1,null,null,n,!1,r,a),e[kr]=t.current,Oo(e.nodeType===8?e.parentNode:e),new og(t)};pn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Q(188)):(e=Object.keys(e).join(","),Error(Q(268,e)));return e=C1(t),e=e===null?null:e.stateNode,e};pn.flushSync=function(e){return si(e)};pn.hydrate=function(e,t,n){if(!cd(t))throw Error(Q(200));return ud(null,e,t,!0,n)};pn.hydrateRoot=function(e,t,n){if(!lg(e))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=aN;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=rN(t,null,e,1,n??null,a,!1,i,o),e[kr]=t.current,Oo(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new ld(t)};pn.render=function(e,t,n){if(!cd(t))throw Error(Q(200));return ud(null,e,t,!1,n)};pn.unmountComponentAtNode=function(e){if(!cd(e))throw Error(Q(40));return e._reactRootContainer?(si(function(){ud(null,null,e,!1,function(){e._reactRootContainer=null,e[kr]=null})}),!0):!1};pn.unstable_batchedUpdates=tg;pn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!cd(n))throw Error(Q(200));if(e==null||e._reactInternals===void 0)throw Error(Q(38));return ud(e,t,n,!1,r)};pn.version="18.3.1-next-f1338f8080-20240426";function iN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iN)}catch(e){console.error(e)}}iN(),i1.exports=pn;var sN=i1.exports,hy=sN;vf.createRoot=hy.createRoot,vf.hydrateRoot=hy.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fo(){return Fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fo.apply(this,arguments)}var ta;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ta||(ta={}));const gy="popstate";function KO(e){e===void 0&&(e={});function t(r,a){let{pathname:i,search:o,hash:l}=r.location;return dm("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:eu(a)}return HO(t,n,null,e)}function Qe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function oN(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function VO(){return Math.random().toString(36).substr(2,8)}function xy(e,t){return{usr:e.state,key:e.key,idx:t}}function dm(e,t,n,r){return n===void 0&&(n=null),Fo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?js(t):t,{state:n,key:t&&t.key||r||VO()})}function eu(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function js(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function HO(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,l=ta.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Fo({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function p(){l=ta.Pop;let w=d(),v=w==null?null:w-u;u=w,c&&c({action:l,location:x.location,delta:v})}function f(w,v){l=ta.Push;let y=dm(x.location,w,v);n&&n(y,w),u=d()+1;let b=xy(y,u),j=x.createHref(y);try{o.pushState(b,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(j)}i&&c&&c({action:l,location:x.location,delta:1})}function m(w,v){l=ta.Replace;let y=dm(x.location,w,v);n&&n(y,w),u=d();let b=xy(y,u),j=x.createHref(y);o.replaceState(b,"",j),i&&c&&c({action:l,location:x.location,delta:0})}function g(w){let v=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof w=="string"?w:eu(w);return y=y.replace(/ $/,"%20"),Qe(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let x={get action(){return l},get location(){return e(a,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(gy,p),c=w,()=>{a.removeEventListener(gy,p),c=null}},createHref(w){return t(a,w)},createURL:g,encodeLocation(w){let v=g(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:m,go(w){return o.go(w)}};return x}var vy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(vy||(vy={}));function QO(e,t,n){return n===void 0&&(n="/"),YO(e,t,n,!1)}function YO(e,t,n,r){let a=typeof t=="string"?js(t):t,i=cg(a.pathname||"/",n);if(i==null)return null;let o=lN(e);GO(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=o3(i);l=i3(o[c],u,r)}return l}function lN(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Qe(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=ua([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(Qe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),lN(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:r3(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of cN(i.path))a(i,o,c)}),t}function cN(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=cN(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function GO(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:a3(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const XO=/^:[\w-]+$/,ZO=3,JO=2,e3=1,t3=10,n3=-2,yy=e=>e==="*";function r3(e,t){let n=e.split("/"),r=n.length;return n.some(yy)&&(r+=n3),t&&(r+=JO),n.filter(a=>!yy(a)).reduce((a,i)=>a+(XO.test(i)?ZO:i===""?e3:t3),r)}function a3(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function i3(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,a={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",p=by({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!p&&u&&n&&!r[r.length-1].route.index&&(p=by({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!p)return null;Object.assign(a,p.params),o.push({params:a,pathname:ua([i,p.pathname]),pathnameBase:d3(ua([i,p.pathnameBase])),route:f}),p.pathnameBase!=="/"&&(i=ua([i,p.pathnameBase]))}return o}function by(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=s3(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((u,d,p)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let x=l[p]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const g=l[p];return m&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function s3(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),oN(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function o3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return oN(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function cg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function l3(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?js(e):e;return{pathname:n?n.startsWith("/")?n:c3(n,t):t,search:p3(r),hash:f3(a)}}function c3(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Lp(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function u3(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function uN(e,t){let n=u3(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function dN(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=js(e):(a=Fo({},e),Qe(!a.pathname||!a.pathname.includes("?"),Lp("?","pathname","search",a)),Qe(!a.pathname||!a.pathname.includes("#"),Lp("#","pathname","hash",a)),Qe(!a.search||!a.search.includes("#"),Lp("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),p-=1;a.pathname=f.join("/")}l=p>=0?t[p]:"/"}let c=l3(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ua=e=>e.join("/").replace(/\/\/+/g,"/"),d3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),p3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,f3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function m3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const pN=["post","put","patch","delete"];new Set(pN);const h3=["get",...pN];new Set(h3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zo(){return zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zo.apply(this,arguments)}const ug=h.createContext(null),g3=h.createContext(null),hi=h.createContext(null),dd=h.createContext(null),ba=h.createContext({outlet:null,matches:[],isDataRoute:!1}),fN=h.createContext(null);function x3(e,t){let{relative:n}=t===void 0?{}:t;ol()||Qe(!1);let{basename:r,navigator:a}=h.useContext(hi),{hash:i,pathname:o,search:l}=hN(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:ua([r,o])),a.createHref({pathname:c,search:l,hash:i})}function ol(){return h.useContext(dd)!=null}function Ns(){return ol()||Qe(!1),h.useContext(dd).location}function mN(e){h.useContext(hi).static||h.useLayoutEffect(e)}function gi(){let{isDataRoute:e}=h.useContext(ba);return e?T3():v3()}function v3(){ol()||Qe(!1);let e=h.useContext(ug),{basename:t,future:n,navigator:r}=h.useContext(hi),{matches:a}=h.useContext(ba),{pathname:i}=Ns(),o=JSON.stringify(uN(a,n.v7_relativeSplatPath)),l=h.useRef(!1);return mN(()=>{l.current=!0}),h.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let p=dN(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ua([t,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[t,r,o,i,e])}function y3(){let{matches:e}=h.useContext(ba),t=e[e.length-1];return t?t.params:{}}function hN(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=h.useContext(hi),{matches:a}=h.useContext(ba),{pathname:i}=Ns(),o=JSON.stringify(uN(a,r.v7_relativeSplatPath));return h.useMemo(()=>dN(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function b3(e,t){return w3(e,t)}function w3(e,t,n,r){ol()||Qe(!1);let{navigator:a}=h.useContext(hi),{matches:i}=h.useContext(ba),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ns(),d;if(t){var p;let w=typeof t=="string"?js(t):t;c==="/"||(p=w.pathname)!=null&&p.startsWith(c)||Qe(!1),d=w}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let w=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=QO(e,{pathname:m}),x=C3(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:ua([c,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:ua([c,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return t&&x?h.createElement(dd.Provider,{value:{location:zo({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ta.Pop}},x):x}function j3(){let e=O3(),t=m3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),n?h.createElement("pre",{style:a},n):null,i)}const N3=h.createElement(j3,null);class k3 extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?h.createElement(ba.Provider,{value:this.props.routeContext},h.createElement(fN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function S3(e){let{routeContext:t,match:n,children:r}=e,a=h.useContext(ug);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(ba.Provider,{value:t},r)}function C3(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);d>=0||Qe(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=d),p.route.id){let{loaderData:f,errors:m}=n,g=p.route.loader&&f[p.route.id]===void 0&&(!m||m[p.route.id]===void 0);if(p.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,p,f)=>{let m,g=!1,x=null,w=null;n&&(m=l&&p.route.id?l[p.route.id]:void 0,x=p.route.errorElement||N3,c&&(u<0&&f===0?(_3("route-fallback",!1),g=!0,w=null):u===f&&(g=!0,w=p.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,f+1)),y=()=>{let b;return m?b=x:g?b=w:p.route.Component?b=h.createElement(p.route.Component,null):p.route.element?b=p.route.element:b=d,h.createElement(S3,{match:p,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:b})};return n&&(p.route.ErrorBoundary||p.route.errorElement||f===0)?h.createElement(k3,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var gN=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(gN||{}),tu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(tu||{});function P3(e){let t=h.useContext(ug);return t||Qe(!1),t}function A3(e){let t=h.useContext(g3);return t||Qe(!1),t}function E3(e){let t=h.useContext(ba);return t||Qe(!1),t}function xN(e){let t=E3(),n=t.matches[t.matches.length-1];return n.route.id||Qe(!1),n.route.id}function O3(){var e;let t=h.useContext(fN),n=A3(tu.UseRouteError),r=xN(tu.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function T3(){let{router:e}=P3(gN.UseNavigateStable),t=xN(tu.UseNavigateStable),n=h.useRef(!1);return mN(()=>{n.current=!0}),h.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,zo({fromRouteId:t},i)))},[e,t])}const wy={};function _3(e,t,n){!t&&!wy[e]&&(wy[e]=!0)}function M3(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function cr(e){Qe(!1)}function D3(e){let{basename:t="/",children:n=null,location:r,navigationType:a=ta.Pop,navigator:i,static:o=!1,future:l}=e;ol()&&Qe(!1);let c=t.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:c,navigator:i,static:o,future:zo({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=js(r));let{pathname:d="/",search:p="",hash:f="",state:m=null,key:g="default"}=r,x=h.useMemo(()=>{let w=cg(d,c);return w==null?null:{location:{pathname:w,search:p,hash:f,state:m,key:g},navigationType:a}},[c,d,p,f,m,g,a]);return x==null?null:h.createElement(hi.Provider,{value:u},h.createElement(dd.Provider,{children:n,value:x}))}function $3(e){let{children:t,location:n}=e;return b3(pm(t),n)}new Promise(()=>{});function pm(e,t){t===void 0&&(t=[]);let n=[];return h.Children.forEach(e,(r,a)=>{if(!h.isValidElement(r))return;let i=[...t,a];if(r.type===h.Fragment){n.push.apply(n,pm(r.props.children,i));return}r.type!==cr&&Qe(!1),!r.props.index||!r.props.children||Qe(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=pm(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fm(){return fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fm.apply(this,arguments)}function I3(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function R3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function L3(e,t){return e.button===0&&(!t||t==="_self")&&!R3(e)}const F3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],z3="6";try{window.__reactRouterVersion=z3}catch{}const B3="startTransition",jy=r1[B3];function U3(e){let{basename:t,children:n,future:r,window:a}=e,i=h.useRef();i.current==null&&(i.current=KO({window:a,v5Compat:!0}));let o=i.current,[l,c]=h.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=h.useCallback(p=>{u&&jy?jy(()=>c(p)):c(p)},[c,u]);return h.useLayoutEffect(()=>o.listen(d),[o,d]),h.useEffect(()=>M3(r),[r]),h.createElement(D3,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const W3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",q3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,K3=h.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:p}=t,f=I3(t,F3),{basename:m}=h.useContext(hi),g,x=!1;if(typeof u=="string"&&q3.test(u)&&(g=u,W3))try{let b=new URL(window.location.href),j=u.startsWith("//")?new URL(b.protocol+u):new URL(u),S=cg(j.pathname,m);j.origin===b.origin&&S!=null?u=S+j.search+j.hash:x=!0}catch{}let w=x3(u,{relative:a}),v=V3(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:p});function y(b){r&&r(b),b.defaultPrevented||v(b)}return h.createElement("a",fm({},f,{href:g||w,onClick:x||i?r:y,ref:n,target:c}))});var Ny;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ny||(Ny={}));var ky;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ky||(ky={}));function V3(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=gi(),u=Ns(),d=hN(e,{relative:o});return h.useCallback(p=>{if(L3(p,n)){p.preventDefault();let f=r!==void 0?r:eu(u)===eu(d);c(e,{replace:f,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,r,a,n,e,i,o,l])}class ks{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){const n={listener:t};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Bo=typeof window>"u"||"Deno"in window;function yn(){}function H3(e,t){return typeof e=="function"?e(t):e}function mm(e){return typeof e=="number"&&e>=0&&e!==1/0}function vN(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ao(e,t,n){return ll(e)?typeof t=="function"?{...n,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function Q3(e,t,n){return ll(e)?typeof t=="function"?{...n,mutationKey:e,mutationFn:t}:{...t,mutationKey:e}:typeof e=="function"?{...t,mutationFn:e}:{...e}}function Hr(e,t,n){return ll(e)?[{...t,queryKey:e},n]:[e||{},t]}function Sy(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(ll(o)){if(r){if(t.queryHash!==dg(o,t.options))return!1}else if(!nu(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||typeof a<"u"&&a!==t.state.fetchStatus||i&&!i(t))}function Cy(e,t){const{exact:n,fetching:r,predicate:a,mutationKey:i}=e;if(ll(i)){if(!t.options.mutationKey)return!1;if(n){if(Wa(t.options.mutationKey)!==Wa(i))return!1}else if(!nu(t.options.mutationKey,i))return!1}return!(typeof r=="boolean"&&t.state.status==="loading"!==r||a&&!a(t))}function dg(e,t){return((t==null?void 0:t.queryKeyHashFn)||Wa)(e)}function Wa(e){return JSON.stringify(e,(t,n)=>hm(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function nu(e,t){return yN(e,t)}function yN(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!yN(e[n],t[n])):!1}function bN(e,t){if(e===t)return e;const n=Py(e)&&Py(t);if(n||hm(e)&&hm(t)){const r=n?e.length:Object.keys(e).length,a=n?t:Object.keys(t),i=a.length,o=n?[]:{};let l=0;for(let c=0;c<i;c++){const u=n?c:a[c];o[u]=bN(e[u],t[u]),o[u]===e[u]&&l++}return r===i&&l===r?e:o}return t}function ru(e,t){if(e&&!t||t&&!e)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Py(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function hm(e){if(!Ay(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!Ay(n)||!n.hasOwnProperty("isPrototypeOf"))}function Ay(e){return Object.prototype.toString.call(e)==="[object Object]"}function ll(e){return Array.isArray(e)}function wN(e){return new Promise(t=>{setTimeout(t,e)})}function Ey(e){wN(0).then(e)}function Y3(){if(typeof AbortController=="function")return new AbortController}function gm(e,t,n){return n.isDataEqual!=null&&n.isDataEqual(e,t)?e:typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?bN(e,t):t}class G3 extends ks{constructor(){super(),this.setup=t=>{if(!Bo&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(t){this.focused!==t&&(this.focused=t,this.onFocus())}onFocus(){this.listeners.forEach(({listener:t})=>{t()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const au=new G3,Oy=["online","offline"];class X3 extends ks{constructor(){super(),this.setup=t=>{if(!Bo&&window.addEventListener){const n=()=>t();return Oy.forEach(r=>{window.addEventListener(r,n,!1)}),()=>{Oy.forEach(r=>{window.removeEventListener(r,n)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(t){this.online!==t&&(this.online=t,this.onOnline())}onOnline(){this.listeners.forEach(({listener:t})=>{t()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const iu=new X3;function Z3(e){return Math.min(1e3*2**e,3e4)}function pd(e){return(e??"online")==="online"?iu.isOnline():!0}class jN{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}}function Nc(e){return e instanceof jN}function NN(e){let t=!1,n=0,r=!1,a,i,o;const l=new Promise((w,v)=>{i=w,o=v}),c=w=>{r||(m(new jN(w)),e.abort==null||e.abort())},u=()=>{t=!0},d=()=>{t=!1},p=()=>!au.isFocused()||e.networkMode!=="always"&&!iu.isOnline(),f=w=>{r||(r=!0,e.onSuccess==null||e.onSuccess(w),a==null||a(),i(w))},m=w=>{r||(r=!0,e.onError==null||e.onError(w),a==null||a(),o(w))},g=()=>new Promise(w=>{a=v=>{const y=r||!p();return y&&w(v),y},e.onPause==null||e.onPause()}).then(()=>{a=void 0,r||e.onContinue==null||e.onContinue()}),x=()=>{if(r)return;let w;try{w=e.fn()}catch(v){w=Promise.reject(v)}Promise.resolve(w).then(f).catch(v=>{var y,b;if(r)return;const j=(y=e.retry)!=null?y:3,S=(b=e.retryDelay)!=null?b:Z3,k=typeof S=="function"?S(n,v):S,C=j===!0||typeof j=="number"&&n<j||typeof j=="function"&&j(n,v);if(t||!C){m(v);return}n++,e.onFail==null||e.onFail(n,v),wN(k).then(()=>{if(p())return g()}).then(()=>{t?m(v):x()})})};return pd(e.networkMode)?x():g().then(x),{promise:l,cancel:c,continue:()=>(a==null?void 0:a())?l:Promise.resolve(),cancelRetry:u,continueRetry:d}}const pg=console;function J3(){let e=[],t=0,n=d=>{d()},r=d=>{d()};const a=d=>{let p;t++;try{p=d()}finally{t--,t||l()}return p},i=d=>{t?e.push(d):Ey(()=>{n(d)})},o=d=>(...p)=>{i(()=>{d(...p)})},l=()=>{const d=e;e=[],d.length&&Ey(()=>{r(()=>{d.forEach(p=>{n(p)})})})};return{batch:a,batchCalls:o,schedule:i,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{r=d}}}const Le=J3();class kN{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),mm(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(t){this.cacheTime=Math.max(this.cacheTime||0,t??(Bo?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class e4 extends kN{constructor(t){super(),this.abortSignalConsumed=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.logger=t.logger||pg,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||t4(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(t,n){const r=gm(this.state.data,t,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){this.dispatch({type:"setState",state:t,setStateOptions:n})}cancel(t){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(t),r?r.then(yn).catch(yn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!vN(this.state.dataUpdatedAt,t)}onFocus(){var t;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}onOnline(){var t;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(t,n){var r,a;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var i;return(i=this.retryer)==null||i.continueRetry(),this.promise}}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(g=>g.options.queryFn);m&&this.setOptions(m.options)}const o=Y3(),l={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},c=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};c(l);const u=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(l)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),d={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:u};if(c(d),(r=this.options.behavior)==null||r.onFetch(d),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((a=d.fetchOptions)==null?void 0:a.meta)){var p;this.dispatch({type:"fetch",meta:(p=d.fetchOptions)==null?void 0:p.meta})}const f=m=>{if(Nc(m)&&m.silent||this.dispatch({type:"error",error:m}),!Nc(m)){var g,x,w,v;(g=(x=this.cache.config).onError)==null||g.call(x,m,this),(w=(v=this.cache.config).onSettled)==null||w.call(v,this.state.data,m,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=NN({fn:d.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:m=>{var g,x,w,v;if(typeof m>"u"){f(new Error(this.queryHash+" data is undefined"));return}this.setData(m),(g=(x=this.cache.config).onSuccess)==null||g.call(x,m,this),(w=(v=this.cache.config).onSettled)==null||w.call(v,m,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:f,onFail:(m,g)=>{this.dispatch({type:"failed",failureCount:m,error:g})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(t){const n=r=>{var a,i;switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(a=t.meta)!=null?a:null,fetchStatus:pd(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(i=t.dataUpdatedAt)!=null?i:Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return Nc(o)&&o.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Le.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(t)}),this.cache.notify({query:this,type:"updated",action:t})})}}function t4(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=typeof t<"u",r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class n4 extends ks{constructor(t){super(),this.config=t||{},this.queries=[],this.queriesMap={}}build(t,n,r){var a;const i=n.queryKey,o=(a=n.queryHash)!=null?a:dg(i,n);let l=this.get(o);return l||(l=new e4({cache:this,logger:t.getLogger(),queryKey:i,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(l)),l}add(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"added",query:t}))}remove(t){const n=this.queriesMap[t.queryHash];n&&(t.destroy(),this.queries=this.queries.filter(r=>r!==t),n===t&&delete this.queriesMap[t.queryHash],this.notify({type:"removed",query:t}))}clear(){Le.batch(()=>{this.queries.forEach(t=>{this.remove(t)})})}get(t){return this.queriesMap[t]}getAll(){return this.queries}find(t,n){const[r]=Hr(t,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(a=>Sy(r,a))}findAll(t,n){const[r]=Hr(t,n);return Object.keys(r).length>0?this.queries.filter(a=>Sy(r,a)):this.queries}notify(t){Le.batch(()=>{this.listeners.forEach(({listener:n})=>{n(t)})})}onFocus(){Le.batch(()=>{this.queries.forEach(t=>{t.onFocus()})})}onOnline(){Le.batch(()=>{this.queries.forEach(t=>{t.onOnline()})})}}class r4 extends kN{constructor(t){super(),this.defaultOptions=t.defaultOptions,this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.logger=t.logger||pg,this.observers=[],this.state=t.state||SN(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(t){this.dispatch({type:"setState",state:t})}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.observers=this.observers.filter(n=>n!==t),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var t,n;return(t=(n=this.retryer)==null?void 0:n.continue())!=null?t:this.execute()}async execute(){const t=()=>{var C;return this.retryer=NN({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(E,R)=>{this.dispatch({type:"failed",failureCount:E,error:R})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(C=this.options.retry)!=null?C:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,a,i,o,l,c,u,d;if(!n){var p,f,m,g;this.dispatch({type:"loading",variables:this.options.variables}),await((p=(f=this.mutationCache.config).onMutate)==null?void 0:p.call(f,this.state.variables,this));const E=await((m=(g=this.options).onMutate)==null?void 0:m.call(g,this.state.variables));E!==this.state.context&&this.dispatch({type:"loading",context:E,variables:this.state.variables})}const C=await t();return await((r=(a=this.mutationCache.config).onSuccess)==null?void 0:r.call(a,C,this.state.variables,this.state.context,this)),await((i=(o=this.options).onSuccess)==null?void 0:i.call(o,C,this.state.variables,this.state.context)),await((l=(c=this.mutationCache.config).onSettled)==null?void 0:l.call(c,C,null,this.state.variables,this.state.context,this)),await((u=(d=this.options).onSettled)==null?void 0:u.call(d,C,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:C}),C}catch(C){try{var x,w,v,y,b,j,S,k;throw await((x=(w=this.mutationCache.config).onError)==null?void 0:x.call(w,C,this.state.variables,this.state.context,this)),await((v=(y=this.options).onError)==null?void 0:v.call(y,C,this.state.variables,this.state.context)),await((b=(j=this.mutationCache.config).onSettled)==null?void 0:b.call(j,void 0,C,this.state.variables,this.state.context,this)),await((S=(k=this.options).onSettled)==null?void 0:S.call(k,void 0,C,this.state.variables,this.state.context)),C}finally{this.dispatch({type:"error",error:C})}}}dispatch(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!pd(this.options.networkMode),status:"loading",variables:t.variables};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"};case"setState":return{...r,...t.state}}};this.state=n(this.state),Le.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(t)}),this.mutationCache.notify({mutation:this,type:"updated",action:t})})}}function SN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class a4 extends ks{constructor(t){super(),this.config=t||{},this.mutations=[],this.mutationId=0}build(t,n,r){const a=new r4({mutationCache:this,logger:t.getLogger(),mutationId:++this.mutationId,options:t.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?t.getMutationDefaults(n.mutationKey):void 0});return this.add(a),a}add(t){this.mutations.push(t),this.notify({type:"added",mutation:t})}remove(t){this.mutations=this.mutations.filter(n=>n!==t),this.notify({type:"removed",mutation:t})}clear(){Le.batch(()=>{this.mutations.forEach(t=>{this.remove(t)})})}getAll(){return this.mutations}find(t){return typeof t.exact>"u"&&(t.exact=!0),this.mutations.find(n=>Cy(t,n))}findAll(t){return this.mutations.filter(n=>Cy(t,n))}notify(t){Le.batch(()=>{this.listeners.forEach(({listener:n})=>{n(t)})})}resumePausedMutations(){var t;return this.resuming=((t=this.resuming)!=null?t:Promise.resolve()).then(()=>{const n=this.mutations.filter(r=>r.state.isPaused);return Le.batch(()=>n.reduce((r,a)=>r.then(()=>a.continue().catch(yn)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function i4(){return{onFetch:e=>{e.fetchFn=()=>{var t,n,r,a,i,o;const l=(t=e.fetchOptions)==null||(n=t.meta)==null?void 0:n.refetchPage,c=(r=e.fetchOptions)==null||(a=r.meta)==null?void 0:a.fetchMore,u=c==null?void 0:c.pageParam,d=(c==null?void 0:c.direction)==="forward",p=(c==null?void 0:c.direction)==="backward",f=((i=e.state.data)==null?void 0:i.pages)||[],m=((o=e.state.data)==null?void 0:o.pageParams)||[];let g=m,x=!1;const w=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>{var C;if((C=e.signal)!=null&&C.aborted)x=!0;else{var E;(E=e.signal)==null||E.addEventListener("abort",()=>{x=!0})}return e.signal}})},v=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),y=(k,C,E,R)=>(g=R?[C,...g]:[...g,C],R?[E,...k]:[...k,E]),b=(k,C,E,R)=>{if(x)return Promise.reject("Cancelled");if(typeof E>"u"&&!C&&k.length)return Promise.resolve(k);const M={queryKey:e.queryKey,pageParam:E,meta:e.options.meta};w(M);const N=v(M);return Promise.resolve(N).then(I=>y(k,E,I,R))};let j;if(!f.length)j=b([]);else if(d){const k=typeof u<"u",C=k?u:Ty(e.options,f);j=b(f,k,C)}else if(p){const k=typeof u<"u",C=k?u:s4(e.options,f);j=b(f,k,C,!0)}else{g=[];const k=typeof e.options.getNextPageParam>"u";j=(l&&f[0]?l(f[0],0,f):!0)?b([],k,m[0]):Promise.resolve(y([],m[0],f[0]));for(let E=1;E<f.length;E++)j=j.then(R=>{if(l&&f[E]?l(f[E],E,f):!0){const N=k?m[E]:Ty(e.options,R);return b(R,k,N)}return Promise.resolve(y(R,m[E],f[E]))})}return j.then(k=>({pages:k,pageParams:g}))}}}}function Ty(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function s4(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}class o4{constructor(t={}){this.queryCache=t.queryCache||new n4,this.mutationCache=t.mutationCache||new a4,this.logger=t.logger||pg,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=au.subscribe(()=>{au.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=iu.subscribe(()=>{iu.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var t,n;this.mountCount--,this.mountCount===0&&((t=this.unsubscribeFocus)==null||t.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(t,n){const[r]=Hr(t,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(t){return this.mutationCache.findAll({...t,fetching:!0}).length}getQueryData(t,n){var r;return(r=this.queryCache.find(t,n))==null?void 0:r.state.data}ensureQueryData(t,n,r){const a=ao(t,n,r),i=this.getQueryData(a.queryKey);return i?Promise.resolve(i):this.fetchQuery(a)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:n,state:r})=>{const a=r.data;return[n,a]})}setQueryData(t,n,r){const a=this.queryCache.find(t),i=a==null?void 0:a.state.data,o=H3(n,i);if(typeof o>"u")return;const l=ao(t),c=this.defaultQueryOptions(l);return this.queryCache.build(this,c).setData(o,{...r,manual:!0})}setQueriesData(t,n,r){return Le.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:a})=>[a,this.setQueryData(a,n,r)]))}getQueryState(t,n){var r;return(r=this.queryCache.find(t,n))==null?void 0:r.state}removeQueries(t,n){const[r]=Hr(t,n),a=this.queryCache;Le.batch(()=>{a.findAll(r).forEach(i=>{a.remove(i)})})}resetQueries(t,n,r){const[a,i]=Hr(t,n,r),o=this.queryCache,l={type:"active",...a};return Le.batch(()=>(o.findAll(a).forEach(c=>{c.reset()}),this.refetchQueries(l,i)))}cancelQueries(t,n,r){const[a,i={}]=Hr(t,n,r);typeof i.revert>"u"&&(i.revert=!0);const o=Le.batch(()=>this.queryCache.findAll(a).map(l=>l.cancel(i)));return Promise.all(o).then(yn).catch(yn)}invalidateQueries(t,n,r){const[a,i]=Hr(t,n,r);return Le.batch(()=>{var o,l;if(this.queryCache.findAll(a).forEach(u=>{u.invalidate()}),a.refetchType==="none")return Promise.resolve();const c={...a,type:(o=(l=a.refetchType)!=null?l:a.type)!=null?o:"active"};return this.refetchQueries(c,i)})}refetchQueries(t,n,r){const[a,i]=Hr(t,n,r),o=Le.batch(()=>this.queryCache.findAll(a).filter(c=>!c.isDisabled()).map(c=>{var u;return c.fetch(void 0,{...i,cancelRefetch:(u=i==null?void 0:i.cancelRefetch)!=null?u:!0,meta:{refetchPage:a.refetchPage}})}));let l=Promise.all(o).then(yn);return i!=null&&i.throwOnError||(l=l.catch(yn)),l}fetchQuery(t,n,r){const a=ao(t,n,r),i=this.defaultQueryOptions(a);typeof i.retry>"u"&&(i.retry=!1);const o=this.queryCache.build(this,i);return o.isStaleByTime(i.staleTime)?o.fetch(i):Promise.resolve(o.state.data)}prefetchQuery(t,n,r){return this.fetchQuery(t,n,r).then(yn).catch(yn)}fetchInfiniteQuery(t,n,r){const a=ao(t,n,r);return a.behavior=i4(),this.fetchQuery(a)}prefetchInfiniteQuery(t,n,r){return this.fetchInfiniteQuery(t,n,r).then(yn).catch(yn)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(t){this.defaultOptions=t}setQueryDefaults(t,n){const r=this.queryDefaults.find(a=>Wa(t)===Wa(a.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:t,defaultOptions:n})}getQueryDefaults(t){if(!t)return;const n=this.queryDefaults.find(r=>nu(t,r.queryKey));return n==null?void 0:n.defaultOptions}setMutationDefaults(t,n){const r=this.mutationDefaults.find(a=>Wa(t)===Wa(a.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:t,defaultOptions:n})}getMutationDefaults(t){if(!t)return;const n=this.mutationDefaults.find(r=>nu(t,r.mutationKey));return n==null?void 0:n.defaultOptions}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const n={...this.defaultOptions.queries,...this.getQueryDefaults(t==null?void 0:t.queryKey),...t,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=dg(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...this.defaultOptions.mutations,...this.getMutationDefaults(t==null?void 0:t.mutationKey),...t,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class l4 extends ks{constructor(t,n){super(),this.client=t,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),_y(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return xm(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return xm(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(t,n){const r=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryOptions(t),ru(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const i=this.hasListeners();i&&My(this.currentQuery,a,this.options,r)&&this.executeFetch(),this.updateResult(n),i&&(this.currentQuery!==a||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();i&&(this.currentQuery!==a||this.options.enabled!==r.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(t){const n=this.client.getQueryCache().build(this.client,t),r=this.createResult(n,t);return u4(this,r,t)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(t){const n={};return Object.keys(t).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),t[r])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:t,...n}={}){return this.fetch({...n,meta:{refetchPage:t}})}fetchOptimistic(t){const n=this.client.defaultQueryOptions(t),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(t){var n;return this.executeFetch({...t,cancelRefetch:(n=t.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(t){this.updateQuery();let n=this.currentQuery.fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(yn)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),Bo||this.currentResult.isStale||!mm(this.options.staleTime))return;const n=vN(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var t;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(t=this.options.refetchInterval)!=null?t:!1}updateRefetchInterval(t){this.clearRefetchInterval(),this.currentRefetchInterval=t,!(Bo||this.options.enabled===!1||!mm(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||au.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(t,n){const r=this.currentQuery,a=this.options,i=this.currentResult,o=this.currentResultState,l=this.currentResultOptions,c=t!==r,u=c?t.state:this.currentQueryInitialState,d=c?this.currentResult:this.previousQueryResult,{state:p}=t;let{dataUpdatedAt:f,error:m,errorUpdatedAt:g,fetchStatus:x,status:w}=p,v=!1,y=!1,b;if(n._optimisticResults){const E=this.hasListeners(),R=!E&&_y(t,n),M=E&&My(t,r,n,a);(R||M)&&(x=pd(t.options.networkMode)?"fetching":"paused",f||(w="loading")),n._optimisticResults==="isRestoring"&&(x="idle")}if(n.keepPreviousData&&!p.dataUpdatedAt&&d!=null&&d.isSuccess&&w!=="error")b=d.data,f=d.dataUpdatedAt,w=d.status,v=!0;else if(n.select&&typeof p.data<"u")if(i&&p.data===(o==null?void 0:o.data)&&n.select===this.selectFn)b=this.selectResult;else try{this.selectFn=n.select,b=n.select(p.data),b=gm(i==null?void 0:i.data,b,n),this.selectResult=b,this.selectError=null}catch(E){this.selectError=E}else b=p.data;if(typeof n.placeholderData<"u"&&typeof b>"u"&&w==="loading"){let E;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))E=i.data;else if(E=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof E<"u")try{E=n.select(E),this.selectError=null}catch(R){this.selectError=R}typeof E<"u"&&(w="success",b=gm(i==null?void 0:i.data,E,n),y=!0)}this.selectError&&(m=this.selectError,b=this.selectResult,g=Date.now(),w="error");const j=x==="fetching",S=w==="loading",k=w==="error";return{status:w,fetchStatus:x,isLoading:S,isSuccess:w==="success",isError:k,isInitialLoading:S&&j,data:b,dataUpdatedAt:f,error:m,errorUpdatedAt:g,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>u.dataUpdateCount||p.errorUpdateCount>u.errorUpdateCount,isFetching:j,isRefetching:j&&!S,isLoadingError:k&&p.dataUpdatedAt===0,isPaused:x==="paused",isPlaceholderData:y,isPreviousData:v,isRefetchError:k&&p.dataUpdatedAt!==0,isStale:fg(t,n),refetch:this.refetch,remove:this.remove}}updateResult(t){const n=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,ru(r,n))return;this.currentResult=r;const a={cache:!0},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!this.trackedProps.size)return!0;const c=new Set(l??this.trackedProps);return this.options.useErrorBoundary&&c.add("error"),Object.keys(this.currentResult).some(u=>{const d=u;return this.currentResult[d]!==n[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&i()&&(a.listeners=!0),this.notify({...a,...t})}updateQuery(){const t=this.client.getQueryCache().build(this.client,this.options);if(t===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))}onQueryUpdate(t){const n={};t.type==="success"?n.onSuccess=!t.manual:t.type==="error"&&!Nc(t.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(t){Le.batch(()=>{if(t.onSuccess){var n,r,a,i;(n=(r=this.options).onSuccess)==null||n.call(r,this.currentResult.data),(a=(i=this.options).onSettled)==null||a.call(i,this.currentResult.data,null)}else if(t.onError){var o,l,c,u;(o=(l=this.options).onError)==null||o.call(l,this.currentResult.error),(c=(u=this.options).onSettled)==null||c.call(u,void 0,this.currentResult.error)}t.listeners&&this.listeners.forEach(({listener:d})=>{d(this.currentResult)}),t.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function c4(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function _y(e,t){return c4(e,t)||e.state.dataUpdatedAt>0&&xm(e,t,t.refetchOnMount)}function xm(e,t,n){if(t.enabled!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&fg(e,t)}return!1}function My(e,t,n,r){return n.enabled!==!1&&(e!==t||r.enabled===!1)&&(!n.suspense||e.state.status!=="error")&&fg(e,n)}function fg(e,t){return e.isStaleByTime(t.staleTime)}function u4(e,t,n){return n.keepPreviousData?!1:n.placeholderData!==void 0?t.isPlaceholderData:!ru(e.getCurrentResult(),t)}let d4=class extends ks{constructor(t,n){super(),this.client=t,this.setOptions(n),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var n;const r=this.options;this.options=this.client.defaultMutationOptions(t),ru(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(n=this.currentMutation)==null||n.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.currentMutation)==null||t.removeObserver(this)}}onMutationUpdate(t){this.updateResult();const n={listeners:!0};t.type==="success"?n.onSuccess=!0:t.type==="error"&&(n.onError=!0),this.notify(n)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(t,n){return this.mutateOptions=n,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof t<"u"?t:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const t=this.currentMutation?this.currentMutation.state:SN(),n=t.status==="loading",r={...t,isLoading:n,isPending:n,isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=r}notify(t){Le.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(t.onSuccess){var n,r,a,i;(n=(r=this.mutateOptions).onSuccess)==null||n.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(a=(i=this.mutateOptions).onSettled)==null||a.call(i,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(t.onError){var o,l,c,u;(o=(l=this.mutateOptions).onError)==null||o.call(l,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(c=(u=this.mutateOptions).onSettled)==null||c.call(u,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}t.listeners&&this.listeners.forEach(({listener:d})=>{d(this.currentResult)})})}};var CN={exports:{}},PN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ss=h;function p4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var f4=typeof Object.is=="function"?Object.is:p4,m4=ss.useState,h4=ss.useEffect,g4=ss.useLayoutEffect,x4=ss.useDebugValue;function v4(e,t){var n=t(),r=m4({inst:{value:n,getSnapshot:t}}),a=r[0].inst,i=r[1];return g4(function(){a.value=n,a.getSnapshot=t,Fp(a)&&i({inst:a})},[e,n,t]),h4(function(){return Fp(a)&&i({inst:a}),e(function(){Fp(a)&&i({inst:a})})},[e]),x4(n),n}function Fp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!f4(e,n)}catch{return!0}}function y4(e,t){return t()}var b4=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?y4:v4;PN.useSyncExternalStore=ss.useSyncExternalStore!==void 0?ss.useSyncExternalStore:b4;CN.exports=PN;var AN=CN.exports;const EN=AN.useSyncExternalStore,Dy=h.createContext(void 0),ON=h.createContext(!1);function TN(e,t){return e||(t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Dy),window.ReactQueryClientContext):Dy)}const wa=({context:e}={})=>{const t=h.useContext(TN(e,h.useContext(ON)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},w4=({client:e,children:t,context:n,contextSharing:r=!1})=>{h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);const a=TN(n,r);return h.createElement(ON.Provider,{value:!n&&r},h.createElement(a.Provider,{value:e},t))},_N=h.createContext(!1),j4=()=>h.useContext(_N);_N.Provider;function N4(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}const k4=h.createContext(N4()),S4=()=>h.useContext(k4);function MN(e,t){return typeof e=="function"?e(...t):!!e}const C4=(e,t)=>{(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))},P4=e=>{h.useEffect(()=>{e.clearReset()},[e])},A4=({result:e,errorResetBoundary:t,useErrorBoundary:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&MN(n,[e.error,r]),E4=e=>{e.suspense&&(typeof e.staleTime!="number"&&(e.staleTime=1e3),typeof e.cacheTime=="number"&&(e.cacheTime=Math.max(e.cacheTime,1e3)))},O4=(e,t)=>e.isLoading&&e.isFetching&&!t,T4=(e,t,n)=>(e==null?void 0:e.suspense)&&O4(t,n),_4=(e,t,n)=>t.fetchOptimistic(e).then(({data:r})=>{e.onSuccess==null||e.onSuccess(r),e.onSettled==null||e.onSettled(r,null)}).catch(r=>{n.clearReset(),e.onError==null||e.onError(r),e.onSettled==null||e.onSettled(void 0,r)});function M4(e,t){const n=wa({context:e.context}),r=j4(),a=S4(),i=n.defaultQueryOptions(e);i._optimisticResults=r?"isRestoring":"optimistic",i.onError&&(i.onError=Le.batchCalls(i.onError)),i.onSuccess&&(i.onSuccess=Le.batchCalls(i.onSuccess)),i.onSettled&&(i.onSettled=Le.batchCalls(i.onSettled)),E4(i),C4(i,a),P4(a);const[o]=h.useState(()=>new t(n,i)),l=o.getOptimisticResult(i);if(EN(h.useCallback(c=>{const u=r?()=>{}:o.subscribe(Le.batchCalls(c));return o.updateResult(),u},[o,r]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),h.useEffect(()=>{o.setOptions(i,{listeners:!1})},[i,o]),T4(i,l,r))throw _4(i,o,a);if(A4({result:l,errorResetBoundary:a,useErrorBoundary:i.useErrorBoundary,query:o.getCurrentQuery()}))throw l.error;return i.notifyOnChangeProps?l:o.trackResult(l)}function Me(e,t,n){const r=ao(e,t,n);return M4(r,l4)}function ot(e,t,n){const r=Q3(e,t,n),a=wa({context:r.context}),[i]=h.useState(()=>new d4(a,r));h.useEffect(()=>{i.setOptions(r)},[i,r]);const o=EN(h.useCallback(c=>i.subscribe(Le.batchCalls(c)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),l=h.useCallback((c,u)=>{i.mutate(c,u).catch(D4)},[i]);if(o.error&&MN(i.options.useErrorBoundary,[o.error]))throw o.error;return{...o,mutate:l,mutateAsync:o.mutate}}function D4(){}var $4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const I4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Z=(e,t)=>{const n=h.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:l,...c},u)=>h.createElement("svg",{ref:u,...$4,width:a,height:a,stroke:r,strokeWidth:o?Number(i)*24/Number(a):i,className:`lucide lucide-${I4(e)}`,...c},[...t.map(([d,p])=>h.createElement(d,p)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n},R4=Z("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),mg=Z("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Zn=Z("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),DN=Z("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),L4=Z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),zp=Z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),F4=Z("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),z4=Z("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Ga=Z("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),$y=Z("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),gr=Z("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),hg=Z("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Ht=Z("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),qn=Z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),$N=Z("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),kc=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),B4=Z("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Sc=Z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Iy=Z("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),xi=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),U4=Z("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),IN=Z("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Ry=Z("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),vm=Z("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Bp=Z("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),fd=Z("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),W4=Z("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Cc=Z("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Xa=Z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ly=Z("FileImage",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"10",cy:"13",r:"2",key:"6v46hv"}],["path",{d:"m20 17-1.09-1.09a2 2 0 0 0-2.82 0L10 22",key:"17vly1"}]]),q4=Z("FileVideo",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]),K4=Z("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]),V4=Z("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),H4=Z("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]),Fy=Z("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Q4=Z("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),zy=Z("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),gg=Z("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),Y4=Z("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]),Up=Z("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),Uo=Z("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),G4=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),X4=Z("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),Z4=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),xg=Z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),J4=Z("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]),By=Z("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),eT=Z("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),tT=Z("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),nT=Z("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),vo=Z("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),tn=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),rT=Z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Pc=Z("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),aT=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),iT=Z("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),sT=Z("ShieldX",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m14.5 9-5 5",key:"1m49dw"}],["path",{d:"m9.5 9 5 5",key:"wyx7zg"}]]),ym=Z("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),oT=Z("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),lT=Z("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Se=Z("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),xr=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),cT=Z("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),ja=Z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),uT=Z("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),dT=Z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),kn=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Et=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),vt=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),pT=Z("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),RN=h.createContext(void 0),fT=({children:e})=>{const[t,n]=h.useState(null),[r,a]=h.useState([]),[i,o]=h.useState(!1);h.useEffect(()=>{const c=localStorage.getItem("selectedClientId"),u=localStorage.getItem("clients");if(u){const d=JSON.parse(u);if(a(d),c){const p=d.find(f=>f.id===c);p&&n(p)}}},[]),h.useEffect(()=>{t?localStorage.setItem("selectedClientId",t.id):localStorage.removeItem("selectedClientId")},[t]),h.useEffect(()=>{r.length>0&&localStorage.setItem("clients",JSON.stringify(r))},[r]);const l={selectedClient:t,setSelectedClient:n,clients:r,setClients:a,isLoadingClients:i,setIsLoadingClients:o};return s.jsx(RN.Provider,{value:l,children:e})},vi=()=>{const e=h.useContext(RN);if(e===void 0)throw new Error("useClient must be used within a ClientProvider");return e},Uy=`${window.location.protocol}//${window.location.hostname}:2345`,LN=h.createContext(void 0),mT=({children:e})=>{const[t,n]=h.useState(null),[r,a]=h.useState(null),[i,o]=h.useState(null),[l,c]=h.useState(!0);h.useEffect(()=>{const g=localStorage.getItem("authToken"),x=localStorage.getItem("user");if(g&&x)try{const w=JSON.parse(x);a(g),n(w),u(g)}catch(w){console.error("Error parsing stored user data:",w),f()}c(!1)},[]);const u=async g=>{try{const x=await fetch(`${Uy}/api/auth/me`,{headers:{Authorization:`Bearer ${g}`}});if(!x.ok)throw new Error("Token verification failed");const w=await x.json();n(w.user)}catch(x){console.error("Token verification error:",x),f()}},d=async()=>{if(!r){console.log("🔍 AuthContext: No token found"),o(null);return}console.log("🔍 AuthContext: Checking access with token...");try{const g=await fetch(`${Uy}/api/auth/check-access`,{headers:{Authorization:`Bearer ${r}`}});if(console.log("🔍 AuthContext: Response status:",g.status),g.ok){const x=await g.json();console.log("🔍 AuthContext: Access check response:",x),o(x)}else console.log("🔍 AuthContext: Access check failed:",g.status),o(null)}catch(g){console.error("🔍 AuthContext: Access check error:",g),o(null)}},p=(g,x)=>{a(g),n(x),localStorage.setItem("authToken",g),localStorage.setItem("user",JSON.stringify(x)),d()},f=()=>{a(null),n(null),o(null),localStorage.removeItem("authToken"),localStorage.removeItem("user")};h.useEffect(()=>{r&&t&&d()},[r,t]);const m={user:t,token:r,accessInfo:i,login:p,logout:f,checkAccess:d,isAuthenticated:!!t&&!!r,isLoading:l};return s.jsx(LN.Provider,{value:m,children:e})},Ss=()=>{const e=h.useContext(LN);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},hT={analyzeCampaign:e=>{console.log("🤖 Research Agent analyzing campaign data:",e);const t=[];if(!e)return console.warn("⚠️ No campaign data provided to Research Agent"),t;const n=e.campaign_name||"Your campaign",r=e.product_service||e.productService||"",a=e.campaign_concept||e.campaignConcept||"",i=e.campaign_tagline||e.tagline||"",o=e.campaign_narrative||e.campaignNarrative||"";let l=[];if(e.activities&&(Array.isArray(e.activities)?l=e.activities:typeof e.activities=="object"&&(l=Object.keys(e.activities).filter(u=>e.activities[u]===!0))),console.log("🔧 Normalized activities:",l),t.push({type:"strategy",title:`Personalized Strategy for "${n}"`,description:`Based on your ${r?`${r} campaign`:"campaign"}, ${a?`with the concept "${a}", `:""}we recommend focusing on ${e.campaign_objective||"your stated objectives"}. ${i?`Your tagline "${i}" `:""}should be consistently reinforced across all touchpoints.`,confidence:.95,actionable:!0}),e.campaign_objective){const u=e.campaign_objective.toLowerCase();(u.includes("awareness")||u.includes("brand"))&&(t.push({type:"benchmark",title:`Brand Awareness KPIs for ${n}`,description:`For your brand awareness campaign${r?` promoting ${r}`:""}, target 5-15% brand lift. Track unaided brand recall, social mentions for "${n}", and search volume increases for your product category.`,source:"Marketing Industry Reports 2025",confidence:.88,actionable:!0}),o.toLowerCase().includes("story")||a.toLowerCase().includes("story")?t.push({type:"creative",title:"Narrative-Driven Approach",description:`Your campaign narrative "${o}" shows strong storytelling focus. Story-driven campaigns increase engagement by 300%. Build your creative executions around this narrative arc across all activities.`,confidence:.9,actionable:!0}):t.push({type:"creative",title:"Storytelling Enhancement",description:`Consider strengthening the storytelling element in "${n}". Brand awareness campaigns perform 23% better with emotional storytelling. ${a?`Your concept "${a}" could be expanded into a compelling brand story.`:"Develop a narrative that connects with audience values."}`,confidence:.82,actionable:!0})),(u.includes("sales")||u.includes("conversion")||u.includes("lead"))&&(t.push({type:"benchmark",title:`Conversion Benchmarks for ${r||"Your Product"}`,description:`For ${r||"your product/service"} sales campaigns: Display ads 0.5-1%, Social media 1-3%, Email 15-25%. ${l.includes("socialMedia")?"Your social media activities should target 1-3% conversion.":"Consider adding social media for 1-3% conversion rates."}`,source:"Digital Marketing Benchmarks 2025",confidence:.92,actionable:!0}),t.push({type:"strategy",title:`Sales Funnel for ${r||"Your Product"}`,description:`Sales campaigns for ${r||"your product/service"} benefit from 7-13 touchpoints. ${l.length>0?`Your selected activities (${l.join(", ")}) create multiple touchpoints.`:""} Implement retargeting sequences and create campaign funnels that nurture leads through consideration.`,confidence:.85,actionable:!0}))}if(l.length>0){const u=l.length;u>2&&t.push({type:"strategy",title:`Multi-Channel Optimization for ${n}`,description:`Your ${u}-channel approach (${l.join(", ")}) provides strong market coverage. Allocate 60% budget to top-performing channels and 40% for testing new opportunities. ${i?`Ensure "${i}" appears consistently across all channels.`:"Maintain consistent messaging across all touchpoints."}`,confidence:.88,actionable:!0}),l.includes("videoAds")&&(t.push({type:"creative",title:`Video Strategy for ${n}`,description:`For your video ads${a?` based on "${a}"`:""}, aim for under 30 seconds (85% completion vs 45% for longer). ${i?`Lead with your tagline "${i}" in the first 3 seconds.`:"Hook viewers in first 3 seconds with strong visual or question."} ${r?`Showcase ${r} benefits early.`:""}`,confidence:.9,actionable:!0}),t.push({type:"benchmark",title:`Video KPIs for ${n}`,description:"Target benchmarks: View-through rate 25-35%, Click-through rate 1-3%, Cost per completed view $0.05-0.15.",source:"Video Marketing Analytics 2025",confidence:.85,actionable:!0})),l.includes("influencers")&&t.push({type:"strategy",title:`Influencer Strategy for ${r||n}`,description:`For ${r||"your product"}, micro-influencers (10K-100K followers) generate 60% higher engagement and 6.7x better ROI. ${a?`Find influencers who align with your "${a}" concept.`:"Focus on authentic partnerships."} ${o?"Brief them on your campaign narrative for authentic storytelling.":""}`,confidence:.89,actionable:!0}),l.includes("socialMedia")&&t.push({type:"creative",title:`Social Media Strategy for ${n}`,description:`Tailor your "${a||n}" creative for each platform: Instagram (aesthetics), LinkedIn (professional value), TikTok (entertainment). ${i?`Adapt "${i}" to each platform's tone.`:"Avoid one-size-fits-all content."} ${r?`Showcase ${r} benefits native to each platform.`:""}`,confidence:.86,actionable:!0}),l.includes("outdoor")&&t.push({type:"benchmark",title:`OOH Strategy for ${n}`,description:`Outdoor campaigns for ${r||"your product"} typically see 2.5x brand recall lift. ${i?`Your tagline "${i}" should be prominently featured for 3-second readability.`:"Ensure 3-second readability for highway visibility."} Prime locations cost $5-50K/month depending on market.`,source:"OOH Industry Standards 2025",confidence:.83,actionable:!0}),l.includes("photoshoot")&&t.push({type:"creative",title:`Photography Direction for ${n}`,description:`Your photoshoot should bring "${a||n}" to life visually. ${r?`Focus on lifestyle shots showing ${r} in use.`:"Focus on lifestyle and product hero shots."} ${o?"Capture the emotion and story from your narrative.":"Capture authentic moments that resonate with your target audience."}`,confidence:.84,actionable:!0}),l.includes("mediaEvent")&&t.push({type:"strategy",title:`Media Event Strategy for ${n}`,description:`Your media event should be the centerpiece launch for "${n}". ${r?`Demo ${r} benefits live.`:"Create memorable experiences for journalists."} ${a?`Design the event around your "${a}" theme.`:"Ensure strong brand presence and photo opportunities."} Invite key industry journalists and influencers.`,confidence:.81,actionable:!0})}else console.log("ℹ️ No activities array found, adding general recommendations"),t.push({type:"strategy",title:`Activity Recommendations for ${n}`,description:`For "${n}"${r?` promoting ${r}`:""}, consider: digital video ads for reach, social media for engagement, and influencer partnerships for authenticity. ${a?`All activities should reflect your "${a}" creative concept.`:""}`,confidence:.78,actionable:!0});const c=n.toLowerCase();if((c.includes("summer")||c.includes("seasonal")||a.toLowerCase().includes("summer"))&&t.push({type:"strategy",title:`Seasonal Strategy for ${n}`,description:`Your summer campaign "${n}" should launch 2-3 weeks before peak season. ${r?`Position ${r} as essential for summer activities.`:""} Consider weather-triggered dynamic content and location-based targeting for beach/outdoor areas.`,confidence:.85,actionable:!0}),(c.includes("awareness")||e.campaign_objective&&e.campaign_objective.toLowerCase().includes("awareness"))&&t.push({type:"metric",title:`Brand Awareness Measurement for ${n}`,description:`Track brand lift surveys for "${n}", social sentiment analysis, share of voice, and organic search increases for "${r||n}". Set up pre/post measurement studies. ${i?`Monitor mentions of your tagline "${i}".`:""}`,confidence:.91,actionable:!0}),(c.includes("eco")||c.includes("green")||c.includes("sustainable")||a.toLowerCase().includes("eco")||a.toLowerCase().includes("green")||a.toLowerCase().includes("sustainable"))&&t.push({type:"creative",title:`Sustainability Messaging for ${n}`,description:`Your eco-focused campaign "${n}" should show tangible environmental impact. ${r?`Highlight specific eco-benefits of ${r}.`:""} Include third-party certifications and measurable sustainability metrics. ${a?`Weave environmental responsibility into your "${a}" creative concept.`:""}`,confidence:.88,actionable:!0}),t.push({type:"creative",title:`Creative Consistency for ${n}`,description:`Maintain visual consistency for "${n}" across all channels while adapting format. ${i?`Your tagline "${i}" should appear consistently.`:""} ${a?`Your "${a}" concept should be recognizable in every execution.`:"Consistent branding increases revenue by 23% and improves recognition by 80%."} Create brand guidelines for your team.`,confidence:.88,actionable:!0}),t.push({type:"metric",title:`Attribution Tracking for ${n}`,description:`For "${n}", implement UTM parameters, conversion pixels, and customer journey tracking. ${l.length>0?`Track attribution across your ${l.length} activities: ${l.join(", ")}.`:""} Use multi-touch attribution to understand true campaign impact and optimize budget allocation.`,confidence:.93,actionable:!0}),o){const u=o.toLowerCase();(u.includes("story")||u.includes("storytelling"))&&t.push({type:"creative",title:`Storytelling Execution for ${n}`,description:`Your narrative "${o}" is story-focused, which increases engagement by 300%. Create a content arc across all touchpoints that builds emotional connection. ${i?`Use "${i}" as your story's memorable hook.`:""} ${r?`Show how ${r} fits into customers' life stories.`:""}`,confidence:.91,actionable:!0}),(u.includes("lifestyle")||u.includes("values"))&&t.push({type:"strategy",title:`Values-Based Targeting for ${n}`,description:`Your values-focused narrative "${o}" should use psychographic targeting. ${r?`Target audiences whose values align with ${r} benefits.`:"Focus on interest-based audiences rather than just demographics."} Create personas based on values and lifestyle preferences.`,confidence:.87,actionable:!0})}return t.push({type:"strategy",title:`Optimization Plan for ${n}`,description:`For "${n}", plan 2-week optimization cycles. Reserve 20% budget for testing and scaling winning variants. ${a?`A/B test different executions of your "${a}" concept.`:"A/B test headlines, visuals, and CTAs."} ${i?`Test variations of "${i}" placement and presentation.`:""}`,confidence:.89,actionable:!0}),t.sort((u,d)=>d.confidence-u.confidence)}},gT=({notification:e,isOpen:t,onClose:n})=>{var T,I,F;gi();const[r,a]=h.useState([]),[i,o]=h.useState(!1),[l,c]=h.useState(!1),[u,d]=h.useState(!1),[p,f]=h.useState(!1),[m,g]=h.useState(null),[x,w]=h.useState(""),[v,y]=h.useState(""),[b,j]=h.useState(!1),S=async()=>{j(!0);try{const _=await fetch(`${R}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"admin@example.com",password:"admin123"})});if(_.ok){const D=await _.json();localStorage.setItem("authToken",D.token),alert("Logged in as admin successfully!"),console.log("🔐 Admin login successful, token stored")}else alert("Login failed")}catch(_){console.error("Login error:",_),alert("Login error")}finally{j(!1)}};if(h.useEffect(()=>{t&&e&&e.metadata&&(o(!0),setTimeout(()=>{const _=hT.analyzeCampaign(e.metadata);a(_),o(!1)},1500))},[t,e]),!t||!e)return null;const k=_=>new Date(_).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),C=_=>{switch(_){case"benchmark":return s.jsx(Ga,{className:"w-4 h-4"});case"creative":return s.jsx(gg,{className:"w-4 h-4"});case"strategy":return s.jsx(Se,{className:"w-4 h-4"});case"metric":return s.jsx(ja,{className:"w-4 h-4"});default:return s.jsx(gr,{className:"w-4 h-4"})}},E=_=>{switch(_){case"benchmark":return"text-blue-600 bg-blue-50 border-blue-200";case"creative":return"text-purple-600 bg-purple-50 border-purple-200";case"strategy":return"text-green-600 bg-green-50 border-green-200";case"metric":return"text-orange-600 bg-orange-50 border-orange-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},R=`${window.location.protocol}//${window.location.hostname}:2345`,M=async _=>{if(e.campaign_id){d(!0);try{const D=localStorage.getItem("authToken");if(console.log("🔐 Token check:",D?`Token exists: ${D.substring(0,20)}...`:"No token found"),console.log("📤 Sending approval request:",{action:_,campaignId:e.campaign_id}),!D){alert("You need to be logged in to perform this action. Please log in first."),window.location.href="/";return}const $=await fetch(`${R}/api/campaigns/${e.campaign_id}/internal-approval`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${D}`},body:JSON.stringify({action:_,feedback:x})});if(console.log("📨 Response status:",$.status),$.ok){const z=await $.json();console.log("✅ Success result:",z),alert(`Campaign ${_}d successfully!`),f(!1),n(),window.location.reload()}else{const z=await $.json().catch(()=>({error:"Unknown error"}));console.log("❌ Error response:",z),alert(`Failed to ${_} campaign: ${z.error}`)}}catch(D){console.error("Error processing approval:",D),alert(`Failed to ${_} campaign`)}finally{d(!1)}}},N=async()=>{if(!(!e.campaign_id||!v)){d(!0);try{const _=localStorage.getItem("authToken"),D=await fetch(`${R}/api/campaigns/${e.campaign_id}/request-client-approval`,{method:"POST",headers:{"Content-Type":"application/json",..._?{Authorization:`Bearer ${_}`}:{}},body:JSON.stringify({client_email:v})});if(D.ok)alert(`Campaign sent for client approval to ${v}!`),n(),window.location.reload();else{const $=await D.json();alert(`Failed to send for client approval: ${$.error}`)}}catch(_){console.error("Error requesting client approval:",_),alert("Failed to send for client approval")}finally{d(!1)}}};return s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-purple-50",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(kn,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e.title}),s.jsx("p",{className:"text-sm text-gray-500",children:"Campaign Assignment Details"})]})]}),s.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(vt,{className:"w-5 h-5 text-gray-500"})})]}),s.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)]",children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-blue-800 font-medium mb-2",children:e.message}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-blue-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ht,{className:"w-4 h-4"}),k(e.created_at)]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(kn,{className:"w-4 h-4"}),"Created by ",e.created_by]})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx(Se,{className:"w-5 h-5 text-green-600"}),"Campaign Information"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Campaign Name"}),s.jsx("p",{className:"text-gray-900",children:e.campaign_name})]}),((T=e.metadata)==null?void 0:T.campaign_objective)&&s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Objective"}),s.jsx("p",{className:"text-gray-900",children:e.metadata.campaign_objective})]}),((I=e.metadata)==null?void 0:I.activities)&&e.metadata.activities.length>0&&s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Activities"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.metadata.activities.map((_,D)=>s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:_.replace(/([A-Z])/g," $1").replace(/^./,$=>$.toUpperCase())},D))})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx(kn,{className:"w-5 h-5 text-blue-600"}),"Assignment Details"]}),((F=e.metadata)==null?void 0:F.assigned_manager)&&s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Account Manager"}),s.jsx("p",{className:"text-gray-900",children:e.metadata.assigned_manager.name}),s.jsx("p",{className:"text-sm text-gray-500",children:e.metadata.assigned_manager.email})]})}),s.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"Next Steps"}),s.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[s.jsx("li",{children:"• Review campaign objectives and requirements"}),s.jsx("li",{children:"• Set up tracking and analytics"}),s.jsx("li",{children:"• Create project timeline and milestones"}),s.jsx("li",{children:"• Coordinate with creative and strategy teams"})]})]})]})]}),e.type==="internal_approval_request"&&s.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx(Se,{className:"w-5 h-5 text-orange-600"}),"Internal Approval Required"]}),s.jsx("button",{onClick:S,disabled:b,className:"px-3 py-1 text-sm bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors disabled:opacity-50",children:b?"Logging in...":"Quick Admin Login"})]}),s.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-4",children:[s.jsx("p",{className:"text-orange-800 font-medium mb-2",children:"This campaign requires your internal approval as an admin."}),s.jsx("p",{className:"text-orange-700 text-sm",children:"Please review all campaign details above and choose to approve or reject."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("button",{onClick:()=>{g("approve"),f(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[s.jsx(qn,{className:"w-4 h-4"}),"Approve"]}),s.jsxs("button",{onClick:()=>{g("reject"),f(!0)},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center gap-2",children:[s.jsx(vt,{className:"w-4 h-4"}),"Reject"]})]})]}),e.type==="client_approval_request"&&s.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Se,{className:"w-5 h-5 text-blue-600"}),"Client Approval Request"]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[s.jsx("p",{className:"text-blue-800 font-medium mb-2",children:"This campaign is ready for client approval."}),s.jsx("p",{className:"text-blue-700 text-sm",children:"Enter the client's email address to send the approval request."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("input",{type:"email",placeholder:"Client email address...",value:v,onChange:_=>y(_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsxs("button",{onClick:N,disabled:!v||u,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[u?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):s.jsx(qn,{className:"w-4 h-4"}),u?"Sending...":"Send for Client Approval"]})]})]}),e.type==="campaign_assignment"&&s.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx(gr,{className:"w-5 h-5 text-purple-600"}),"Research Agent Insights"]}),s.jsxs("button",{onClick:()=>c(!l),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2",children:[s.jsx(gr,{className:"w-4 h-4"}),l?"Hide Insights":"Show AI Insights"]})]}),l&&s.jsx("div",{className:"space-y-4",children:i?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(gr,{className:"w-8 h-8 text-purple-600 animate-pulse mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600",children:"AI Research Agent is analyzing your campaign..."}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Gathering benchmarks and creative insights"})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Based on your campaign objectives and activities, here are AI-generated insights and recommendations:"}),r.map((_,D)=>s.jsx("div",{className:`p-4 rounded-lg border ${E(_.type)}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-1 rounded",children:C(_.type)}),s.jsxs("div",{className:"flex-grow",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h4",{className:"font-medium",children:_.title}),s.jsxs("span",{className:"px-2 py-1 text-xs rounded-full bg-white bg-opacity-60",children:[Math.round(_.confidence*100),"% confidence"]})]}),s.jsx("p",{className:"text-sm mb-2",children:_.description}),_.source&&s.jsxs("p",{className:"text-xs opacity-75 flex items-center gap-1",children:[s.jsx(W4,{className:"w-3 h-3"}),"Source: ",_.source]})]})]})},D))]})})]})]})}),s.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:["Campaign ID: ",e.campaign_id]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("button",{onClick:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Close"})})]})]}),p&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:m==="approve"?"Approve Campaign":"Reject Campaign"}),s.jsx("p",{className:"text-gray-600 mb-4",children:m==="approve"?"Are you sure you want to approve this campaign? It will be sent for client approval.":"Are you sure you want to reject this campaign? The account manager will be notified."}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:m==="approve"?"Approval Notes (Optional)":"Rejection Reason"}),s.jsx("textarea",{value:x,onChange:_=>w(_.target.value),placeholder:m==="approve"?"Add any notes for the client or account manager...":"Please explain why this campaign is being rejected...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>f(!1),className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:()=>M(m),disabled:u||m==="reject"&&!x.trim(),className:`flex-1 px-4 py-2 text-white rounded-lg transition-colors disabled:opacity-50 ${m==="approve"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:u?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Processing..."]}):m==="approve"?"Approve Campaign":"Reject Campaign"})]})]})})})]})},xT=({className:e})=>{const{user:t}=Ss(),[n,r]=h.useState([]),[a,i]=h.useState(0),[o,l]=h.useState(!1),[c,u]=h.useState(!1),[d,p]=h.useState(null),[f,m]=h.useState(!1),g=h.useRef(null),x=`${window.location.protocol}//${window.location.hostname}:2345`,w=async()=>{try{if(u(!0),!(t!=null&&t.email)){console.log("No user logged in"),u(!1);return}const k=(t==null?void 0:t.email)||"admin@example.com";console.log("📧 Current user object:",t),console.log("📧 Fetching notifications for user:",k),console.log("📧 API URL:",`${x}/api/notifications`);const C=await fetch(`${x}/api/notifications`,{headers:{"X-User-Email":k,"Content-Type":"application/json"}});if(!C.ok)throw new Error("Failed to fetch notifications");const E=await C.json();console.log("📬 Fetched notifications:",E),r(E.notifications||[]),i(E.unread_count||0)}catch(k){console.error("❌ Error fetching notifications:",k)}finally{u(!1)}},v=async k=>{try{(await fetch(`${x}/api/notifications/${k}/read`,{method:"PUT",headers:{"X-User-Email":(t==null?void 0:t.email)||"admin@example.com","Content-Type":"application/json"}})).ok&&r(E=>E.map(M=>M._id===k?(!M.is_read&&i(T=>Math.max(0,T-1)),{...M,is_read:!0}):M))}catch(C){console.error("❌ Error marking notification as read:",C)}},y=async()=>{try{const k=await fetch(`${x}/api/notifications/mark-all-read`,{method:"PUT",headers:{"X-User-Email":(t==null?void 0:t.email)||"admin@example.com","Content-Type":"application/json"}});k.ok?(r(C=>C.map(E=>({...E,is_read:!0}))),i(0),console.log("✅ All notifications marked as read")):console.error("❌ Failed to mark all notifications as read:",k.status)}catch(k){console.error("❌ Error marking all notifications as read:",k)}},b=k=>{switch(k){case"campaign_assignment":return s.jsx(kn,{className:"w-4 h-4 text-blue-500"});case"campaign_status":return s.jsx(qn,{className:"w-4 h-4 text-green-500"});default:return s.jsx(mg,{className:"w-4 h-4 text-gray-500"})}},j=async k=>{p(k),m(!0),l(!1),await v(k._id)},S=k=>{const C=new Date(k),R=new Date().getTime()-C.getTime(),M=Math.floor(R/(1e3*60)),N=Math.floor(M/60),T=Math.floor(N/24);return M<1?"Just now":M<60?`${M}m ago`:N<24?`${N}h ago`:T<7?`${T}d ago`:C.toLocaleDateString()};return h.useEffect(()=>{const k=C=>{g.current&&!g.current.contains(C.target)&&l(!1)};return o&&document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[o]),h.useEffect(()=>{w();const k=setInterval(w,3e4);return()=>clearInterval(k)},[]),s.jsxs("div",{className:`relative ${e}`,ref:g,children:[s.jsxs("button",{onClick:()=>{l(!o),o||w()},className:"relative p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[s.jsx($y,{className:"w-5 h-5"}),a>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:a>9?"9+":a})]}),o&&s.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50 max-h-96 overflow-hidden",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 flex items-center justify-between",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Notifications"}),a>0&&s.jsx("button",{onClick:y,className:"text-sm text-blue-600 hover:text-blue-800",children:"Mark all read"})]}),s.jsx("div",{className:"max-h-80 overflow-y-auto",children:c?s.jsxs("div",{className:"p-4 text-center text-gray-500",children:[s.jsx(xi,{className:"w-5 h-5 mx-auto mb-2 animate-spin"}),"Loading notifications..."]}):n.length===0?s.jsxs("div",{className:"p-4 text-center text-gray-500",children:[s.jsx($y,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),"No notifications yet"]}):n.map(k=>s.jsx("div",{className:`p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer ${k.is_read?"":"bg-blue-50"}`,onClick:()=>j(k),children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:b(k.type)}),s.jsxs("div",{className:"flex-grow min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("h4",{className:`text-sm font-medium ${k.is_read?"text-gray-700":"text-gray-900"}`,children:k.title}),!k.is_read&&s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0 mt-1"})]}),s.jsx("p",{className:`text-sm mt-1 ${k.is_read?"text-gray-500":"text-gray-600"}`,children:k.message}),k.campaign_name&&s.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Campaign: ",k.campaign_name]}),s.jsx("p",{className:"text-xs text-gray-400 mt-2",children:S(k.created_at)})]})]})},k._id))}),n.length>0&&s.jsx("div",{className:"px-4 py-3 border-t border-gray-200 text-center",children:s.jsx("button",{onClick:()=>l(!1),className:"text-sm text-gray-500 hover:text-gray-700",children:"Close"})})]}),s.jsx(gT,{notification:d,isOpen:f,onClose:()=>{m(!1),p(null)}})]})},vT=()=>{const e=Ns(),{selectedClient:t}=vi(),{user:n,logout:r}=Ss(),a=[{path:"/",label:"Home",icon:Q4},{path:"/business",label:"Business Data",icon:vm},{path:"/project-overview",label:"Project Overview",icon:Iy}],i=[{path:"/access",label:"Access",icon:kn}],o={path:"/labs",label:"Action Labs",icon:H4};let l=[];(n==null?void 0:n.user_type)==="client"&&(n!=null&&n.association)?l=[{path:"/business",label:"Business Data",icon:vm},{path:"/project-overview",label:"Project Overview",icon:Iy}]:l=[...a,...(n==null?void 0:n.email)==="admin@example.com"||(n==null?void 0:n.user_type)==="admin"||(n==null?void 0:n.user_type)==="employee"||!(n!=null&&n.user_type)?i:[],o];const c=()=>{window.confirm("Are you sure you want to logout?")&&r()};return s.jsx("nav",{className:"sticky top-0 z-50 bg-white shadow-soft border-b border-gray-200",children:s.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between h-16",children:[s.jsx("div",{className:"flex items-center",children:s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Finance Dashboard"})}),s.jsxs("div",{className:"flex items-center space-x-8",children:[l.map(({path:u,label:d,icon:p})=>s.jsxs(K3,{to:u,className:`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ${e.pathname===u?"text-primary-600 bg-primary-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[s.jsx(p,{className:"w-4 h-4 mr-2"}),d]},u)),t&&s.jsxs("div",{className:"flex items-center px-3 py-2 bg-blue-50 border border-blue-200 rounded-md",children:[s.jsx(hg,{className:"w-4 h-4 text-blue-600 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-blue-900",children:t.name})]}),n&&s.jsx(xT,{}),n&&s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center px-3 py-2 bg-gray-50 border border-gray-200 rounded-md",children:[s.jsx(kn,{className:"w-4 h-4 text-gray-600 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:n.name||n.email})]}),s.jsx("button",{onClick:c,className:"flex items-center px-3 py-2 text-sm font-medium text-red-600 hover:text-red-800 hover:bg-red-50 rounded-md transition-colors",title:"Logout",children:s.jsx(Z4,{className:"w-4 h-4"})})]})]})]})})})},Ws="/api",FN={getReports:async e=>{const t=new URLSearchParams;e!=null&&e.month&&t.append("month",e.month),e!=null&&e.limit&&t.append("limit",e.limit.toString()),e!=null&&e.offset&&t.append("offset",e.offset.toString()),e!=null&&e.clientId&&t.append("clientId",e.clientId);const n=await fetch(`${Ws}/reports?${t}`);if(!n.ok)throw new Error("Failed to fetch reports");return n.json()},createReport:async e=>{const t=await fetch(`${Ws}/reports`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create report");return t.json()},getStats:async e=>{const t=new URLSearchParams;e&&t.append("clientId",e);const n=await fetch(`${Ws}/reports/stats?${t}`);if(!n.ok)throw new Error("Failed to fetch stats");return n.json()},getRollups:async(e,t="month")=>{const n=new URLSearchParams;n.append("group",t),e&&n.append("clientId",e);const r=await fetch(`${Ws}/reports/rollups?${n}`);if(!r.ok)throw new Error("Failed to fetch rollups");return r.json()},clearAll:async()=>{if(!(await fetch(`${Ws}/reports`,{method:"DELETE"})).ok)throw new Error("Failed to clear data")}},Wl="/api",ql={getStatus:async()=>{const e=await fetch(`${Wl}/backup/status`);if(!e.ok)throw new Error("Failed to fetch backup status");return e.json()},createBackup:async(e="primary")=>{const t=await fetch(`${Wl}/backup/run?target=${e}`,{method:"POST"});if(!t.ok)throw new Error("Failed to create backup");return t.json()},checkIntegrity:async()=>{const e=await fetch(`${Wl}/backup/integrity`,{method:"POST"});if(!e.ok)throw new Error("Failed to check integrity");return e.json()},recover:async(e="primary")=>{const t=await fetch(`${Wl}/backup/recover?source=${e}`,{method:"POST"});if(!t.ok)throw new Error("Failed to recover from backup");return t.json()}},yT="/api",bT={exportCsv:()=>`${yT}/export/csv`};function oe(e){const{children:t,className:n="",padding:r=!0,title:a,style:i}=e;return s.jsxs("div",{className:`card ${r?"p-6":""} ${n}`,style:i,children:[a&&s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:a}),t]})}const wT=()=>{const[e,t]=h.useState(!1),n=wa(),{data:r,isLoading:a}=Me({queryKey:["backupStatus"],queryFn:ql.getStatus,refetchInterval:3e4}),i=ot({mutationFn:ql.createBackup,onSuccess:()=>{n.invalidateQueries({queryKey:["backupStatus"]})}}),o=ot({mutationFn:ql.checkIntegrity}),l=ot({mutationFn:ql.recover,onSuccess:()=>{n.invalidateQueries()}}),c=f=>f<1024?`${f.toFixed(1)} KB`:`${(f/1024).toFixed(1)} MB`,u=f=>f?new Date(f).toLocaleString():"Never",d=f=>f?"text-green-600":"text-red-600",p=async f=>{window.confirm(`Are you sure you want to recover from ${f} backup? This will replace all current data.`)&&l.mutate(f)};return a?s.jsx(oe,{children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-48 mb-4"}),s.jsx("div",{className:"grid grid-cols-4 gap-4",children:[...Array(4)].map((f,m)=>s.jsx("div",{className:"h-20 bg-gray-200 rounded"},m))})]})}):s.jsxs(s.Fragment,{children:[s.jsxs(oe,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Data Persistence Status"}),s.jsx("button",{onClick:()=>t(!0),className:"btn-secondary text-sm",children:"View Details"})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsx(vm,{className:"w-8 h-8 text-gray-600 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(r==null?void 0:r.records_stored)||0}),s.jsx("div",{className:"text-sm text-gray-600",children:"Records Stored"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"v1.0"})]}),s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"flex justify-center mb-2",children:s.jsx(qn,{className:"w-8 h-8 text-green-600"})}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Main Storage"}),s.jsx("div",{className:"text-xs text-gray-600",children:c((r==null?void 0:r.main_storage_kb)||0)}),s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full mx-auto mt-1"})]}),s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"flex justify-center mb-2",children:s.jsx(ym,{className:`w-8 h-8 ${d(!!(r!=null&&r.primary_last_at))}`})}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Primary Backup"}),s.jsx("div",{className:"text-xs text-gray-600",children:c((r==null?void 0:r.primary_backup_kb)||0)}),s.jsx("div",{className:`w-2 h-2 rounded-full mx-auto mt-1 ${r!=null&&r.primary_last_at?"bg-green-400":"bg-red-400"}`})]}),s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"flex justify-center mb-2",children:s.jsx(Zn,{className:`w-8 h-8 ${d(!!(r!=null&&r.emergency_last_at))}`})}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Emergency Backup"}),s.jsx("div",{className:"text-xs text-gray-600",children:c((r==null?void 0:r.emergency_backup_kb)||0)}),s.jsx("div",{className:`w-2 h-2 rounded-full mx-auto mt-1 ${r!=null&&r.emergency_last_at?"bg-green-400":"bg-red-400"}`})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx("button",{onClick:()=>t(!0),className:"btn-secondary text-sm",children:"View Storage Details"}),s.jsx("button",{onClick:()=>i.mutate("primary"),disabled:i.isPending,className:"btn-primary text-sm",children:i.isPending?"Creating...":"Create Backup Now"}),s.jsxs("a",{href:bT.exportCsv(),className:"btn-secondary text-sm inline-flex items-center",children:[s.jsx(fd,{className:"w-4 h-4 mr-2"}),"Export Safety Copy"]}),s.jsxs("button",{onClick:()=>o.mutate(),disabled:o.isPending,className:"btn-secondary text-sm",children:[s.jsx(rT,{className:`w-4 h-4 mr-2 ${o.isPending?"animate-spin":""}`}),"Check Data Integrity"]}),s.jsx("button",{onClick:()=>p("primary"),disabled:l.isPending,className:"btn-danger text-sm",children:"Recover Data"})]}),o.data&&s.jsx("div",{className:`mt-4 p-3 rounded-md ${o.data.match?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:s.jsx("p",{className:`text-sm ${o.data.match?"text-green-800":"text-red-800"}`,children:o.data.match?`✓ Data integrity verified (${o.data.database_count} records)`:`⚠ Integrity check failed: DB has ${o.data.database_count} records, backup has ${o.data.backup_count}`})})]}),e&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-lg w-full mx-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Storage Details"}),s.jsx("button",{onClick:()=>t(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(vt,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Primary Backup"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Size: ",c((r==null?void 0:r.primary_backup_kb)||0)]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Last backup: ",u(r==null?void 0:r.primary_last_at)]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Emergency Backup"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Size: ",c((r==null?void 0:r.emergency_backup_kb)||0)]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Last backup: ",u(r==null?void 0:r.emergency_last_at)]})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("button",{onClick:()=>i.mutate("emergency"),disabled:i.isPending,className:"btn-secondary w-full mb-2",children:"Create Emergency Backup"}),s.jsx("button",{onClick:()=>p("emergency"),disabled:l.isPending,className:"btn-danger w-full",children:"Recover from Emergency Backup"})]})]})]})})]})},Ei="/api/clients",Wy={async getClients(){const e=await fetch(Ei);if(!e.ok)throw new Error(`Failed to fetch clients: ${e.statusText}`);return e.json()},async getClient(e){const t=await fetch(`${Ei}/${e}`);if(!t.ok)throw new Error(`Failed to fetch client: ${t.statusText}`);return t.json()},async createClient(e){const t=await fetch(Ei,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`Failed to create client: ${t.statusText}`)}return t.json()},async updateClient(e,t){const n=await fetch(`${Ei}/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok){const r=await n.json().catch(()=>({}));throw new Error(r.error||`Failed to update client: ${n.statusText}`)}return n.json()},async deleteClient(e){const t=await fetch(`${Ei}/${e}`,{method:"DELETE"});if(!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`Failed to delete client: ${t.statusText}`)}return t.json()},async getClientStats(e){const t=await fetch(`${Ei}/${e}/stats`);if(!t.ok)throw new Error(`Failed to fetch client stats: ${t.statusText}`);return t.json()}},jT=({className:e=""})=>{const{selectedClient:t,setSelectedClient:n,clients:r,setClients:a,isLoadingClients:i,setIsLoadingClients:o}=vi(),[l,c]=h.useState(!1),[u,d]=h.useState(!1),[p,f]=h.useState({name:"",email:"",phone:"",company:""}),m=wa(),{data:g}=Me({queryKey:["clients"],queryFn:()=>Wy.getClients(),onSuccess:y=>{a(y.clients),o(!1)},onError:()=>{o(!1)}}),x=ot({mutationFn:y=>Wy.createClient(y),onSuccess:y=>{const b=[...r,y.client];a(b),n(y.client),d(!1),f({name:"",email:"",phone:"",company:""}),m.invalidateQueries({queryKey:["clients"]})},onError:y=>{console.error("Error adding client:",y),alert("Failed to add client. Please try again.")}});h.useEffect(()=>{g!=null&&g.clients&&a(g.clients)},[g,a]);const w=y=>{n(y),c(!1)},v=()=>{p.name.trim()&&x.mutate({name:p.name.trim(),email:p.email.trim()||void 0,phone:p.phone.trim()||void 0,company:p.company.trim()||void 0})};return s.jsxs("div",{className:`relative ${e}`,children:[s.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-3 w-full px-4 py-3 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx(Et,{className:"w-5 h-5 text-gray-400"}),s.jsx("div",{className:"flex-1 text-left",children:t?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:t.name}),s.jsx("div",{className:"text-sm text-gray-500",children:t.company||"No company"})]}):s.jsx("div",{className:"text-gray-500",children:"Select a client..."})}),s.jsx(kc,{className:`w-4 h-4 text-gray-400 transition-transform ${l?"rotate-180":""}`})]}),l&&s.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:[r.map(y=>s.jsxs("button",{onClick:()=>w(y),className:"flex items-center gap-3 w-full px-4 py-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:[s.jsx(hg,{className:"w-4 h-4 text-gray-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-gray-900",children:y.name}),s.jsx("div",{className:"text-sm text-gray-500",children:y.company||"No company"})]}),(t==null?void 0:t.id)===y.id&&s.jsx($N,{className:"w-4 h-4 text-blue-600"})]},y.id)),s.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-3 w-full px-4 py-3 text-left hover:bg-blue-50 text-blue-600 border-t border-gray-200",children:[s.jsx(tn,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:"Add New Client"})]})]}),u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Add New Client"}),s.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(vt,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client Name *"}),s.jsx("input",{type:"text",value:p.name,onChange:y=>f({...p,name:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter client name",autoFocus:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),s.jsx("input",{type:"text",value:p.company,onChange:y=>f({...p,company:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter company name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:p.email,onChange:y=>f({...p,email:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter email address"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),s.jsx("input",{type:"tel",value:p.phone,onChange:y=>f({...p,phone:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter phone number"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx("button",{onClick:()=>d(!1),className:"btn-secondary",children:"Cancel"}),s.jsx("button",{onClick:v,disabled:!p.name.trim()||x.isPending,className:"btn-primary",children:x.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Uo,{className:"w-4 h-4 mr-2 animate-spin"}),"Adding..."]}):"Add Client"})]})]})})]})},NT=()=>{const e=gi(),{selectedClient:t}=vi();return Me({queryKey:["stats",t==null?void 0:t.id],queryFn:()=>t?FN.getStats(t.id):Promise.resolve(null),enabled:!!t}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(oe,{className:"mb-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Welcome to Your Finance Dashboard"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto mb-6",children:"Comprehensive business data management and analytics platform. Import, analyze, and track your financial metrics with advanced backup and recovery capabilities."}),s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Client to Continue"}),s.jsx(jT,{}),!t&&s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please select a client to access your dashboard data"})]})]})}),t?s.jsxs(s.Fragment,{children:[s.jsxs(oe,{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("button",{onClick:()=>e("/business"),className:"flex items-center justify-between p-6 bg-primary-50 hover:bg-primary-100 border border-primary-200 rounded-lg transition-colors group",children:[s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"text-lg font-semibold text-primary-900 mb-1",children:"Access Business Data"}),s.jsxs("p",{className:"text-primary-700",children:["Import files, manage entries, and view business metrics for ",t.name]})]}),s.jsx(zp,{className:"w-6 h-6 text-primary-600 group-hover:text-primary-800 transition-colors"})]}),s.jsxs("button",{onClick:()=>e("/labs"),className:"flex items-center justify-between p-6 bg-gray-50 hover:bg-gray-100 border border-gray-200 rounded-lg transition-colors group",children:[s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Launch Action Labs"}),s.jsxs("p",{className:"text-gray-700",children:["Advanced analytics, data visualization, and strategic insights for ",t.name]})]}),s.jsx(zp,{className:"w-6 h-6 text-gray-600 group-hover:text-gray-800 transition-colors"})]})]})]}),s.jsx(wT,{})]}):s.jsx(oe,{children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:s.jsx(zp,{className:"w-8 h-8 text-gray-400 rotate-90"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Client Selection Required"}),s.jsx("p",{className:"text-gray-600",children:"Choose a client from the dropdown above to view their dashboard data, access business metrics, and manage their information."})]})})]})};function zN(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=zN(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ve(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=zN(e))&&(r&&(r+=" "),r+=t);return r}var md={},BN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(BN);var vg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(vg);var yg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(yg);var hd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],a=n.length;if(a===0)return r;let i=0,o="",l="",c=!1;for(n.charCodeAt(0)===46&&(r.push(""),i++);i<a;){const u=n[i];l?u==="\\"&&i+1<a?(i++,o+=n[i]):u===l?l="":o+=u:c?u==='"'||u==="'"?l=u:u==="]"?(c=!1,r.push(o),o=""):o+=u:u==="["?(c=!0,o&&(r.push(o),o="")):u==="."?o&&(r.push(o),o=""):o+=u,i++}return o&&r.push(o),r}e.toPath=t})(hd);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BN,n=vg,r=yg,a=hd;function i(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?n.isDeepKey(c)?i(l,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return o(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function o(l,c,u){if(c.length===0)return u;let d=l;for(let p=0;p<c.length;p++){if(d==null||t.isUnsafeProperty(c[p]))return u;d=d[c[p]]}return d===void 0?u:d}e.get=i})(md);var kT=md.get;const os=sr(kT);var UN={exports:{}},xe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ut=typeof Symbol=="function"&&Symbol.for,bg=ut?Symbol.for("react.element"):60103,wg=ut?Symbol.for("react.portal"):60106,gd=ut?Symbol.for("react.fragment"):60107,xd=ut?Symbol.for("react.strict_mode"):60108,vd=ut?Symbol.for("react.profiler"):60114,yd=ut?Symbol.for("react.provider"):60109,bd=ut?Symbol.for("react.context"):60110,jg=ut?Symbol.for("react.async_mode"):60111,wd=ut?Symbol.for("react.concurrent_mode"):60111,jd=ut?Symbol.for("react.forward_ref"):60112,Nd=ut?Symbol.for("react.suspense"):60113,ST=ut?Symbol.for("react.suspense_list"):60120,kd=ut?Symbol.for("react.memo"):60115,Sd=ut?Symbol.for("react.lazy"):60116,CT=ut?Symbol.for("react.block"):60121,PT=ut?Symbol.for("react.fundamental"):60117,AT=ut?Symbol.for("react.responder"):60118,ET=ut?Symbol.for("react.scope"):60119;function mn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case bg:switch(e=e.type,e){case jg:case wd:case gd:case vd:case xd:case Nd:return e;default:switch(e=e&&e.$$typeof,e){case bd:case jd:case Sd:case kd:case yd:return e;default:return t}}case wg:return t}}}function WN(e){return mn(e)===wd}xe.AsyncMode=jg;xe.ConcurrentMode=wd;xe.ContextConsumer=bd;xe.ContextProvider=yd;xe.Element=bg;xe.ForwardRef=jd;xe.Fragment=gd;xe.Lazy=Sd;xe.Memo=kd;xe.Portal=wg;xe.Profiler=vd;xe.StrictMode=xd;xe.Suspense=Nd;xe.isAsyncMode=function(e){return WN(e)||mn(e)===jg};xe.isConcurrentMode=WN;xe.isContextConsumer=function(e){return mn(e)===bd};xe.isContextProvider=function(e){return mn(e)===yd};xe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===bg};xe.isForwardRef=function(e){return mn(e)===jd};xe.isFragment=function(e){return mn(e)===gd};xe.isLazy=function(e){return mn(e)===Sd};xe.isMemo=function(e){return mn(e)===kd};xe.isPortal=function(e){return mn(e)===wg};xe.isProfiler=function(e){return mn(e)===vd};xe.isStrictMode=function(e){return mn(e)===xd};xe.isSuspense=function(e){return mn(e)===Nd};xe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===gd||e===wd||e===vd||e===xd||e===Nd||e===ST||typeof e=="object"&&e!==null&&(e.$$typeof===Sd||e.$$typeof===kd||e.$$typeof===yd||e.$$typeof===bd||e.$$typeof===jd||e.$$typeof===PT||e.$$typeof===AT||e.$$typeof===ET||e.$$typeof===CT)};xe.typeOf=mn;UN.exports=xe;var OT=UN.exports,Ut=e=>e===0?0:e>0?1:-1,cn=e=>typeof e=="number"&&e!=+e,qa=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ae=e=>(typeof e=="number"||e instanceof Number)&&!cn(e),ar=e=>ae(e)||typeof e=="string",TT=0,Wo=e=>{var t=++TT;return"".concat(e||"").concat(t)},Kn=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ae(t)&&typeof t!="string")return r;var i;if(qa(t)){if(n==null)return r;var o=t.indexOf("%");i=n*parseFloat(t.slice(0,o))/100}else i=+t;return cn(i)&&(i=r),a&&n!=null&&i>n&&(i=n),i},qN=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Ve(e,t,n){return ae(e)&&ae(t)?e+n*(t-e):t}function KN(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):os(r,t))===n)}var Oe=e=>e===null||typeof e>"u",cl=e=>Oe(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),_T=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Ng(e){if(typeof e!="string")return!1;var t=_T;return t.includes(e)}var MT=["viewBox","children"],qy=["points","pathLength"],Wp={svg:MT,polygon:qy,polyline:qy},kg=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(h.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{Ng(a)&&(r[a]=t||(i=>n[a](n,i)))}),r},DT=(e,t,n)=>r=>(e(t,n,r),null),Sg=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(a=>{var i=e[a];Ng(a)&&typeof i=="function"&&(r||(r={}),r[a]=DT(i,t,n))}),r},$T=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function VN(e){if(typeof e!="string")return!1;var t=$T;return t.includes(e)}function Na(e){var t=Object.entries(e).filter(n=>{var[r]=n;return VN(r)});return Object.fromEntries(t)}var Ky=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Vy=null,qp=null,HN=e=>{if(e===Vy&&Array.isArray(qp))return qp;var t=[];return h.Children.forEach(e,n=>{Oe(n)||(OT.isFragment(n)?t=t.concat(HN(n.props.children)):t.push(n))}),qp=t,Vy=e,t};function IT(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(a=>Ky(a)):r=[Ky(t)],HN(e).forEach(a=>{var i=os(a,"type.displayName")||os(a,"type.name");r.indexOf(i)!==-1&&n.push(a)}),n}var QN=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,RT=(e,t,n,r)=>{var a;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(a=r&&(Wp==null?void 0:Wp[r]))!==null&&a!==void 0?a:[],o=t.startsWith("data-"),l=typeof e!="function"&&(!!r&&i.includes(t)||VN(t)),c=!!n&&Ng(t);return o||l||c},We=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(h.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var a={};return Object.keys(r).forEach(i=>{var o;RT((o=r)===null||o===void 0?void 0:o[i],i,t,n)&&(a[i]=r[i])}),a},LT=["children","width","height","viewBox","className","style","title","desc"];function bm(){return bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bm.apply(null,arguments)}function FT(e,t){if(e==null)return{};var n,r,a=zT(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function zT(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var YN=h.forwardRef((e,t)=>{var{children:n,width:r,height:a,viewBox:i,className:o,style:l,title:c,desc:u}=e,d=FT(e,LT),p=i||{width:r,height:a,x:0,y:0},f=ve("recharts-surface",o);return h.createElement("svg",bm({},We(d,!0,"svg"),{className:f,width:r,height:a,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),h.createElement("title",null,c),h.createElement("desc",null,u),n)}),BT=["children","className"];function wm(){return wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wm.apply(null,arguments)}function UT(e,t){if(e==null)return{};var n,r,a=WT(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function WT(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Vn=h.forwardRef((e,t)=>{var{children:n,className:r}=e,a=UT(e,BT),i=ve("recharts-layer",r);return h.createElement("g",wm({className:i},We(a,!0),{ref:t}),n)}),qT=h.createContext(null);function we(e){return function(){return e}}const GN=Math.cos,su=Math.sin,Hn=Math.sqrt,ou=Math.PI,Cd=2*ou,jm=Math.PI,Nm=2*jm,Ia=1e-6,KT=Nm-Ia;function XN(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function VT(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return XN;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class HT{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?XN:VT(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=r-t,u=a-n,d=o-t,p=l-n,f=d*d+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>Ia)if(!(Math.abs(p*c-u*d)>Ia)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-o,g=a-l,x=c*c+u*u,w=m*m+g*g,v=Math.sqrt(x),y=Math.sqrt(f),b=i*Math.tan((jm-Math.acos((x+f-w)/(2*v*y)))/2),j=b/y,S=b/v;Math.abs(j-1)>Ia&&this._append`L${t+j*d},${n+j*p}`,this._append`A${i},${i},0,0,${+(p*m>d*g)},${this._x1=t+S*c},${this._y1=n+S*u}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(a),c=r*Math.sin(a),u=t+l,d=n+c,p=1^o,f=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ia||Math.abs(this._y1-d)>Ia)&&this._append`L${u},${d}`,r&&(f<0&&(f=f%Nm+Nm),f>KT?this._append`A${r},${r},0,1,${p},${t-l},${n-c}A${r},${r},0,1,${p},${this._x1=u},${this._y1=d}`:f>Ia&&this._append`A${r},${r},0,${+(f>=jm)},${p},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function Cg(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new HT(t)}function Pg(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ZN(e){this._context=e}ZN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Pd(e){return new ZN(e)}function JN(e){return e[0]}function ek(e){return e[1]}function tk(e,t){var n=we(!0),r=null,a=Pd,i=null,o=Cg(l);e=typeof e=="function"?e:e===void 0?JN:we(e),t=typeof t=="function"?t:t===void 0?ek:we(t);function l(c){var u,d=(c=Pg(c)).length,p,f=!1,m;for(r==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&n(p=c[u],u,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(p,u,c),+t(p,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:we(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:we(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:we(!!c),l):n},l.curve=function(c){return arguments.length?(a=c,r!=null&&(i=a(r)),l):a},l.context=function(c){return arguments.length?(c==null?r=i=null:i=a(r=c),l):r},l}function Kl(e,t,n){var r=null,a=we(!0),i=null,o=Pd,l=null,c=Cg(u);e=typeof e=="function"?e:e===void 0?JN:we(+e),t=typeof t=="function"?t:we(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?ek:we(+n);function u(p){var f,m,g,x=(p=Pg(p)).length,w,v=!1,y,b=new Array(x),j=new Array(x);for(i==null&&(l=o(y=c())),f=0;f<=x;++f){if(!(f<x&&a(w=p[f],f,p))===v)if(v=!v)m=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=f-1;g>=m;--g)l.point(b[g],j[g]);l.lineEnd(),l.areaEnd()}v&&(b[f]=+e(w,f,p),j[f]=+t(w,f,p),l.point(r?+r(w,f,p):b[f],n?+n(w,f,p):j[f]))}if(y)return l=null,y+""||null}function d(){return tk().defined(a).curve(o).context(i)}return u.x=function(p){return arguments.length?(e=typeof p=="function"?p:we(+p),r=null,u):e},u.x0=function(p){return arguments.length?(e=typeof p=="function"?p:we(+p),u):e},u.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:we(+p),u):r},u.y=function(p){return arguments.length?(t=typeof p=="function"?p:we(+p),n=null,u):t},u.y0=function(p){return arguments.length?(t=typeof p=="function"?p:we(+p),u):t},u.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:we(+p),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(p){return arguments.length?(a=typeof p=="function"?p:we(!!p),u):a},u.curve=function(p){return arguments.length?(o=p,i!=null&&(l=o(i)),u):o},u.context=function(p){return arguments.length?(p==null?i=l=null:l=o(i=p),u):i},u}class nk{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function QT(e){return new nk(e,!0)}function YT(e){return new nk(e,!1)}const Ag={draw(e,t){const n=Hn(t/ou);e.moveTo(n,0),e.arc(0,0,n,0,Cd)}},GT={draw(e,t){const n=Hn(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},rk=Hn(1/3),XT=rk*2,ZT={draw(e,t){const n=Hn(t/XT),r=n*rk;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},JT={draw(e,t){const n=Hn(t),r=-n/2;e.rect(r,r,n,n)}},e5=.8908130915292852,ak=su(ou/10)/su(7*ou/10),t5=su(Cd/10)*ak,n5=-GN(Cd/10)*ak,r5={draw(e,t){const n=Hn(t*e5),r=t5*n,a=n5*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const o=Cd*i/5,l=GN(o),c=su(o);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*a,c*r+l*a)}e.closePath()}},Kp=Hn(3),a5={draw(e,t){const n=-Hn(t/(Kp*3));e.moveTo(0,n*2),e.lineTo(-Kp*n,-n),e.lineTo(Kp*n,-n),e.closePath()}},gn=-.5,xn=Hn(3)/2,km=1/Hn(12),i5=(km/2+1)*3,s5={draw(e,t){const n=Hn(t/i5),r=n/2,a=n*km,i=r,o=n*km+n,l=-i,c=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(gn*r-xn*a,xn*r+gn*a),e.lineTo(gn*i-xn*o,xn*i+gn*o),e.lineTo(gn*l-xn*c,xn*l+gn*c),e.lineTo(gn*r+xn*a,gn*a-xn*r),e.lineTo(gn*i+xn*o,gn*o-xn*i),e.lineTo(gn*l+xn*c,gn*c-xn*l),e.closePath()}};function o5(e,t){let n=null,r=Cg(a);e=typeof e=="function"?e:we(e||Ag),t=typeof t=="function"?t:we(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:we(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:we(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function lu(){}function cu(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function ik(e){this._context=e}ik.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function l5(e){return new ik(e)}function sk(e){this._context=e}sk.prototype={areaStart:lu,areaEnd:lu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:cu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function c5(e){return new sk(e)}function ok(e){this._context=e}ok.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:cu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function u5(e){return new ok(e)}function lk(e){this._context=e}lk.prototype={areaStart:lu,areaEnd:lu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function d5(e){return new lk(e)}function Hy(e){return e<0?-1:1}function Qy(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),l=(i*a+o*r)/(r+a);return(Hy(i)+Hy(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function Yy(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Vp(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-r)/3;e._context.bezierCurveTo(r+l,a+l*t,i-l,o-l*n,i,o)}function uu(e){this._context=e}uu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Vp(this,this._t0,Yy(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Vp(this,Yy(this,n=Qy(this,e,t)),n);break;default:Vp(this,this._t0,n=Qy(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function ck(e){this._context=new uk(e)}(ck.prototype=Object.create(uu.prototype)).point=function(e,t){uu.prototype.point.call(this,t,e)};function uk(e){this._context=e}uk.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function p5(e){return new uu(e)}function f5(e){return new ck(e)}function dk(e){this._context=e}dk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Gy(e),a=Gy(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Gy(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function m5(e){return new dk(e)}function Ad(e,t){this._context=e,this._t=t}Ad.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function h5(e){return new Ad(e,.5)}function g5(e){return new Ad(e,0)}function x5(e){return new Ad(e,1)}function ls(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,l=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<l;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function Sm(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function v5(e,t){return e[t]}function y5(e){const t=[];return t.key=e,t}function b5(){var e=we([]),t=Sm,n=ls,r=v5;function a(i){var o=Array.from(e.apply(this,arguments),y5),l,c=o.length,u=-1,d;for(const p of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(p,o[l].key,u,i)]).data=p;for(l=0,d=Pg(t(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:we(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:we(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?Sm:typeof i=="function"?i:we(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??ls,a):n},a}function w5(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}ls(e,t)}}function j5(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var o=0,l=0;o<a;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}ls(e,t)}}function N5(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],p=d[r][1]||0,f=d[r-1][1]||0,m=(p-f)/2,g=0;g<l;++g){var x=e[t[g]],w=x[r][1]||0,v=x[r-1][1]||0;m+=w-v}c+=p,u+=m*p}a[r-1][1]+=a[r-1][0]=n,c&&(n-=u/c)}a[r-1][1]+=a[r-1][0]=n,ls(e,t)}}var k5=["type","size","sizeType"];function Cm(){return Cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cm.apply(null,arguments)}function Xy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Zy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xy(Object(n),!0).forEach(function(r){S5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function S5(e,t,n){return(t=C5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C5(e){var t=P5(e,"string");return typeof t=="symbol"?t:t+""}function P5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A5(e,t){if(e==null)return{};var n,r,a=E5(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function E5(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var pk={symbolCircle:Ag,symbolCross:GT,symbolDiamond:ZT,symbolSquare:JT,symbolStar:r5,symbolTriangle:a5,symbolWye:s5},O5=Math.PI/180,T5=e=>{var t="symbol".concat(cl(e));return pk[t]||Ag},_5=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*O5;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},M5=(e,t)=>{pk["symbol".concat(cl(e))]=t},fk=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=A5(e,k5),i=Zy(Zy({},a),{},{type:t,size:n,sizeType:r}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var f=T5(o),m=o5().type(f).size(_5(n,r,o));return m()},{className:c,cx:u,cy:d}=i,p=We(i,!0);return u===+u&&d===+d&&n===+n?h.createElement("path",Cm({},p,{className:ve("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};fk.registerSymbol=M5;var mk={},hk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const a=new Map;for(let i=0;i<n.length;i++){const o=n[i],l=r(o);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(hk);var Eg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Eg);var gk={},Ed={},xk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(xk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xk;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Ed);var vk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(vk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ed,n=vk;function r(a){return n.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=r})(gk);var yk={},bk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=md;function n(r){return function(a){return t.get(a,r)}}e.property=n})(bk);var wk={},Hp={},Qp={},Og={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Og);var Tg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Tg);var _g={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(_g);var Jy;function D5(){return Jy||(Jy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mg(),n=Og,r=Tg,a=_g;function i(p,f,m){return typeof m!="function"?t.isMatch(p,f):o(p,f,function g(x,w,v,y,b,j){const S=m(x,w,v,y,b,j);return S!==void 0?!!S:o(x,w,g,j)},new Map)}function o(p,f,m,g){if(f===p)return!0;switch(typeof f){case"object":return l(p,f,m,g);case"function":return Object.keys(f).length>0?o(p,{...f},m,g):a.eq(p,f);default:return n.isObject(p)?typeof f=="string"?f==="":!0:a.eq(p,f)}}function l(p,f,m,g){if(f==null)return!0;if(Array.isArray(f))return u(p,f,m,g);if(f instanceof Map)return c(p,f,m,g);if(f instanceof Set)return d(p,f,m,g);const x=Object.keys(f);if(p==null)return x.length===0;if(x.length===0)return!0;if(g&&g.has(f))return g.get(f)===p;g&&g.set(f,p);try{for(let w=0;w<x.length;w++){const v=x[w];if(!r.isPrimitive(p)&&!(v in p)||f[v]===void 0&&p[v]!==void 0||f[v]===null&&p[v]!==null||!m(p[v],f[v],v,p,f,g))return!1}return!0}finally{g&&g.delete(f)}}function c(p,f,m,g){if(f.size===0)return!0;if(!(p instanceof Map))return!1;for(const[x,w]of f.entries()){const v=p.get(x);if(m(v,w,x,p,f,g)===!1)return!1}return!0}function u(p,f,m,g){if(f.length===0)return!0;if(!Array.isArray(p))return!1;const x=new Set;for(let w=0;w<f.length;w++){const v=f[w];let y=!1;for(let b=0;b<p.length;b++){if(x.has(b))continue;const j=p[b];let S=!1;if(m(j,v,w,p,f,g)&&(S=!0),S){x.add(b),y=!0;break}}if(!y)return!1}return!0}function d(p,f,m,g){return f.size===0?!0:p instanceof Set?u([...p],[...f],m,g):!1}e.isMatchWith=i,e.isSetMatch=d}(Qp)),Qp}var e0;function Mg(){return e0||(e0=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D5();function n(r,a){return t.isMatchWith(r,a,()=>{})}e.isMatch=n}(Hp)),Hp}var jk={},Dg={},Nk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(Nk);var $g={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})($g);var Ig={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",p="[object Function]",f="[object ArrayBuffer]",m="[object Object]",g="[object Error]",x="[object DataView]",w="[object Uint8Array]",v="[object Uint8ClampedArray]",y="[object Uint16Array]",b="[object Uint32Array]",j="[object BigUint64Array]",S="[object Int8Array]",k="[object Int16Array]",C="[object Int32Array]",E="[object BigInt64Array]",R="[object Float32Array]",M="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=f,e.arrayTag=d,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=j,e.booleanTag=a,e.dataViewTag=x,e.dateTag=l,e.errorTag=g,e.float32ArrayTag=R,e.float64ArrayTag=M,e.functionTag=p,e.int16ArrayTag=k,e.int32ArrayTag=C,e.int8ArrayTag=S,e.mapTag=c,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=y,e.uint32ArrayTag=b,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=v})(Ig);var kk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(kk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nk,n=$g,r=Ig,a=Tg,i=kk;function o(d,p){return l(d,void 0,d,new Map,p)}function l(d,p,f,m=new Map,g=void 0){const x=g==null?void 0:g(d,p,f,m);if(x!==void 0)return x;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const w=new Array(d.length);m.set(d,w);for(let v=0;v<d.length;v++)w[v]=l(d[v],v,f,m,g);return Object.hasOwn(d,"index")&&(w.index=d.index),Object.hasOwn(d,"input")&&(w.input=d.input),w}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const w=new RegExp(d.source,d.flags);return w.lastIndex=d.lastIndex,w}if(d instanceof Map){const w=new Map;m.set(d,w);for(const[v,y]of d)w.set(v,l(y,v,f,m,g));return w}if(d instanceof Set){const w=new Set;m.set(d,w);for(const v of d)w.add(l(v,void 0,f,m,g));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const w=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,w);for(let v=0;v<d.length;v++)w[v]=l(d[v],v,f,m,g);return w}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const w=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,w),c(w,d,f,m,g),w}if(typeof File<"u"&&d instanceof File){const w=new File([d],d.name,{type:d.type});return m.set(d,w),c(w,d,f,m,g),w}if(d instanceof Blob){const w=new Blob([d],{type:d.type});return m.set(d,w),c(w,d,f,m,g),w}if(d instanceof Error){const w=new d.constructor;return m.set(d,w),w.message=d.message,w.name=d.name,w.stack=d.stack,w.cause=d.cause,c(w,d,f,m,g),w}if(typeof d=="object"&&u(d)){const w=Object.create(Object.getPrototypeOf(d));return m.set(d,w),c(w,d,f,m,g),w}return d}function c(d,p,f=d,m,g){const x=[...Object.keys(p),...t.getSymbols(p)];for(let w=0;w<x.length;w++){const v=x[w],y=Object.getOwnPropertyDescriptor(d,v);(y==null||y.writable)&&(d[v]=l(p[v],v,f,m,g))}}function u(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(Dg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dg;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(jk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mg(),n=jk;function r(a){return a=n.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=r})(wk);var Sk={},Ck={},Pk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dg,n=Ig;function r(a,i){return t.cloneDeepWith(a,(o,l,c,u)=>{const d=i==null?void 0:i(o,l,c,u);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(p,a),p}case n.argumentsTag:{const p={};return t.copyProperties(p,a),p.length=a.length,p[Symbol.iterator]=a[Symbol.iterator],p}default:return}})}e.cloneDeepWith=r})(Pk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pk;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(Ck);var Ak={},Rg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Rg);var Ek={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$g;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(Ek);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vg,n=Rg,r=Ek,a=hd;function i(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?c=a.toPath(l):c=[l],c.length===0)return!1;let u=o;for(let d=0;d<c.length;d++){const p=c[d];if((u==null||!Object.hasOwn(u,p))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(p)&&p<u.length))return!1;u=u[p]}return!0}e.has=i})(Ak);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mg(),n=yg,r=Ck,a=md,i=Ak;function o(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return c=r.cloneDeep(c),function(u){const d=a.get(u,l);return d===void 0?i.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=o})(Sk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Eg,n=bk,r=wk,a=Sk;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=i})(yk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hk,n=Eg,r=gk,a=yk;function i(o,l=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(l)):[]}e.uniqBy=i})(mk);var $5=mk.uniqBy;const t0=sr($5);function I5(e,t,n){return t===!0?t0(e,n):typeof t=="function"?t0(e,t):e}var Ok={exports:{}},Tk={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Od=h,R5=AN;function L5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var F5=typeof Object.is=="function"?Object.is:L5,z5=R5.useSyncExternalStore,B5=Od.useRef,U5=Od.useEffect,W5=Od.useMemo,q5=Od.useDebugValue;Tk.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var i=B5(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=W5(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),a!==void 0&&o.hasValue){var g=o.value;if(a(g,m))return p=g}return p=m}if(g=p,F5(d,m))return g;var x=r(m);return a!==void 0&&a(g,x)?(d=m,g):(d=m,p=x)}var u=!1,d,p,f=n===void 0?null:n;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,n,r,a]);var l=z5(e,i[0],i[1]);return U5(function(){o.hasValue=!0,o.value=l},[l]),q5(l),l};Ok.exports=Tk;var K5=Ok.exports,Lg=h.createContext(null),V5=e=>e,dt=()=>{var e=h.useContext(Lg);return e?e.store.dispatch:V5},Ac=()=>{},H5=()=>Ac,Q5=(e,t)=>e===t;function re(e){var t=h.useContext(Lg);return K5.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:H5,t?t.store.getState:Ac,t?t.store.getState:Ac,t?e:Ac,Q5)}function Y5(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function G5(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function X5(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var n0=e=>Array.isArray(e)?e:[e];function Z5(e){const t=Array.isArray(e[0])?e[0]:e;return X5(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function J5(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}var e_=class{constructor(e){this.value=e}deref(){return this.value}},t_=typeof WeakRef<"u"?WeakRef:e_,n_=0,r0=1;function Vl(){return{s:n_,v:void 0,o:null,p:null}}function _k(e,t={}){let n=Vl();const{resultEqualityCheck:r}=t;let a,i=0;function o(){var p;let l=n;const{length:c}=arguments;for(let f=0,m=c;f<m;f++){const g=arguments[f];if(typeof g=="function"||typeof g=="object"&&g!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const w=x.get(g);w===void 0?(l=Vl(),x.set(g,l)):l=w}else{let x=l.p;x===null&&(l.p=x=new Map);const w=x.get(g);w===void 0?(l=Vl(),x.set(g,l)):l=w}}const u=l;let d;if(l.s===r0)d=l.v;else if(d=e.apply(null,arguments),i++,r){const f=((p=a==null?void 0:a.deref)==null?void 0:p.call(a))??a;f!=null&&r(f,d)&&(d=f,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new t_(d):d}return u.s=r0,u.v=d,d}return o.clearCache=()=>{n=Vl(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function r_(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...a)=>{let i=0,o=0,l,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),Y5(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...c},{memoize:p,memoizeOptions:f=[],argsMemoize:m=_k,argsMemoizeOptions:g=[],devModeChecks:x={}}=d,w=n0(f),v=n0(g),y=Z5(a),b=p(function(){return i++,u.apply(null,arguments)},...w),j=m(function(){o++;const k=J5(y,arguments);return l=b.apply(null,k),l},...v);return Object.assign(j,{resultFunc:u,memoizedResultFunc:b,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:p,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var B=r_(_k),a_=Object.assign((e,t=B)=>{G5(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(i=>e[i]);return t(r,(...i)=>i.reduce((o,l,c)=>(o[n[c]]=l,o),{}))},{withTypes:()=>a_}),Mk={},Dk={},$k={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,i)=>{if(r!==a){const o=t(r),l=t(a);if(o===l&&o===0){if(r<a)return i==="desc"?1:-1;if(r>a)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=n})($k);var Ik={},Fg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Fg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fg,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(r.test(i)||!n.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(Ik);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$k,n=Ik,r=hd;function a(i,o,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,g)=>{let x=m;for(let w=0;w<g.length&&x!=null;++w)x=x[g[w]];return x},d=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:u(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?u(g,m):typeof g=="object"?g[m]:g,p=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return i.map(m=>({original:m,criteria:p.map(g=>d(g,m))})).slice().sort((m,g)=>{for(let x=0;x<p.length;x++){const w=t.compareValues(m.criteria[x],g.criteria[x],l[x]);if(w!==0)return w}return 0}).map(m=>m.original)}e.orderBy=a})(Dk);var Rk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const a=[],i=Math.floor(r),o=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<i?o(d,c+1):a.push(d)}};return o(n,0),a}e.flatten=t})(Rk);var zg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rg,n=Ed,r=Og,a=_g;function i(o,l,c){return r.isObject(c)&&(typeof l=="number"&&n.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.eq(c[l],o):!1}e.isIterateeCall=i})(zg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dk,n=Rk,r=zg;function a(i,...o){const l=o.length;return l>1&&r.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,n.flatten(o),["asc"])}e.sortBy=a})(Mk);var i_=Mk.sortBy;const Td=sr(i_);var Lk=e=>e.legend.settings,s_=e=>e.legend.size,o_=e=>e.legend.payload;B([o_,Lk],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Td(r,n):r});var Hl=1;function l_(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=h.useState({height:0,left:0,top:0,width:0}),r=h.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>Hl||Math.abs(o.left-t.left)>Hl||Math.abs(o.top-t.top)>Hl||Math.abs(o.width-t.width)>Hl)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function ht(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var c_=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),a0=c_,Yp=()=>Math.random().toString(36).substring(7).split("").join("."),u_={INIT:`@@redux/INIT${Yp()}`,REPLACE:`@@redux/REPLACE${Yp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Yp()}`},du=u_;function Bg(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Fk(e,t,n){if(typeof e!="function")throw new Error(ht(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ht(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ht(1));return n(Fk)(e,t)}let r=e,a=t,i=new Map,o=i,l=0,c=!1;function u(){o===i&&(o=new Map,i.forEach((w,v)=>{o.set(v,w)}))}function d(){if(c)throw new Error(ht(3));return a}function p(w){if(typeof w!="function")throw new Error(ht(4));if(c)throw new Error(ht(5));let v=!0;u();const y=l++;return o.set(y,w),function(){if(v){if(c)throw new Error(ht(6));v=!1,u(),o.delete(y),i=null}}}function f(w){if(!Bg(w))throw new Error(ht(7));if(typeof w.type>"u")throw new Error(ht(8));if(typeof w.type!="string")throw new Error(ht(17));if(c)throw new Error(ht(9));try{c=!0,a=r(a,w)}finally{c=!1}return(i=o).forEach(y=>{y()}),w}function m(w){if(typeof w!="function")throw new Error(ht(10));r=w,f({type:du.REPLACE})}function g(){const w=p;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(ht(11));function y(){const j=v;j.next&&j.next(d())}return y(),{unsubscribe:w(y)}},[a0](){return this}}}return f({type:du.INIT}),{dispatch:f,subscribe:p,getState:d,replaceReducer:m,[a0]:g}}function d_(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:du.INIT})>"u")throw new Error(ht(12));if(typeof n(void 0,{type:du.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ht(13))})}function zk(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let a;try{d_(n)}catch(i){a=i}return function(o={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<r.length;d++){const p=r[d],f=n[p],m=o[p],g=f(m,l);if(typeof g>"u")throw l&&l.type,new Error(ht(14));u[p]=g,c=c||g!==m}return c=c||r.length!==Object.keys(o).length,c?u:o}}function pu(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function p_(...e){return t=>(n,r)=>{const a=t(n,r);let i=()=>{throw new Error(ht(15))};const o={getState:a.getState,dispatch:(c,...u)=>i(c,...u)},l=e.map(c=>c(o));return i=pu(...l)(a.dispatch),{...a,dispatch:i}}}function Bk(e){return Bg(e)&&"type"in e&&typeof e.type=="string"}var Uk=Symbol.for("immer-nothing"),i0=Symbol.for("immer-draftable"),un=Symbol.for("immer-state");function Ln(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var cs=Object.getPrototypeOf;function oi(e){return!!e&&!!e[un]}function Pr(e){var t;return e?Wk(e)||Array.isArray(e)||!!e[i0]||!!((t=e.constructor)!=null&&t[i0])||ul(e)||Md(e):!1}var f_=Object.prototype.constructor.toString();function Wk(e){if(!e||typeof e!="object")return!1;const t=cs(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===f_}function fu(e,t){_d(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function _d(e){const t=e[un];return t?t.type_:Array.isArray(e)?1:ul(e)?2:Md(e)?3:0}function Pm(e,t){return _d(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function qk(e,t,n){const r=_d(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function m_(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ul(e){return e instanceof Map}function Md(e){return e instanceof Set}function Ra(e){return e.copy_||e.base_}function Am(e,t){if(ul(e))return new Map(e);if(Md(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Wk(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[un];let a=Reflect.ownKeys(r);for(let i=0;i<a.length;i++){const o=a[i],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(cs(e),r)}else{const r=cs(e);if(r!==null&&n)return{...e};const a=Object.create(r);return Object.assign(a,e)}}function Ug(e,t=!1){return Dd(e)||oi(e)||!Pr(e)||(_d(e)>1&&Object.defineProperties(e,{set:{value:Ql},add:{value:Ql},clear:{value:Ql},delete:{value:Ql}}),Object.freeze(e),t&&Object.values(e).forEach(n=>Ug(n,!0))),e}function Ql(){Ln(2)}function Dd(e){return Object.isFrozen(e)}var h_={};function li(e){const t=h_[e];return t||Ln(0,e),t}var qo;function Kk(){return qo}function g_(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function s0(e,t){t&&(li("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Em(e){Om(e),e.drafts_.forEach(x_),e.drafts_=null}function Om(e){e===qo&&(qo=e.parent_)}function o0(e){return qo=g_(qo,e)}function x_(e){const t=e[un];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function l0(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[un].modified_&&(Em(t),Ln(4)),Pr(e)&&(e=mu(t,e),t.parent_||hu(t,e)),t.patches_&&li("Patches").generateReplacementPatches_(n[un].base_,e,t.patches_,t.inversePatches_)):e=mu(t,n,[]),Em(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Uk?e:void 0}function mu(e,t,n){if(Dd(t))return t;const r=t[un];if(!r)return fu(t,(a,i)=>c0(e,r,t,a,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return hu(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const a=r.copy_;let i=a,o=!1;r.type_===3&&(i=new Set(a),a.clear(),o=!0),fu(i,(l,c)=>c0(e,r,a,l,c,n,o)),hu(e,a,!1),n&&e.patches_&&li("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function c0(e,t,n,r,a,i,o){if(oi(a)){const l=i&&t&&t.type_!==3&&!Pm(t.assigned_,r)?i.concat(r):void 0,c=mu(e,a,l);if(qk(n,r,c),oi(c))e.canAutoFreeze_=!1;else return}else o&&n.add(a);if(Pr(a)&&!Dd(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;mu(e,a),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(ul(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&hu(e,a)}}function hu(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ug(t,n)}function v_(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Kk(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,i=Wg;n&&(a=[r],i=Ko);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return r.draft_=l,r.revoke_=o,l}var Wg={get(e,t){if(t===un)return e;const n=Ra(e);if(!Pm(n,t))return y_(e,n,t);const r=n[t];return e.finalized_||!Pr(r)?r:r===Gp(e.base_,t)?(Xp(e),e.copy_[t]=_m(r,e)):r},has(e,t){return t in Ra(e)},ownKeys(e){return Reflect.ownKeys(Ra(e))},set(e,t,n){const r=Vk(Ra(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=Gp(Ra(e),t),i=a==null?void 0:a[un];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(m_(n,a)&&(n!==void 0||Pm(e.base_,t)))return!0;Xp(e),Tm(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Gp(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Xp(e),Tm(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ra(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Ln(11)},getPrototypeOf(e){return cs(e.base_)},setPrototypeOf(){Ln(12)}},Ko={};fu(Wg,(e,t)=>{Ko[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ko.deleteProperty=function(e,t){return Ko.set.call(this,e,t,void 0)};Ko.set=function(e,t,n){return Wg.set.call(this,e[0],t,n,e[0])};function Gp(e,t){const n=e[un];return(n?Ra(n):e)[t]}function y_(e,t,n){var a;const r=Vk(t,n);return r?"value"in r?r.value:(a=r.get)==null?void 0:a.call(e.draft_):void 0}function Vk(e,t){if(!(t in e))return;let n=cs(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=cs(n)}}function Tm(e){e.modified_||(e.modified_=!0,e.parent_&&Tm(e.parent_))}function Xp(e){e.copy_||(e.copy_=Am(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var b_=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const o=this;return function(c=i,...u){return o.produce(c,d=>n.call(this,d,...u))}}typeof n!="function"&&Ln(6),r!==void 0&&typeof r!="function"&&Ln(7);let a;if(Pr(t)){const i=o0(this),o=_m(t,void 0);let l=!0;try{a=n(o),l=!1}finally{l?Em(i):Om(i)}return s0(i,r),l0(a,i)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===Uk&&(a=void 0),this.autoFreeze_&&Ug(a,!0),r){const i=[],o=[];li("Patches").generateReplacementPatches_(t,a,i,o),r(i,o)}return a}else Ln(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let r,a;return[this.produce(t,n,(o,l)=>{r=o,a=l}),r,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Pr(e)||Ln(8),oi(e)&&(e=wr(e));const t=o0(this),n=_m(e,void 0);return n[un].isManual_=!0,Om(t),n}finishDraft(e,t){const n=e&&e[un];(!n||!n.isManual_)&&Ln(9);const{scope_:r}=n;return s0(r,t),l0(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=li("Patches").applyPatches_;return oi(e)?r(e,t):this.produce(e,a=>r(a,t))}};function _m(e,t){const n=ul(e)?li("MapSet").proxyMap_(e,t):Md(e)?li("MapSet").proxySet_(e,t):v_(e,t);return(t?t.scope_:Kk()).drafts_.push(n),n}function wr(e){return oi(e)||Ln(10,e),Hk(e)}function Hk(e){if(!Pr(e)||Dd(e))return e;const t=e[un];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Am(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Am(e,!0);return fu(n,(r,a)=>{qk(n,r,Hk(a))}),t&&(t.finalized_=!1),n}var w_=new b_,Qk=w_.produce;function Yk(e){return({dispatch:n,getState:r})=>a=>i=>typeof i=="function"?i(n,r,e):a(i)}var j_=Yk(),N_=Yk,k_=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?pu:pu.apply(null,arguments)};function En(e,t){function n(...r){if(t){let a=t(...r);if(!a)throw new Error(on(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>Bk(r)&&r.type===e,n}var Gk=class io extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,io.prototype)}static get[Symbol.species](){return io}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new io(...t[0].concat(this)):new io(...t.concat(this))}};function u0(e){return Pr(e)?Qk(e,()=>{}):e}function Yl(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function S_(e){return typeof e=="boolean"}var C_=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new Gk;return n&&(S_(n)?o.push(j_):o.push(N_(n.extraArgument))),o},P_="RTK_autoBatch",d0=e=>t=>{setTimeout(t,e)},A_=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let a=!0,i=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:d0(10):e.type==="callback"?e.queueNotification:d0(e.timeout),u=()=>{o=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const p=()=>a&&d(),f=r.subscribe(p);return l.add(d),()=>{f(),l.delete(d)}},dispatch(d){var p;try{return a=!((p=d==null?void 0:d.meta)!=null&&p[P_]),i=!a,i&&(o||(o=!0,c(u))),r.dispatch(d)}finally{a=!0}}})},E_=e=>function(n){const{autoBatch:r=!0}=n??{};let a=new Gk(e);return r&&a.push(A_(typeof r=="object"?r:void 0)),a};function O_(e){const t=C_(),{reducer:n=void 0,middleware:r,devTools:a=!0,duplicateMiddlewareCheck:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let c;if(typeof n=="function")c=n;else if(Bg(n))c=zk(n);else throw new Error(on(1));let u;typeof r=="function"?u=r(t):u=t();let d=pu;a&&(d=k_({trace:!1,...typeof a=="object"&&a}));const p=p_(...u),f=E_(p);let m=typeof l=="function"?l(f):f();const g=d(...m);return Fk(c,o,g)}function Xk(e){const t={},n=[];let r;const a={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(on(28));if(l in t)throw new Error(on(29));return t[l]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return n.push({matcher:i,reducer:o}),a},addDefaultCase(i){return r=i,a}};return e(a),[t,n,r]}function T_(e){return typeof e=="function"}function __(e,t){let[n,r,a]=Xk(t),i;if(T_(e))i=()=>u0(e());else{const l=u0(e);i=()=>l}function o(l=i(),c){let u=[n[c.type],...r.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,p)=>{if(p)if(oi(d)){const m=p(d,c);return m===void 0?d:m}else{if(Pr(d))return Qk(d,f=>p(f,c));{const f=p(d,c);if(f===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return d},l)}return o.getInitialState=i,o}var M_="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",D_=(e=21)=>{let t="",n=e;for(;n--;)t+=M_[Math.random()*64|0];return t},$_=Symbol.for("rtk-slice-createasyncthunk");function I_(e,t){return`${e}/${t}`}function R_({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[$_];return function(a){const{name:i,reducerPath:o=i}=a;if(!i)throw new Error(on(11));typeof process<"u";const l=(typeof a.reducers=="function"?a.reducers(F_()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,S){const k=typeof j=="string"?j:j.type;if(!k)throw new Error(on(12));if(k in u.sliceCaseReducersByType)throw new Error(on(13));return u.sliceCaseReducersByType[k]=S,d},addMatcher(j,S){return u.sliceMatchers.push({matcher:j,reducer:S}),d},exposeAction(j,S){return u.actionCreators[j]=S,d},exposeCaseReducer(j,S){return u.sliceCaseReducersByName[j]=S,d}};c.forEach(j=>{const S=l[j],k={reducerName:j,type:I_(i,j),createNotation:typeof a.reducers=="function"};B_(S)?W_(k,S,d,t):z_(k,S,d)});function p(){const[j={},S=[],k=void 0]=typeof a.extraReducers=="function"?Xk(a.extraReducers):[a.extraReducers],C={...j,...u.sliceCaseReducersByType};return __(a.initialState,E=>{for(let R in C)E.addCase(R,C[R]);for(let R of u.sliceMatchers)E.addMatcher(R.matcher,R.reducer);for(let R of S)E.addMatcher(R.matcher,R.reducer);k&&E.addDefaultCase(k)})}const f=j=>j,m=new Map,g=new WeakMap;let x;function w(j,S){return x||(x=p()),x(j,S)}function v(){return x||(x=p()),x.getInitialState()}function y(j,S=!1){function k(E){let R=E[j];return typeof R>"u"&&S&&(R=Yl(g,k,v)),R}function C(E=f){const R=Yl(m,S,()=>new WeakMap);return Yl(R,E,()=>{const M={};for(const[N,T]of Object.entries(a.selectors??{}))M[N]=L_(T,E,()=>Yl(g,E,v),S);return M})}return{reducerPath:j,getSelectors:C,get selectors(){return C(k)},selectSlice:k}}const b={name:i,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,...y(o),injectInto(j,{reducerPath:S,...k}={}){const C=S??o;return j.inject({reducerPath:C,reducer:w},k),{...b,...y(C,!0)}}};return b}}function L_(e,t,n,r){function a(i,...o){let l=t(i);return typeof l>"u"&&r&&(l=n()),e(l,...o)}return a.unwrapped=e,a}var hn=R_();function F_(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function z_({type:e,reducerName:t,createNotation:n},r,a){let i,o;if("reducer"in r){if(n&&!U_(r))throw new Error(on(17));i=r.reducer,o=r.prepare}else i=r;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?En(e,o):En(e))}function B_(e){return e._reducerDefinitionType==="asyncThunk"}function U_(e){return e._reducerDefinitionType==="reducerWithPrepare"}function W_({type:e,reducerName:t},n,r,a){if(!a)throw new Error(on(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=n,p=a(e,i,d);r.exposeAction(t,p),o&&r.addCase(p.fulfilled,o),l&&r.addCase(p.pending,l),c&&r.addCase(p.rejected,c),u&&r.addMatcher(p.settled,u),r.exposeCaseReducer(t,{fulfilled:o||Gl,pending:l||Gl,rejected:c||Gl,settled:u||Gl})}function Gl(){}var q_="task",Zk="listener",Jk="completed",qg="cancelled",K_=`task-${qg}`,V_=`task-${Jk}`,Mm=`${Zk}-${qg}`,H_=`${Zk}-${Jk}`,$d=class{constructor(e){dp(this,"name","TaskAbortError");dp(this,"message");this.code=e,this.message=`${q_} ${qg} (reason: ${e})`}},Kg=(e,t)=>{if(typeof e!="function")throw new TypeError(on(32))},gu=()=>{},e2=(e,t=gu)=>(e.catch(t),e),t2=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Za=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ja=e=>{if(e.aborted){const{reason:t}=e;throw new $d(t)}};function n2(e,t){let n=gu;return new Promise((r,a)=>{const i=()=>a(new $d(e.reason));if(e.aborted){i();return}n=t2(e,i),t.finally(()=>n()).then(r,a)}).finally(()=>{n=gu})}var Q_=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof $d?"cancelled":"rejected",error:n}}finally{t==null||t()}},xu=e=>t=>e2(n2(e,t).then(n=>(Ja(e),n))),r2=e=>{const t=xu(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Xi}=Object,p0={},Id="listenerMiddleware",Y_=(e,t)=>{const n=r=>t2(e,()=>Za(r,e.reason));return(r,a)=>{Kg(r);const i=new AbortController;n(i);const o=Q_(async()=>{Ja(e),Ja(i.signal);const l=await r({pause:xu(i.signal),delay:r2(i.signal),signal:i.signal});return Ja(i.signal),l},()=>Za(i,V_));return a!=null&&a.autoJoin&&t.push(o.catch(gu)),{result:xu(e)(o),cancel(){Za(i,K_)}}}},G_=(e,t)=>{const n=async(r,a)=>{Ja(t);let i=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:r,effect:(p,f)=>{f.unsubscribe(),c([p,f.getState(),f.getOriginalState()])}});i=()=>{d(),u()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await n2(t,Promise.race(l));return Ja(t),c}finally{i()}};return(r,a)=>e2(n(r,a))},a2=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:i}=e;if(t)a=En(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(on(21));return Kg(i),{predicate:a,type:t,effect:i}},i2=Xi(e=>{const{type:t,predicate:n,effect:r}=a2(e);return{id:D_(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(on(22))}}},{withTypes:()=>i2}),f0=(e,t)=>{const{type:n,effect:r,predicate:a}=a2(t);return Array.from(e.values()).find(i=>(typeof n=="string"?i.type===n:i.predicate===a)&&i.effect===r)},Dm=e=>{e.pending.forEach(t=>{Za(t,Mm)})},X_=e=>()=>{e.forEach(Dm),e.clear()},m0=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},s2=Xi(En(`${Id}/add`),{withTypes:()=>s2}),Z_=En(`${Id}/removeAll`),o2=Xi(En(`${Id}/remove`),{withTypes:()=>o2}),J_=(...e)=>{console.error(`${Id}/error`,...e)},dl=(e={})=>{const t=new Map,{extra:n,onError:r=J_}=e;Kg(r);const a=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),p=>{d.unsubscribe(),p!=null&&p.cancelActive&&Dm(d)}),i=d=>{const p=f0(t,d)??i2(d);return a(p)};Xi(i,{withTypes:()=>i});const o=d=>{const p=f0(t,d);return p&&(p.unsubscribe(),d.cancelActive&&Dm(p)),!!p};Xi(o,{withTypes:()=>o});const l=async(d,p,f,m)=>{const g=new AbortController,x=G_(i,g.signal),w=[];try{d.pending.add(g),await Promise.resolve(d.effect(p,Xi({},f,{getOriginalState:m,condition:(v,y)=>x(v,y).then(Boolean),take:x,delay:r2(g.signal),pause:xu(g.signal),extra:n,signal:g.signal,fork:Y_(g.signal,w),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((v,y,b)=>{v!==g&&(Za(v,Mm),b.delete(v))})},cancel:()=>{Za(g,Mm),d.pending.delete(g)},throwIfCancelled:()=>{Ja(g.signal)}})))}catch(v){v instanceof $d||m0(r,v,{raisedBy:"effect"})}finally{await Promise.all(w),Za(g,H_),d.pending.delete(g)}},c=X_(t);return{middleware:d=>p=>f=>{if(!Bk(f))return p(f);if(s2.match(f))return i(f.payload);if(Z_.match(f)){c();return}if(o2.match(f))return o(f.payload);let m=d.getState();const g=()=>{if(m===p0)throw new Error(on(23));return m};let x;try{if(x=p(f),t.size>0){const w=d.getState(),v=Array.from(t.values());for(const y of v){let b=!1;try{b=y.predicate(f,w,m)}catch(j){b=!1,m0(r,j,{raisedBy:"predicate"})}b&&l(y,f,d,g)}}}finally{m=p0}return x},startListening:i,stopListening:o,clearListeners:c}};function on(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var eM={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},l2=hn({name:"chartLayout",initialState:eM,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,a,i;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:tM,setLayout:nM,setChartSize:rM,setScale:aM}=l2.actions,iM=l2.reducer;function h0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function g0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h0(Object(n),!0).forEach(function(r){sM(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sM(e,t,n){return(t=oM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oM(e){var t=lM(e,"string");return typeof t=="symbol"?t:t+""}function lM(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vu=Math.PI/180,cM=e=>e*180/Math.PI,yt=(e,t,n,r)=>({x:e+Math.cos(-vu*r)*n,y:t+Math.sin(-vu*r)*n}),uM=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},dM=(e,t)=>{var{x:n,y:r}=e,{x:a,y:i}=t;return Math.sqrt((n-a)**2+(r-i)**2)},pM=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:i}=t,o=dM({x:n,y:r},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var l=(n-a)/o,c=Math.acos(l);return r>i&&(c=2*Math.PI-c),{radius:o,angle:cM(c),angleInRadian:c}},fM=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),i=Math.min(r,a);return{startAngle:t-i*360,endAngle:n-i*360}},mM=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return e+o*360},hM=(e,t)=>{var{x:n,y:r}=e,{radius:a,angle:i}=pM({x:n,y:r},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:c,endAngle:u}=fM(t),d=i,p;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;p=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;p=d>=u&&d<=c}return p?g0(g0({},t),{},{radius:a,angle:mM(d,t)}):null};function c2(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function x0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x0(Object(n),!0).forEach(function(r){gM(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gM(e,t,n){return(t=xM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xM(e){var t=vM(e,"string");return typeof t=="symbol"?t:t+""}function vM(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ct(e,t,n){return Oe(e)||Oe(t)?n:ar(t)?os(e,t,n):typeof t=="function"?t(e):n}var yM=(e,t,n,r,a)=>{var i,o=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?n[c-1].coordinate:n[l-1].coordinate,d=n[c].coordinate,p=c>=l-1?n[0].coordinate:n[c+1].coordinate,f=void 0;if(Ut(d-u)!==Ut(p-d)){var m=[];if(Ut(p-d)===Ut(a[1]-a[0])){f=p;var g=d+a[1]-a[0];m[0]=Math.min(g,(g+u)/2),m[1]=Math.max(g,(g+u)/2)}else{f=u;var x=p+a[1]-a[0];m[0]=Math.min(d,(x+d)/2),m[1]=Math.max(d,(x+d)/2)}var w=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(e>w[0]&&e<=w[1]||e>=m[0]&&e<=m[1]){({index:o}=n[c]);break}}else{var v=Math.min(u,p),y=Math.max(u,p);if(e>(v+d)/2&&e<=(y+d)/2){({index:o}=n[c]);break}}}else if(t){for(var b=0;b<l;b++)if(b===0&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:o}=t[b]);break}}return o},bM=(e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&ae(e[i]))return jn(jn({},e),{},{[i]:e[i]+(r||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&ae(e[o]))return jn(jn({},e),{},{[o]:e[o]+(a||0)})}return e},ka=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",u2=(e,t,n,r)=>{if(r)return e.map(l=>l.coordinate);var a,i,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===n&&(i=!0),l.coordinate));return a||o.push(t),i||o.push(n),o},d2=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:a,range:i,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:p,niceTicks:f,axisType:m}=e;if(!o)return null;var g=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,x=(t||n)&&a==="category"&&o.bandwidth?o.bandwidth()/g:0;if(x=m==="angleAxis"&&i&&i.length>=2?Ut(i[0]-i[1])*2*x:x,t&&(p||f)){var w=(p||f||[]).map((v,y)=>{var b=r?r.indexOf(v):v;return{coordinate:o(b)+x,value:v,offset:x,index:y}});return w.filter(v=>!cn(v.coordinate))}return c&&u?u.map((v,y)=>({coordinate:o(v)+x,value:v,index:y,offset:x})):o.ticks&&!n&&d!=null?o.ticks(d).map((v,y)=>({coordinate:o(v)+x,value:v,offset:x,index:y})):o.domain().map((v,y)=>({coordinate:o(v)+x,value:r?r[v]:v,index:y,offset:x}))},v0=1e-4,wM=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-v0,i=Math.max(r[0],r[1])+v0,o=e(t[0]),l=e(t[n-1]);(o<a||o>i||l<a||l>i)&&e.domain([t[0],t[n-1]])}},jM=(e,t)=>{if(!t||t.length!==2||!ae(t[0])||!ae(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!ae(e[0])||e[0]<n)&&(a[0]=n),(!ae(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},NM=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0,o=0;o<t;++o){var l=cn(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1])}},kM=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0;i<t;++i){var o=cn(e[i][n][1])?e[i][n][0]:e[i][n][1];o>=0?(e[i][n][0]=a,e[i][n][1]=a+o,a=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}},SM={sign:NM,expand:w5,none:ls,silhouette:j5,wiggle:N5,positive:kM},CM=(e,t,n)=>{var r=SM[n],a=b5().keys(t).value((i,o)=>+ct(i,o,0)).order(Sm).offset(r);return a(e)};function PM(e){return e==null?void 0:String(e)}function y0(e){var{axis:t,ticks:n,bandSize:r,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Oe(a[t.dataKey])){var l=KN(n,"value",a[t.dataKey]);if(l)return l.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var c=ct(a,Oe(o)?t.dataKey:o);return Oe(c)?null:t.scale(c)}var b0=e=>{var{axis:t,ticks:n,offset:r,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return n[o]?n[o].coordinate+r:null;var l=ct(i,t.dataKey,t.scale.domain()[o]);return Oe(l)?null:t.scale(l)-a/2+r},AM=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},EM=e=>{var t=e.flat(2).filter(ae);return[Math.min(...t),Math.max(...t)]},OM=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],TM=(e,t,n)=>{if(e!=null)return OM(Object.keys(e).reduce((r,a)=>{var i=e[a],{stackedData:o}=i,l=o.reduce((c,u)=>{var d=c2(u,t,n),p=EM(d);return[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},w0=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,j0=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Vo=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=Td(t,d=>d.coordinate),i=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0};function N0(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:i}=e;return jn(jn({},t),{},{dataKey:n,payload:r,value:a,name:i})}function Rd(e,t){if(e)return String(e);if(typeof t=="string")return t}function _M(e,t,n,r,a){if(n==="horizontal"||n==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return r?hM({x:e,y:t},r):null}var MM=(e,t,n,r)=>{var a=t.find(u=>u&&u.index===n);if(a){if(e==="horizontal")return{x:a.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:o}=r;return jn(jn(jn({},r),yt(r.cx,r.cy,o,i)),{},{angle:i,radius:o})}var l=a.coordinate,{angle:c}=r;return jn(jn(jn({},r),yt(r.cx,r.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},DM=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,_r=e=>e.layout.width,Mr=e=>e.layout.height,$M=e=>e.layout.scale,p2=e=>e.layout.margin,Ld=B(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Fd=B(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),IM="data-recharts-item-index",RM="data-recharts-item-data-key",pl=60;function k0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Xl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k0(Object(n),!0).forEach(function(r){LM(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LM(e,t,n){return(t=FM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FM(e){var t=zM(e,"string");return typeof t=="symbol"?t:t+""}function zM(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BM=e=>e.brush.height;function UM(e){var t=Fd(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:pl;return n+a}return n},0)}function WM(e){var t=Fd(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:pl;return n+a}return n},0)}function qM(e){var t=Ld(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function KM(e){var t=Ld(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var pt=B([_r,Mr,p2,BM,UM,WM,qM,KM,Lk,s_],(e,t,n,r,a,i,o,l,c,u)=>{var d={left:(n.left||0)+a,right:(n.right||0)+i},p={top:(n.top||0)+o,bottom:(n.bottom||0)+l},f=Xl(Xl({},p),d),m=f.bottom;f.bottom+=r,f=bM(f,c,u);var g=e-f.left-f.right,x=t-f.top-f.bottom;return Xl(Xl({brushBottom:m},f),{},{width:Math.max(g,0),height:Math.max(x,0)})}),VM=B(pt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Vg=B(_r,Mr,(e,t)=>({x:0,y:0,width:e,height:t})),HM=h.createContext(null),Qt=()=>h.useContext(HM)!=null,zd=e=>e.brush,Bd=B([zd,pt,p2],(e,t,n)=>({height:e.height,x:ae(e.x)?e.x:t.left,y:ae(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:ae(e.width)?e.width:t.width})),Hg=()=>{var e,t=Qt(),n=re(VM),r=re(Bd),a=(e=re(zd))===null||e===void 0?void 0:e.padding;return!t||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},QM={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},f2=()=>{var e;return(e=re(pt))!==null&&e!==void 0?e:QM},m2=()=>re(_r),h2=()=>re(Mr),fe=e=>e.layout.layoutType,Ud=()=>re(fe),YM={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},g2=hn({name:"legend",initialState:YM,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=wr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:cq,setLegendSettings:uq,addLegendPayload:GM,removeLegendPayload:XM}=g2.actions,ZM=g2.reducer;function $m(){return $m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$m.apply(null,arguments)}function S0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Zp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S0(Object(n),!0).forEach(function(r){JM(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JM(e,t,n){return(t=eD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eD(e){var t=tD(e,"string");return typeof t=="symbol"?t:t+""}function tD(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nD(e){return Array.isArray(e)&&ar(e[0])&&ar(e[1])?e.join(" ~ "):e}var rD=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:i,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:p,accessibilityLayer:f=!1}=e,m=()=>{if(i&&i.length){var S={padding:0,margin:0},k=(l?Td(i,l):i).map((C,E)=>{if(C.type==="none")return null;var R=C.formatter||o||nD,{value:M,name:N}=C,T=M,I=N;if(R){var F=R(M,N,C,E,i);if(Array.isArray(F))[T,I]=F;else if(F!=null)T=F;else return null}var _=Zp({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},r);return h.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:_},ar(I)?h.createElement("span",{className:"recharts-tooltip-item-name"},I):null,ar(I)?h.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,h.createElement("span",{className:"recharts-tooltip-item-value"},T),h.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return h.createElement("ul",{className:"recharts-tooltip-item-list",style:S},k)}return null},g=Zp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),x=Zp({margin:0},a),w=!Oe(d),v=w?d:"",y=ve("recharts-default-tooltip",c),b=ve("recharts-tooltip-label",u);w&&p&&i!==void 0&&i!==null&&(v=p(d,i));var j=f?{role:"status","aria-live":"assertive"}:{};return h.createElement("div",$m({className:y,style:g},j),h.createElement("p",{className:b,style:x},h.isValidElement(v)?v:"".concat(v)),m())},qs="recharts-tooltip-wrapper",aD={visibility:"hidden"};function iD(e){var{coordinate:t,translateX:n,translateY:r}=e;return ve(qs,{["".concat(qs,"-right")]:ae(n)&&t&&ae(t.x)&&n>=t.x,["".concat(qs,"-left")]:ae(n)&&t&&ae(t.x)&&n<t.x,["".concat(qs,"-bottom")]:ae(r)&&t&&ae(t.y)&&r>=t.y,["".concat(qs,"-top")]:ae(r)&&t&&ae(t.y)&&r<t.y})}function C0(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(i&&ae(i[r]))return i[r];var d=n[r]-l-(a>0?a:0),p=n[r]+a;if(t[r])return o[r]?d:p;var f=c[r];if(f==null)return 0;if(o[r]){var m=d,g=f;return m<g?Math.max(p,f):Math.max(d,f)}if(u==null)return 0;var x=p+l,w=f+u;return x>w?Math.max(d,f):Math.max(p,f)}function sD(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function oD(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,u,d,p;return o.height>0&&o.width>0&&n?(d=C0({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),p=C0({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=sD({translateX:d,translateY:p,useTranslate3d:l})):u=aD,{cssProperties:u,cssClasses:iD({translateX:d,translateY:p,coordinate:n})}}function P0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Zl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P0(Object(n),!0).forEach(function(r){Im(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Im(e,t,n){return(t=lD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lD(e){var t=cD(e,"string");return typeof t=="symbol"?t:t+""}function cD(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class uD extends h.PureComponent{constructor(){super(...arguments),Im(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Im(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:i,coordinate:o,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:p,useTranslate3d:f,viewBox:m,wrapperStyle:g,lastBoundingBox:x,innerRef:w,hasPortalFromProps:v}=this.props,{cssClasses:y,cssProperties:b}=oD({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:p,tooltipBox:{height:x.height,width:x.width},useTranslate3d:f,viewBox:m}),j=v?{}:Zl(Zl({transition:c&&t?"transform ".concat(r,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),S=Zl(Zl({},j),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},g);return h.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:S,ref:w},i)}}var dD=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),yi={devToolsEnabled:!1,isSsr:dD()},x2=()=>re(e=>e.rootProps.accessibilityLayer);function dn(e){return Number.isFinite(e)}function yu(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Rm(){return Rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rm.apply(null,arguments)}function A0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function E0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A0(Object(n),!0).forEach(function(r){pD(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pD(e,t,n){return(t=fD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fD(e){var t=mD(e,"string");return typeof t=="symbol"?t:t+""}function mD(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O0={curveBasisClosed:c5,curveBasisOpen:u5,curveBasis:l5,curveBumpX:QT,curveBumpY:YT,curveLinearClosed:d5,curveLinear:Pd,curveMonotoneX:p5,curveMonotoneY:f5,curveNatural:m5,curveStep:h5,curveStepAfter:x5,curveStepBefore:g5},Jl=e=>dn(e.x)&&dn(e.y),Ks=e=>e.x,Vs=e=>e.y,hD=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(cl(e));return(n==="curveMonotone"||n==="curveBump")&&t?O0["".concat(n).concat(t==="vertical"?"Y":"X")]:O0[n]||Pd},gD=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:a,connectNulls:i=!1}=e,o=hD(t,a),l=i?n.filter(Jl):n,c;if(Array.isArray(r)){var u=i?r.filter(p=>Jl(p)):r,d=l.map((p,f)=>E0(E0({},p),{},{base:u[f]}));return a==="vertical"?c=Kl().y(Vs).x1(Ks).x0(p=>p.base.x):c=Kl().x(Ks).y1(Vs).y0(p=>p.base.y),c.defined(Jl).curve(o),c(d)}return a==="vertical"&&ae(r)?c=Kl().y(Vs).x1(Ks).x0(r):ae(r)?c=Kl().x(Ks).y1(Vs).y0(r):c=tk().x(Ks).y(Vs),c.defined(Jl).curve(o),c(l)},v2=e=>{var{className:t,points:n,path:r,pathRef:a}=e;if((!n||!n.length)&&!r)return null;var i=n&&n.length?gD(e):r;return h.createElement("path",Rm({},Na(e),kg(e),{className:ve("recharts-curve",t),d:i===null?void 0:i,ref:a}))},xD=["x","y","top","left","width","height","className"];function Lm(){return Lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lm.apply(null,arguments)}function T0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function vD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T0(Object(n),!0).forEach(function(r){yD(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yD(e,t,n){return(t=bD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bD(e){var t=wD(e,"string");return typeof t=="symbol"?t:t+""}function wD(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jD(e,t){if(e==null)return{};var n,r,a=ND(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ND(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var kD=(e,t,n,r,a,i)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n),SD=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:i=0,height:o=0,className:l}=e,c=jD(e,xD),u=vD({x:t,y:n,top:r,left:a,width:i,height:o},c);return!ae(t)||!ae(n)||!ae(i)||!ae(o)||!ae(r)||!ae(a)?null:h.createElement("path",Lm({},We(u,!0),{className:ve("recharts-cross",l),d:kD(t,n,i,o,r,a)}))};function CD(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function _0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function PD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_0(Object(n),!0).forEach(function(r){AD(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AD(e,t,n){return(t=ED(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ED(e){var t=OD(e,"string");return typeof t=="symbol"?t:t+""}function OD(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yt(e,t){var n=PD({},e),r=t,a=Object.keys(t),i=a.reduce((o,l)=>(o[l]===void 0&&r[l]!==void 0&&(o[l]=r[l]),o),n);return i}function TD(){}function M0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function D0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M0(Object(n),!0).forEach(function(r){_D(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _D(e,t,n){return(t=MD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MD(e){var t=DD(e,"string");return typeof t=="symbol"?t:t+""}function DD(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $D=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),y2=(e,t,n)=>e.map(r=>"".concat($D(r)," ").concat(t,"ms ").concat(n)).join(","),ID=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(a=>r.includes(a))),Ho=(e,t)=>Object.keys(t).reduce((n,r)=>D0(D0({},n),{},{[r]:e(r,t[r])}),{});function $0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$0(Object(n),!0).forEach(function(r){RD(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RD(e,t,n){return(t=LD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LD(e){var t=FD(e,"string");return typeof t=="symbol"?t:t+""}function FD(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bu=(e,t,n)=>e+(t-e)*n,Fm=e=>{var{from:t,to:n}=e;return t!==n},b2=(e,t,n)=>{var r=Ho((a,i)=>{if(Fm(i)){var[o,l]=e(i.from,i.to,i.velocity);return xt(xt({},i),{},{from:o,velocity:l})}return i},t);return n<1?Ho((a,i)=>Fm(i)?xt(xt({},i),{},{velocity:bu(i.velocity,r[a].velocity,n),from:bu(i.from,r[a].from,n)}):i,t):b2(e,r,n-1)};function zD(e,t,n,r,a,i){var o,l=r.reduce((f,m)=>xt(xt({},f),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>Ho((f,m)=>m.from,l),u=()=>!Object.values(l).filter(Fm).length,d=null,p=f=>{o||(o=f);var m=f-o,g=m/n.dt;l=b2(n,l,g),a(xt(xt(xt({},e),t),c())),o=f,u()||(d=i.setTimeout(p))};return()=>(d=i.setTimeout(p),()=>{d()})}function BD(e,t,n,r,a,i,o){var l=null,c=a.reduce((p,f)=>xt(xt({},p),{},{[f]:[e[f],t[f]]}),{}),u,d=p=>{u||(u=p);var f=(p-u)/r,m=Ho((x,w)=>bu(...w,n(f)),c);if(i(xt(xt(xt({},e),t),m)),f<1)l=o.setTimeout(d);else{var g=Ho((x,w)=>bu(...w,n(1)),c);i(xt(xt(xt({},e),t),g))}};return()=>(l=o.setTimeout(d),()=>{l()})}const UD=(e,t,n,r,a,i)=>{var o=ID(e,t);return n.isStepper===!0?zD(e,t,n,o,a,i):BD(e,t,n,r,o,a,i)};var wu=1e-4,w2=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],j2=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),I0=(e,t)=>n=>{var r=w2(e,t);return j2(r,n)},WD=(e,t)=>n=>{var r=w2(e,t),a=[...r.map((i,o)=>i*o).slice(1),0];return j2(a,n)},R0=function(){for(var t,n,r,a,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[t,r,n,a]=[0,0,1,1];break;case"ease":[t,r,n,a]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,a]=[.42,0,1,1];break;case"ease-out":[t,r,n,a]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,a]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,r,n,a]=c[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else o.length===4&&([t,r,n,a]=o);var u=I0(t,n),d=I0(r,a),p=WD(t,n),f=g=>g>1?1:g<0?0:g,m=g=>{for(var x=g>1?1:g,w=x,v=0;v<8;++v){var y=u(w)-x,b=p(w);if(Math.abs(y-x)<wu||b<wu)return d(w);w=f(w-y/b)}return d(w)};return m.isStepper=!1,m},qD=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=t,i=(o,l,c)=>{var u=-(o-l)*n,d=c*r,p=c+(u-d)*a/1e3,f=c*a/1e3+o;return Math.abs(f-l)<wu&&Math.abs(p)<wu?[l,0]:[f,p]};return i.isStepper=!0,i.dt=a,i},KD=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return R0(e);case"spring":return qD();default:if(e.split("(")[0]==="cubic-bezier")return R0(e)}return typeof e=="function"?e:null};function VD(e){var t,n=()=>null,r=!1,a=null,i=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...u]=l;if(typeof c=="number"){a=e.setTimeout(i.bind(null,u),c);return}i(c),a=e.setTimeout(i.bind(null,u));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,a&&(a(),a=null),i(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class HD{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,i=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function QD(){return VD(new HD)}var YD=h.createContext(QD);function GD(e,t){var n=h.useContext(YD);return h.useMemo(()=>t??n(e),[e,t,n])}var XD={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},L0={t:0},Jp={t:1};function Wd(e){var t=Yt(e,XD),{isActive:n,canBegin:r,duration:a,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=GD(t.animationId,t.animationManager),[p,f]=h.useState(n?L0:Jp),m=h.useRef(null);return h.useEffect(()=>{n||f(Jp)},[n]),h.useEffect(()=>{if(!n||!r)return TD;var g=UD(L0,Jp,KD(i),a,f,d.getTimeoutController()),x=()=>{m.current=g()};return d.start([c,o,x,a,l]),()=>{d.stop(),m.current&&m.current(),l()}},[n,r,a,i,o,c,l,d]),u(p.t)}function qd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=h.useRef(Wo(t)),r=h.useRef(e);return r.current!==e&&(n.current=Wo(t),r.current=e),n.current}function F0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function z0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F0(Object(n),!0).forEach(function(r){ZD(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZD(e,t,n){return(t=JD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JD(e){var t=e6(e,"string");return typeof t=="symbol"?t:t+""}function e6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ju(){return ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ju.apply(null,arguments)}var B0=(e,t,n,r,a)=>{var i=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0,u;if(i>0&&a instanceof Array){for(var d=[0,0,0,0],p=0,f=4;p<f;p++)d[p]=a[p]>i?i:a[p];u="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+n-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(t+o*d[1])),u+="L ".concat(e+n,",").concat(t+r-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+n-l*d[2],",").concat(t+r)),u+="L ".concat(e+l*d[3],",").concat(t+r),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+r-o*d[3])),u+="Z"}else if(i>0&&a===+a&&a>0){var m=Math.min(i,a);u="M ".concat(e,",").concat(t+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,`
            L `).concat(e+n-l*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+n,",").concat(t+o*m,`
            L `).concat(e+n,",").concat(t+r-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+n-l*m,",").concat(t+r,`
            L `).concat(e+l*m,",").concat(t+r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+r-o*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return u},t6={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},N2=e=>{var t=Yt(e,t6),n=h.useRef(null),[r,a]=h.useState(-1);h.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var F=n.current.getTotalLength();F&&a(F)}catch{}},[]);var{x:i,y:o,width:l,height:c,radius:u,className:d}=t,{animationEasing:p,animationDuration:f,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:x}=t,w=h.useRef(l),v=h.useRef(c),y=h.useRef(i),b=h.useRef(o),j=h.useMemo(()=>({x:i,y:o,width:l,height:c,radius:u}),[i,o,l,c,u]),S=qd(j,"rectangle-");if(i!==+i||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var k=ve("recharts-rectangle",d);if(!x)return h.createElement("path",ju({},We(t,!0),{className:k,d:B0(i,o,l,c,u)}));var C=w.current,E=v.current,R=y.current,M=b.current,N="0px ".concat(r===-1?1:r,"px"),T="".concat(r,"px 0px"),I=y2(["strokeDasharray"],f,typeof p=="string"?p:void 0);return h.createElement(Wd,{animationId:S,key:S,canBegin:r>0,duration:f,easing:p,isActive:x,begin:m},F=>{var _=Ve(C,l,F),D=Ve(E,c,F),$=Ve(R,i,F),z=Ve(M,o,F);n.current&&(w.current=_,v.current=D,y.current=$,b.current=z);var U;return g?F>0?U={transition:I,strokeDasharray:T}:U={strokeDasharray:N}:U={strokeDasharray:T},h.createElement("path",ju({},We(t,!0),{className:k,d:B0($,z,_,D,u),ref:n,style:z0(z0({},U),t.style)}))})};function k2(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:i}=e,o=yt(t,n,r,a),l=yt(t,n,r,i);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}function zm(){return zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zm.apply(null,arguments)}var n6=(e,t)=>{var n=Ut(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},ec=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,u=l*(o?1:-1)+r,d=Math.asin(l/u)/vu,p=c?a:a+i*d,f=yt(t,n,u,p),m=yt(t,n,r,p),g=c?a-i*d:a,x=yt(t,n,u*Math.cos(d*vu),g);return{center:f,circleTangency:m,lineTangency:x,theta:d}},S2=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:i,endAngle:o}=e,l=n6(i,o),c=i+l,u=yt(t,n,a,i),d=yt(t,n,a,c),p="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(r>0){var f=yt(t,n,r,i),m=yt(t,n,r,c);p+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(f.x,",").concat(f.y," Z")}else p+="L ".concat(t,",").concat(n," Z");return p},r6=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=Ut(u-c),{circleTangency:p,lineTangency:f,theta:m}=ec({cx:t,cy:n,radius:a,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),{circleTangency:g,lineTangency:x,theta:w}=ec({cx:t,cy:n,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:l}),v=l?Math.abs(c-u):Math.abs(c-u)-m-w;if(v<0)return o?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):S2({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:c,endAngle:u});var y="M ".concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(v>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(r>0){var{circleTangency:b,lineTangency:j,theta:S}=ec({cx:t,cy:n,radius:r,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:k,lineTangency:C,theta:E}=ec({cx:t,cy:n,radius:r,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),R=l?Math.abs(c-u):Math.abs(c-u)-S-E;if(R<0&&i===0)return"".concat(y,"L").concat(t,",").concat(n,"Z");y+="L".concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(R>180),",").concat(+(d>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else y+="L".concat(t,",").concat(n,"Z");return y},a6={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},C2=e=>{var t=Yt(e,a6),{cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:p}=t;if(i<a||u===d)return null;var f=ve("recharts-sector",p),m=i-a,g=Kn(o,m,0,!0),x;return g>0&&Math.abs(u-d)<360?x=r6({cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):x=S2({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),h.createElement("path",zm({},We(t,!0),{className:f,d:x}))};function i6(e,t,n){var r,a,i,o;if(e==="horizontal")r=t.x,i=r,a=n.top,o=n.top+n.height;else if(e==="vertical")a=t.y,o=a,r=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:p}=t,f=yt(l,c,u,p),m=yt(l,c,d,p);r=f.x,a=f.y,i=m.x,o=m.y}else return k2(t);return[{x:r,y:a},{x:i,y:o}]}var P2={},A2={},E2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fg;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(E2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E2;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(A2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zg,n=A2;function r(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=n.toFinite(a),i===void 0?(i=a,a=0):i=n.toFinite(i),o=o===void 0?a<i?1:-1:n.toFinite(o);const l=Math.max(Math.ceil((i-a)/(o||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=a,a+=o;return c}e.range=r})(P2);var s6=P2.range;const O2=sr(s6);function da(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function o6(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Qg(e){let t,n,r;e.length!==2?(t=da,n=(l,c)=>da(e(l),c),r=(l,c)=>e(l)-c):(t=e===da||e===o6?e:l6,n=e,r=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const p=u+d>>>1;n(l[p],c)<0?u=p+1:d=p}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const p=u+d>>>1;n(l[p],c)<=0?u=p+1:d=p}while(u<d)}return u}function o(l,c,u=0,d=l.length){const p=a(l,c,u,d-1);return p>u&&r(l[p-1],c)>-r(l[p],c)?p-1:p}return{left:a,center:o,right:i}}function l6(){return 0}function T2(e){return e===null?NaN:+e}function*c6(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const u6=Qg(da),d6=u6.right;Qg(T2).center;const fl=d6;class U0 extends Map{constructor(t,n=m6){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(W0(this,t))}has(t){return super.has(W0(this,t))}set(t,n){return super.set(p6(this,t),n)}delete(t){return super.delete(f6(this,t))}}function W0({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function p6({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function f6({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function m6(e){return e!==null&&typeof e=="object"?e.valueOf():e}function h6(e=da){if(e===da)return _2;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function _2(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const g6=Math.sqrt(50),x6=Math.sqrt(10),v6=Math.sqrt(2);function Nu(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=g6?10:i>=x6?5:i>=v6?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?Nu(e,t,n*2):[l,c,u]}function Bm(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?Nu(t,e,n):Nu(e,t,n);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function Um(e,t,n){return t=+t,e=+e,n=+n,Nu(e,t,n)[2]}function Wm(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?Um(t,e,n):Um(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function q0(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a)}return n}function K0(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a)}return n}function M2(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?_2:h6(a);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,d=Math.log(c),p=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*p*(c-p)/c)*(u-c/2<0?-1:1),m=Math.max(n,Math.floor(t-u*p/c+f)),g=Math.min(r,Math.floor(t+(c-u)*p/c+f));M2(e,t,m,g,a)}const i=e[t];let o=n,l=r;for(Hs(e,n,t),a(e[r],i)>0&&Hs(e,n,r);o<l;){for(Hs(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[n],i)===0?Hs(e,n,l):(++l,Hs(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function Hs(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function y6(e,t,n){if(e=Float64Array.from(c6(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return K0(e);if(t>=1)return q0(e);var r,a=(r-1)*t,i=Math.floor(a),o=q0(M2(e,i).subarray(0,i+1)),l=K0(e.subarray(i+1));return o+(l-o)*(a-i)}}function b6(e,t,n=T2){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),l=+n(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function w6(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function Tn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Dr(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const qm=Symbol("implicit");function Yg(){var e=new U0,t=[],n=[],r=qm;function a(i){let o=e.get(i);if(o===void 0){if(r!==qm)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new U0;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Yg(t,n).unknown(r)},Tn.apply(a,arguments),a}function Gg(){var e=Yg().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function p(){var f=t().length,m=a<r,g=m?a:r,x=m?r:a;i=(x-g)/Math.max(1,f-c+u*2),l&&(i=Math.floor(i)),g+=(x-g-i*(f-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var w=w6(f).map(function(v){return g+i*v});return n(m?w.reverse():w)}return e.domain=function(f){return arguments.length?(t(f),p()):t()},e.range=function(f){return arguments.length?([r,a]=f,r=+r,a=+a,p()):[r,a]},e.rangeRound=function(f){return[r,a]=f,r=+r,a=+a,l=!0,p()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(l=!!f,p()):l},e.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),p()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),p()):c},e.paddingOuter=function(f){return arguments.length?(u=+f,p()):u},e.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),p()):d},e.copy=function(){return Gg(t(),[r,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Tn.apply(p(),arguments)}function D2(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return D2(t())},e}function j6(){return D2(Gg.apply(null,arguments).paddingInner(1))}function Xg(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function $2(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ml(){}var Qo=.7,ku=1/Qo,Zi="\\s*([+-]?\\d+)\\s*",Yo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",N6=/^#([0-9a-f]{3,8})$/,k6=new RegExp(`^rgb\\(${Zi},${Zi},${Zi}\\)$`),S6=new RegExp(`^rgb\\(${rr},${rr},${rr}\\)$`),C6=new RegExp(`^rgba\\(${Zi},${Zi},${Zi},${Yo}\\)$`),P6=new RegExp(`^rgba\\(${rr},${rr},${rr},${Yo}\\)$`),A6=new RegExp(`^hsl\\(${Yo},${rr},${rr}\\)$`),E6=new RegExp(`^hsla\\(${Yo},${rr},${rr},${Yo}\\)$`),V0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xg(ml,Go,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:H0,formatHex:H0,formatHex8:O6,formatHsl:T6,formatRgb:Q0,toString:Q0});function H0(){return this.rgb().formatHex()}function O6(){return this.rgb().formatHex8()}function T6(){return I2(this).formatHsl()}function Q0(){return this.rgb().formatRgb()}function Go(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=N6.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Y0(t):n===3?new Wt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?tc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?tc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=k6.exec(e))?new Wt(t[1],t[2],t[3],1):(t=S6.exec(e))?new Wt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=C6.exec(e))?tc(t[1],t[2],t[3],t[4]):(t=P6.exec(e))?tc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=A6.exec(e))?Z0(t[1],t[2]/100,t[3]/100,1):(t=E6.exec(e))?Z0(t[1],t[2]/100,t[3]/100,t[4]):V0.hasOwnProperty(e)?Y0(V0[e]):e==="transparent"?new Wt(NaN,NaN,NaN,0):null}function Y0(e){return new Wt(e>>16&255,e>>8&255,e&255,1)}function tc(e,t,n,r){return r<=0&&(e=t=n=NaN),new Wt(e,t,n,r)}function _6(e){return e instanceof ml||(e=Go(e)),e?(e=e.rgb(),new Wt(e.r,e.g,e.b,e.opacity)):new Wt}function Km(e,t,n,r){return arguments.length===1?_6(e):new Wt(e,t,n,r??1)}function Wt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Xg(Wt,Km,$2(ml,{brighter(e){return e=e==null?ku:Math.pow(ku,e),new Wt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Qo:Math.pow(Qo,e),new Wt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Wt(ei(this.r),ei(this.g),ei(this.b),Su(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:G0,formatHex:G0,formatHex8:M6,formatRgb:X0,toString:X0}));function G0(){return`#${Ka(this.r)}${Ka(this.g)}${Ka(this.b)}`}function M6(){return`#${Ka(this.r)}${Ka(this.g)}${Ka(this.b)}${Ka((isNaN(this.opacity)?1:this.opacity)*255)}`}function X0(){const e=Su(this.opacity);return`${e===1?"rgb(":"rgba("}${ei(this.r)}, ${ei(this.g)}, ${ei(this.b)}${e===1?")":`, ${e})`}`}function Su(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ei(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ka(e){return e=ei(e),(e<16?"0":"")+e.toString(16)}function Z0(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Fn(e,t,n,r)}function I2(e){if(e instanceof Fn)return new Fn(e.h,e.s,e.l,e.opacity);if(e instanceof ml||(e=Go(e)),!e)return new Fn;if(e instanceof Fn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Fn(o,l,c,e.opacity)}function D6(e,t,n,r){return arguments.length===1?I2(e):new Fn(e,t,n,r??1)}function Fn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Xg(Fn,D6,$2(ml,{brighter(e){return e=e==null?ku:Math.pow(ku,e),new Fn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Qo:Math.pow(Qo,e),new Fn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Wt(ef(e>=240?e-240:e+120,a,r),ef(e,a,r),ef(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Fn(J0(this.h),nc(this.s),nc(this.l),Su(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Su(this.opacity);return`${e===1?"hsl(":"hsla("}${J0(this.h)}, ${nc(this.s)*100}%, ${nc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function J0(e){return e=(e||0)%360,e<0?e+360:e}function nc(e){return Math.max(0,Math.min(1,e||0))}function ef(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Zg=e=>()=>e;function $6(e,t){return function(n){return e+n*t}}function I6(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function R6(e){return(e=+e)==1?R2:function(t,n){return n-t?I6(t,n,e):Zg(isNaN(t)?n:t)}}function R2(e,t){var n=t-e;return n?$6(e,n):Zg(isNaN(e)?t:e)}const eb=function e(t){var n=R6(t);function r(a,i){var o=n((a=Km(a)).r,(i=Km(i)).r),l=n(a.g,i.g),c=n(a.b,i.b),u=R2(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return r.gamma=e,r}(1);function L6(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function F6(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function z6(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=Cs(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(l){for(o=0;o<r;++o)i[o]=a[o](l);return i}}function B6(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Cu(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function U6(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Cs(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var Vm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tf=new RegExp(Vm.source,"g");function W6(e){return function(){return e}}function q6(e){return function(t){return e(t)+""}}function K6(e,t){var n=Vm.lastIndex=tf.lastIndex=0,r,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=Vm.exec(e))&&(a=tf.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Cu(r,a)})),n=tf.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?q6(c[0].x):W6(t):(t=c.length,function(u){for(var d=0,p;d<t;++d)l[(p=c[d]).i]=p.x(u);return l.join("")})}function Cs(e,t){var n=typeof t,r;return t==null||n==="boolean"?Zg(t):(n==="number"?Cu:n==="string"?(r=Go(t))?(t=r,eb):K6:t instanceof Go?eb:t instanceof Date?B6:F6(t)?L6:Array.isArray(t)?z6:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?U6:Cu)(e,t)}function Jg(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function V6(e,t){t===void 0&&(t=e,e=Cs);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[l](o-l)}}function H6(e){return function(){return e}}function Pu(e){return+e}var tb=[0,1];function $t(e){return e}function Hm(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:H6(isNaN(t)?NaN:.5)}function Q6(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Y6(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=Hm(a,r),i=n(o,i)):(r=Hm(r,a),i=n(i,o)),function(l){return i(r(l))}}function G6(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=Hm(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(l){var c=fl(e,l,1,r)-1;return i[c](a[c](l))}}function hl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Kd(){var e=tb,t=tb,n=Cs,r,a,i,o=$t,l,c,u;function d(){var f=Math.min(e.length,t.length);return o!==$t&&(o=Q6(e[0],e[f-1])),l=f>2?G6:Y6,c=u=null,p}function p(f){return f==null||isNaN(f=+f)?i:(c||(c=l(e.map(r),t,n)))(r(o(f)))}return p.invert=function(f){return o(a((u||(u=l(t,e.map(r),Cu)))(f)))},p.domain=function(f){return arguments.length?(e=Array.from(f,Pu),d()):e.slice()},p.range=function(f){return arguments.length?(t=Array.from(f),d()):t.slice()},p.rangeRound=function(f){return t=Array.from(f),n=Jg,d()},p.clamp=function(f){return arguments.length?(o=f?!0:$t,d()):o!==$t},p.interpolate=function(f){return arguments.length?(n=f,d()):n},p.unknown=function(f){return arguments.length?(i=f,p):i},function(f,m){return r=f,a=m,d()}}function ex(){return Kd()($t,$t)}function X6(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Au(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function us(e){return e=Au(Math.abs(e)),e?e[1]:NaN}function Z6(e,t){return function(n,r){for(var a=n.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),i.push(n.substring(a-=l,a+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function J6(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var e$=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xo(e){if(!(t=e$.exec(e)))throw new Error("invalid format: "+e);var t;return new tx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Xo.prototype=tx.prototype;function tx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}tx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function t$(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var L2;function n$(e,t){var n=Au(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(L2=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Au(e,Math.max(0,t+i-1))[0]}function nb(e,t){var n=Au(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const rb={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:X6,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>nb(e*100,t),r:nb,s:n$,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ab(e){return e}var ib=Array.prototype.map,sb=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function r$(e){var t=e.grouping===void 0||e.thousands===void 0?ab:Z6(ib.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?ab:J6(ib.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(p){p=Xo(p);var f=p.fill,m=p.align,g=p.sign,x=p.symbol,w=p.zero,v=p.width,y=p.comma,b=p.precision,j=p.trim,S=p.type;S==="n"?(y=!0,S="g"):rb[S]||(b===void 0&&(b=12),j=!0,S="g"),(w||f==="0"&&m==="=")&&(w=!0,f="0",m="=");var k=x==="$"?n:x==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",C=x==="$"?r:/[%p]/.test(S)?o:"",E=rb[S],R=/[defgprs%]/.test(S);b=b===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function M(N){var T=k,I=C,F,_,D;if(S==="c")I=E(N)+I,N="";else{N=+N;var $=N<0||1/N<0;if(N=isNaN(N)?c:E(Math.abs(N),b),j&&(N=t$(N)),$&&+N==0&&g!=="+"&&($=!1),T=($?g==="("?g:l:g==="-"||g==="("?"":g)+T,I=(S==="s"?sb[8+L2/3]:"")+I+($&&g==="("?")":""),R){for(F=-1,_=N.length;++F<_;)if(D=N.charCodeAt(F),48>D||D>57){I=(D===46?a+N.slice(F+1):N.slice(F))+I,N=N.slice(0,F);break}}}y&&!w&&(N=t(N,1/0));var z=T.length+N.length+I.length,U=z<v?new Array(v-z+1).join(f):"";switch(y&&w&&(N=t(U+N,U.length?v-I.length:1/0),U=""),m){case"<":N=T+N+I+U;break;case"=":N=T+U+N+I;break;case"^":N=U.slice(0,z=U.length>>1)+T+N+I+U.slice(z);break;default:N=U+T+N+I;break}return i(N)}return M.toString=function(){return p+""},M}function d(p,f){var m=u((p=Xo(p),p.type="f",p)),g=Math.max(-8,Math.min(8,Math.floor(us(f)/3)))*3,x=Math.pow(10,-g),w=sb[8+g/3];return function(v){return m(x*v)+w}}return{format:u,formatPrefix:d}}var rc,nx,F2;a$({thousands:",",grouping:[3],currency:["$",""]});function a$(e){return rc=r$(e),nx=rc.format,F2=rc.formatPrefix,rc}function i$(e){return Math.max(0,-us(Math.abs(e)))}function s$(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(us(t)/3)))*3-us(Math.abs(e)))}function o$(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,us(t)-us(e))+1}function z2(e,t,n,r){var a=Wm(e,t,n),i;switch(r=Xo(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=s$(a,o))&&(r.precision=i),F2(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=o$(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=i$(a))&&(r.precision=i-(r.type==="%")*2);break}}return nx(r)}function Sa(e){var t=e.domain;return e.ticks=function(n){var r=t();return Bm(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return z2(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],l=r[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=Um(o,l,n),u===c)return r[a]=o,r[i]=l,t(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function B2(){var e=ex();return e.copy=function(){return hl(e,B2())},Tn.apply(e,arguments),Sa(e)}function U2(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Pu),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return U2(e).unknown(t)},e=arguments.length?Array.from(e,Pu):[0,1],Sa(n)}function W2(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function ob(e){return Math.log(e)}function lb(e){return Math.exp(e)}function l$(e){return-Math.log(-e)}function c$(e){return-Math.exp(-e)}function u$(e){return isFinite(e)?+("1e"+e):e<0?0:e}function d$(e){return e===10?u$:e===Math.E?Math.exp:t=>Math.pow(e,t)}function p$(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function cb(e){return(t,n)=>-e(-t,n)}function rx(e){const t=e(ob,lb),n=t.domain;let r=10,a,i;function o(){return a=p$(r),i=d$(r),n()[0]<0?(a=cb(a),i=cb(i),e(l$,c$)):e(ob,lb),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const p=d<u;p&&([u,d]=[d,u]);let f=a(u),m=a(d),g,x;const w=l==null?10:+l;let v=[];if(!(r%1)&&m-f<w){if(f=Math.floor(f),m=Math.ceil(m),u>0){for(;f<=m;++f)for(g=1;g<r;++g)if(x=f<0?g/i(-f):g*i(f),!(x<u)){if(x>d)break;v.push(x)}}else for(;f<=m;++f)for(g=r-1;g>=1;--g)if(x=f>0?g/i(-f):g*i(f),!(x<u)){if(x>d)break;v.push(x)}v.length*2<w&&(v=Bm(u,d,w))}else v=Bm(f,m,Math.min(m-f,w)).map(i);return p?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Xo(c)).precision==null&&(c.trim=!0),c=nx(c)),l===1/0)return c;const u=Math.max(1,r*l/t.ticks().length);return d=>{let p=d/i(Math.round(a(d)));return p*r<r-.5&&(p*=r),p<=u?c(d):""}},t.nice=()=>n(W2(n(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function q2(){const e=rx(Kd()).domain([1,10]);return e.copy=()=>hl(e,q2()).base(e.base()),Tn.apply(e,arguments),e}function ub(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function db(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ax(e){var t=1,n=e(ub(t),db(t));return n.constant=function(r){return arguments.length?e(ub(t=+r),db(t)):t},Sa(n)}function K2(){var e=ax(Kd());return e.copy=function(){return hl(e,K2()).constant(e.constant())},Tn.apply(e,arguments)}function pb(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function f$(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function m$(e){return e<0?-e*e:e*e}function ix(e){var t=e($t,$t),n=1;function r(){return n===1?e($t,$t):n===.5?e(f$,m$):e(pb(n),pb(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},Sa(t)}function sx(){var e=ix(Kd());return e.copy=function(){return hl(e,sx()).exponent(e.exponent())},Tn.apply(e,arguments),e}function h$(){return sx.apply(null,arguments).exponent(.5)}function fb(e){return Math.sign(e)*e*e}function g$(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function V2(){var e=ex(),t=[0,1],n=!1,r;function a(i){var o=g$(e(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return e.invert(fb(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Pu)).map(fb)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return V2(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Tn.apply(a,arguments),Sa(a)}function H2(){var e=[],t=[],n=[],r;function a(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=b6(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?r:t[fl(n,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(da),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return H2().domain(e).range(t).unknown(r)},Tn.apply(i,arguments)}function Q2(){var e=0,t=1,n=1,r=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[fl(r,c,0,n)]:i}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return Q2().domain([e,t]).range(a).unknown(i)},Tn.apply(Sa(o),arguments)}function Y2(){var e=[.5],t=[0,1],n,r=1;function a(i){return i!=null&&i<=i?t[fl(e,i,0,r)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Y2().domain(e).range(t).unknown(n)},Tn.apply(a,arguments)}const nf=new Date,rf=new Date;function et(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>et(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(nf.setTime(+i),rf.setTime(+o),e(nf),e(rf),Math.floor(n(nf,rf))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Eu=et(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Eu.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?et(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Eu);Eu.range;const vr=1e3,Sn=vr*60,yr=Sn*60,Ar=yr*24,ox=Ar*7,mb=Ar*30,af=Ar*365,Va=et(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*vr)},(e,t)=>(t-e)/vr,e=>e.getUTCSeconds());Va.range;const lx=et(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*vr)},(e,t)=>{e.setTime(+e+t*Sn)},(e,t)=>(t-e)/Sn,e=>e.getMinutes());lx.range;const cx=et(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Sn)},(e,t)=>(t-e)/Sn,e=>e.getUTCMinutes());cx.range;const ux=et(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*vr-e.getMinutes()*Sn)},(e,t)=>{e.setTime(+e+t*yr)},(e,t)=>(t-e)/yr,e=>e.getHours());ux.range;const dx=et(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*yr)},(e,t)=>(t-e)/yr,e=>e.getUTCHours());dx.range;const gl=et(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Sn)/Ar,e=>e.getDate()-1);gl.range;const Vd=et(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ar,e=>e.getUTCDate()-1);Vd.range;const G2=et(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ar,e=>Math.floor(e/Ar));G2.range;function bi(e){return et(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Sn)/ox)}const Hd=bi(0),Ou=bi(1),x$=bi(2),v$=bi(3),ds=bi(4),y$=bi(5),b$=bi(6);Hd.range;Ou.range;x$.range;v$.range;ds.range;y$.range;b$.range;function wi(e){return et(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/ox)}const Qd=wi(0),Tu=wi(1),w$=wi(2),j$=wi(3),ps=wi(4),N$=wi(5),k$=wi(6);Qd.range;Tu.range;w$.range;j$.range;ps.range;N$.range;k$.range;const px=et(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());px.range;const fx=et(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());fx.range;const Er=et(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Er.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:et(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Er.range;const Or=et(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Or.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:et(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Or.range;function X2(e,t,n,r,a,i){const o=[[Va,1,vr],[Va,5,5*vr],[Va,15,15*vr],[Va,30,30*vr],[i,1,Sn],[i,5,5*Sn],[i,15,15*Sn],[i,30,30*Sn],[a,1,yr],[a,3,3*yr],[a,6,6*yr],[a,12,12*yr],[r,1,Ar],[r,2,2*Ar],[n,1,ox],[t,1,mb],[t,3,3*mb],[e,1,af]];function l(u,d,p){const f=d<u;f&&([u,d]=[d,u]);const m=p&&typeof p.range=="function"?p:c(u,d,p),g=m?m.range(u,+d+1):[];return f?g.reverse():g}function c(u,d,p){const f=Math.abs(d-u)/p,m=Qg(([,,w])=>w).right(o,f);if(m===o.length)return e.every(Wm(u/af,d/af,p));if(m===0)return Eu.every(Math.max(Wm(u,d,p),1));const[g,x]=o[f/o[m-1][2]<o[m][2]/f?m-1:m];return g.every(x)}return[l,c]}const[S$,C$]=X2(Or,fx,Qd,G2,dx,cx),[P$,A$]=X2(Er,px,Hd,gl,ux,lx);function sf(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function of(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Qs(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function E$(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Ys(a),d=Gs(a),p=Ys(i),f=Gs(i),m=Ys(o),g=Gs(o),x=Ys(l),w=Gs(l),v=Ys(c),y=Gs(c),b={a:$,A:z,b:U,B:O,c:null,d:bb,e:bb,f:Z$,g:lI,G:uI,H:Y$,I:G$,j:X$,L:Z2,m:J$,M:eI,p:W,q:A,Q:Nb,s:kb,S:tI,u:nI,U:rI,V:aI,w:iI,W:sI,x:null,X:null,y:oI,Y:cI,Z:dI,"%":jb},j={a:K,A:V,b:H,B:Y,c:null,d:wb,e:wb,f:hI,g:SI,G:PI,H:pI,I:fI,j:mI,L:eS,m:gI,M:xI,p:le,q:qe,Q:Nb,s:kb,S:vI,u:yI,U:bI,V:wI,w:jI,W:NI,x:null,X:null,y:kI,Y:CI,Z:AI,"%":jb},S={a:M,A:N,b:T,B:I,c:F,d:vb,e:vb,f:K$,g:xb,G:gb,H:yb,I:yb,j:B$,L:q$,m:z$,M:U$,p:R,q:F$,Q:H$,s:Q$,S:W$,u:D$,U:$$,V:I$,w:M$,W:R$,x:_,X:D,y:xb,Y:gb,Z:L$,"%":V$};b.x=k(n,b),b.X=k(r,b),b.c=k(t,b),j.x=k(n,j),j.X=k(r,j),j.c=k(t,j);function k(L,G){return function(ie){var q=[],Fe=-1,pe=0,nt=L.length,rt,jt,Lr;for(ie instanceof Date||(ie=new Date(+ie));++Fe<nt;)L.charCodeAt(Fe)===37&&(q.push(L.slice(pe,Fe)),(jt=hb[rt=L.charAt(++Fe)])!=null?rt=L.charAt(++Fe):jt=rt==="e"?" ":"0",(Lr=G[rt])&&(rt=Lr(ie,jt)),q.push(rt),pe=Fe+1);return q.push(L.slice(pe,Fe)),q.join("")}}function C(L,G){return function(ie){var q=Qs(1900,void 0,1),Fe=E(q,L,ie+="",0),pe,nt;if(Fe!=ie.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(G&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(pe=of(Qs(q.y,0,1)),nt=pe.getUTCDay(),pe=nt>4||nt===0?Tu.ceil(pe):Tu(pe),pe=Vd.offset(pe,(q.V-1)*7),q.y=pe.getUTCFullYear(),q.m=pe.getUTCMonth(),q.d=pe.getUTCDate()+(q.w+6)%7):(pe=sf(Qs(q.y,0,1)),nt=pe.getDay(),pe=nt>4||nt===0?Ou.ceil(pe):Ou(pe),pe=gl.offset(pe,(q.V-1)*7),q.y=pe.getFullYear(),q.m=pe.getMonth(),q.d=pe.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),nt="Z"in q?of(Qs(q.y,0,1)).getUTCDay():sf(Qs(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(nt+5)%7:q.w+q.U*7-(nt+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,of(q)):sf(q)}}function E(L,G,ie,q){for(var Fe=0,pe=G.length,nt=ie.length,rt,jt;Fe<pe;){if(q>=nt)return-1;if(rt=G.charCodeAt(Fe++),rt===37){if(rt=G.charAt(Fe++),jt=S[rt in hb?G.charAt(Fe++):rt],!jt||(q=jt(L,ie,q))<0)return-1}else if(rt!=ie.charCodeAt(q++))return-1}return q}function R(L,G,ie){var q=u.exec(G.slice(ie));return q?(L.p=d.get(q[0].toLowerCase()),ie+q[0].length):-1}function M(L,G,ie){var q=m.exec(G.slice(ie));return q?(L.w=g.get(q[0].toLowerCase()),ie+q[0].length):-1}function N(L,G,ie){var q=p.exec(G.slice(ie));return q?(L.w=f.get(q[0].toLowerCase()),ie+q[0].length):-1}function T(L,G,ie){var q=v.exec(G.slice(ie));return q?(L.m=y.get(q[0].toLowerCase()),ie+q[0].length):-1}function I(L,G,ie){var q=x.exec(G.slice(ie));return q?(L.m=w.get(q[0].toLowerCase()),ie+q[0].length):-1}function F(L,G,ie){return E(L,t,G,ie)}function _(L,G,ie){return E(L,n,G,ie)}function D(L,G,ie){return E(L,r,G,ie)}function $(L){return o[L.getDay()]}function z(L){return i[L.getDay()]}function U(L){return c[L.getMonth()]}function O(L){return l[L.getMonth()]}function W(L){return a[+(L.getHours()>=12)]}function A(L){return 1+~~(L.getMonth()/3)}function K(L){return o[L.getUTCDay()]}function V(L){return i[L.getUTCDay()]}function H(L){return c[L.getUTCMonth()]}function Y(L){return l[L.getUTCMonth()]}function le(L){return a[+(L.getUTCHours()>=12)]}function qe(L){return 1+~~(L.getUTCMonth()/3)}return{format:function(L){var G=k(L+="",b);return G.toString=function(){return L},G},parse:function(L){var G=C(L+="",!1);return G.toString=function(){return L},G},utcFormat:function(L){var G=k(L+="",j);return G.toString=function(){return L},G},utcParse:function(L){var G=C(L+="",!0);return G.toString=function(){return L},G}}}var hb={"-":"",_:" ",0:"0"},ft=/^\s*\d+/,O$=/^%/,T$=/[\\^$*+?|[\]().{}]/g;function de(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function _$(e){return e.replace(T$,"\\$&")}function Ys(e){return new RegExp("^(?:"+e.map(_$).join("|")+")","i")}function Gs(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function M$(e,t,n){var r=ft.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function D$(e,t,n){var r=ft.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function $$(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function I$(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function R$(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function gb(e,t,n){var r=ft.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function xb(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function L$(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function F$(e,t,n){var r=ft.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function z$(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function vb(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function B$(e,t,n){var r=ft.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function yb(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function U$(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function W$(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function q$(e,t,n){var r=ft.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function K$(e,t,n){var r=ft.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function V$(e,t,n){var r=O$.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function H$(e,t,n){var r=ft.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Q$(e,t,n){var r=ft.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function bb(e,t){return de(e.getDate(),t,2)}function Y$(e,t){return de(e.getHours(),t,2)}function G$(e,t){return de(e.getHours()%12||12,t,2)}function X$(e,t){return de(1+gl.count(Er(e),e),t,3)}function Z2(e,t){return de(e.getMilliseconds(),t,3)}function Z$(e,t){return Z2(e,t)+"000"}function J$(e,t){return de(e.getMonth()+1,t,2)}function eI(e,t){return de(e.getMinutes(),t,2)}function tI(e,t){return de(e.getSeconds(),t,2)}function nI(e){var t=e.getDay();return t===0?7:t}function rI(e,t){return de(Hd.count(Er(e)-1,e),t,2)}function J2(e){var t=e.getDay();return t>=4||t===0?ds(e):ds.ceil(e)}function aI(e,t){return e=J2(e),de(ds.count(Er(e),e)+(Er(e).getDay()===4),t,2)}function iI(e){return e.getDay()}function sI(e,t){return de(Ou.count(Er(e)-1,e),t,2)}function oI(e,t){return de(e.getFullYear()%100,t,2)}function lI(e,t){return e=J2(e),de(e.getFullYear()%100,t,2)}function cI(e,t){return de(e.getFullYear()%1e4,t,4)}function uI(e,t){var n=e.getDay();return e=n>=4||n===0?ds(e):ds.ceil(e),de(e.getFullYear()%1e4,t,4)}function dI(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+de(t/60|0,"0",2)+de(t%60,"0",2)}function wb(e,t){return de(e.getUTCDate(),t,2)}function pI(e,t){return de(e.getUTCHours(),t,2)}function fI(e,t){return de(e.getUTCHours()%12||12,t,2)}function mI(e,t){return de(1+Vd.count(Or(e),e),t,3)}function eS(e,t){return de(e.getUTCMilliseconds(),t,3)}function hI(e,t){return eS(e,t)+"000"}function gI(e,t){return de(e.getUTCMonth()+1,t,2)}function xI(e,t){return de(e.getUTCMinutes(),t,2)}function vI(e,t){return de(e.getUTCSeconds(),t,2)}function yI(e){var t=e.getUTCDay();return t===0?7:t}function bI(e,t){return de(Qd.count(Or(e)-1,e),t,2)}function tS(e){var t=e.getUTCDay();return t>=4||t===0?ps(e):ps.ceil(e)}function wI(e,t){return e=tS(e),de(ps.count(Or(e),e)+(Or(e).getUTCDay()===4),t,2)}function jI(e){return e.getUTCDay()}function NI(e,t){return de(Tu.count(Or(e)-1,e),t,2)}function kI(e,t){return de(e.getUTCFullYear()%100,t,2)}function SI(e,t){return e=tS(e),de(e.getUTCFullYear()%100,t,2)}function CI(e,t){return de(e.getUTCFullYear()%1e4,t,4)}function PI(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ps(e):ps.ceil(e),de(e.getUTCFullYear()%1e4,t,4)}function AI(){return"+0000"}function jb(){return"%"}function Nb(e){return+e}function kb(e){return Math.floor(+e/1e3)}var Oi,nS,rS;EI({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function EI(e){return Oi=E$(e),nS=Oi.format,Oi.parse,rS=Oi.utcFormat,Oi.utcParse,Oi}function OI(e){return new Date(e)}function TI(e){return e instanceof Date?+e:+new Date(+e)}function mx(e,t,n,r,a,i,o,l,c,u){var d=ex(),p=d.invert,f=d.domain,m=u(".%L"),g=u(":%S"),x=u("%I:%M"),w=u("%I %p"),v=u("%a %d"),y=u("%b %d"),b=u("%B"),j=u("%Y");function S(k){return(c(k)<k?m:l(k)<k?g:o(k)<k?x:i(k)<k?w:r(k)<k?a(k)<k?v:y:n(k)<k?b:j)(k)}return d.invert=function(k){return new Date(p(k))},d.domain=function(k){return arguments.length?f(Array.from(k,TI)):f().map(OI)},d.ticks=function(k){var C=f();return e(C[0],C[C.length-1],k??10)},d.tickFormat=function(k,C){return C==null?S:u(C)},d.nice=function(k){var C=f();return(!k||typeof k.range!="function")&&(k=t(C[0],C[C.length-1],k??10)),k?f(W2(C,k)):d},d.copy=function(){return hl(d,mx(e,t,n,r,a,i,o,l,c,u))},d}function _I(){return Tn.apply(mx(P$,A$,Er,px,Hd,gl,ux,lx,Va,nS).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function MI(){return Tn.apply(mx(S$,C$,Or,fx,Qd,Vd,dx,cx,Va,rS).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Yd(){var e=0,t=1,n,r,a,i,o=$t,l=!1,c;function u(p){return p==null||isNaN(p=+p)?c:o(a===0?.5:(p=(i(p)-n)*a,l?Math.max(0,Math.min(1,p)):p))}u.domain=function(p){return arguments.length?([e,t]=p,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(p){return arguments.length?(l=!!p,u):l},u.interpolator=function(p){return arguments.length?(o=p,u):o};function d(p){return function(f){var m,g;return arguments.length?([m,g]=f,o=p(m,g),u):[o(0),o(1)]}}return u.range=d(Cs),u.rangeRound=d(Jg),u.unknown=function(p){return arguments.length?(c=p,u):c},function(p){return i=p,n=p(e),r=p(t),a=n===r?0:1/(r-n),u}}function Ca(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function aS(){var e=Sa(Yd()($t));return e.copy=function(){return Ca(e,aS())},Dr.apply(e,arguments)}function iS(){var e=rx(Yd()).domain([1,10]);return e.copy=function(){return Ca(e,iS()).base(e.base())},Dr.apply(e,arguments)}function sS(){var e=ax(Yd());return e.copy=function(){return Ca(e,sS()).constant(e.constant())},Dr.apply(e,arguments)}function hx(){var e=ix(Yd());return e.copy=function(){return Ca(e,hx()).exponent(e.exponent())},Dr.apply(e,arguments)}function DI(){return hx.apply(null,arguments).exponent(.5)}function oS(){var e=[],t=$t;function n(r){if(r!=null&&!isNaN(r=+r))return t((fl(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(da),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>y6(e,i/r))},n.copy=function(){return oS(t).domain(e)},Dr.apply(n,arguments)}function Gd(){var e=0,t=.5,n=1,r=1,a,i,o,l,c,u=$t,d,p=!1,f;function m(x){return isNaN(x=+x)?f:(x=.5+((x=+d(x))-i)*(r*x<r*i?l:c),u(p?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t,n]=x,a=d(e=+e),i=d(t=+t),o=d(n=+n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),r=i<a?-1:1,m):[e,t,n]},m.clamp=function(x){return arguments.length?(p=!!x,m):p},m.interpolator=function(x){return arguments.length?(u=x,m):u};function g(x){return function(w){var v,y,b;return arguments.length?([v,y,b]=w,u=V6(x,[v,y,b]),m):[u(0),u(.5),u(1)]}}return m.range=g(Cs),m.rangeRound=g(Jg),m.unknown=function(x){return arguments.length?(f=x,m):f},function(x){return d=x,a=x(e),i=x(t),o=x(n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),r=i<a?-1:1,m}}function lS(){var e=Sa(Gd()($t));return e.copy=function(){return Ca(e,lS())},Dr.apply(e,arguments)}function cS(){var e=rx(Gd()).domain([.1,1,10]);return e.copy=function(){return Ca(e,cS()).base(e.base())},Dr.apply(e,arguments)}function uS(){var e=ax(Gd());return e.copy=function(){return Ca(e,uS()).constant(e.constant())},Dr.apply(e,arguments)}function gx(){var e=ix(Gd());return e.copy=function(){return Ca(e,gx()).exponent(e.exponent())},Dr.apply(e,arguments)}function $I(){return gx.apply(null,arguments).exponent(.5)}const so=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Gg,scaleDiverging:lS,scaleDivergingLog:cS,scaleDivergingPow:gx,scaleDivergingSqrt:$I,scaleDivergingSymlog:uS,scaleIdentity:U2,scaleImplicit:qm,scaleLinear:B2,scaleLog:q2,scaleOrdinal:Yg,scalePoint:j6,scalePow:sx,scaleQuantile:H2,scaleQuantize:Q2,scaleRadial:V2,scaleSequential:aS,scaleSequentialLog:iS,scaleSequentialPow:hx,scaleSequentialQuantile:oS,scaleSequentialSqrt:DI,scaleSequentialSymlog:sS,scaleSqrt:h$,scaleSymlog:K2,scaleThreshold:Y2,scaleTime:_I,scaleUtc:MI,tickFormat:z2},Symbol.toStringTag,{value:"Module"}));var Pa=e=>e.chartData,II=B([Pa],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Xd=(e,t,n,r)=>r?II(e):Pa(e);function fs(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(dn(t)&&dn(n))return!0}return!1}function Sb(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function RI(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,a,i;if(dn(n))a=n;else if(typeof n=="function")return;if(dn(r))i=r;else if(typeof r=="function")return;var o=[a,i];if(fs(o))return o}}function LI(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(fs(r))return Sb(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(ae(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&w0.test(a)){var c=w0.exec(a);if(c==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(ae(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&j0.test(i)){var d=j0.exec(i);if(d==null||t==null)l=void 0;else{var p=+d[1];l=t[1]+p}}else l=t==null?void 0:t[1];var f=[o,l];if(fs(f))return t==null?f:Sb(f,t,n)}}}var Ps=1e9,FI={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},vx,Ee=!0,On="[DecimalError] ",ti=On+"Invalid argument: ",xx=On+"Exponent out of range: ",As=Math.floor,La=Math.pow,zI=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,rn,it=1e7,ke=7,dS=9007199254740991,_u=As(dS/ke),te={};te.absoluteValue=te.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};te.comparedTo=te.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};te.decimalPlaces=te.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*ke;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};te.dividedBy=te.div=function(e){return jr(this,new this.constructor(e))};te.dividedToIntegerBy=te.idiv=function(e){var t=this,n=t.constructor;return be(jr(t,new n(e),0,1),n.precision)};te.equals=te.eq=function(e){return!this.cmp(e)};te.exponent=function(){return Ye(this)};te.greaterThan=te.gt=function(e){return this.cmp(e)>0};te.greaterThanOrEqualTo=te.gte=function(e){return this.cmp(e)>=0};te.isInteger=te.isint=function(){return this.e>this.d.length-2};te.isNegative=te.isneg=function(){return this.s<0};te.isPositive=te.ispos=function(){return this.s>0};te.isZero=function(){return this.s===0};te.lessThan=te.lt=function(e){return this.cmp(e)<0};te.lessThanOrEqualTo=te.lte=function(e){return this.cmp(e)<1};te.logarithm=te.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(rn))throw Error(On+"NaN");if(n.s<1)throw Error(On+(n.s?"NaN":"-Infinity"));return n.eq(rn)?new r(0):(Ee=!1,t=jr(Zo(n,i),Zo(e,i),i),Ee=!0,be(t,a))};te.minus=te.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?mS(t,e):pS(t,(e.s=-e.s,e))};te.modulo=te.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(On+"NaN");return n.s?(Ee=!1,t=jr(n,e,0,1).times(e),Ee=!0,n.minus(t)):be(new r(n),a)};te.naturalExponential=te.exp=function(){return fS(this)};te.naturalLogarithm=te.ln=function(){return Zo(this)};te.negated=te.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};te.plus=te.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pS(t,e):mS(t,(e.s=-e.s,e))};te.precision=te.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ti+e);if(t=Ye(a)+1,r=a.d.length-1,n=r*ke+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};te.squareRoot=te.sqrt=function(){var e,t,n,r,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(On+"NaN")}for(e=Ye(l),Ee=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=er(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=As((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(a.toString()),n=c.precision,a=o=n+3;;)if(i=r,r=i.plus(jr(l,i,o+2)).times(.5),er(i.d).slice(0,o)===(t=er(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(be(i,n+1,0),i.times(i).eq(l)){r=i;break}}else if(t!="9999")break;o+=4}return Ee=!0,be(r,n)};te.times=te.mul=function(e){var t,n,r,a,i,o,l,c,u,d=this,p=d.constructor,f=d.d,m=(e=new p(e)).d;if(!d.s||!e.s)return new p(0);for(e.s*=d.s,n=d.e+e.e,c=f.length,u=m.length,c<u&&(i=f,f=m,m=i,o=c,c=u,u=o),i=[],o=c+u,r=o;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,a=c+r;a>r;)l=i[a]+m[r]*f[a-r-1]+t,i[a--]=l%it|0,t=l/it|0;i[a]=(i[a]+t)%it|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,Ee?be(e,p.precision):e};te.toDecimalPlaces=te.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ir(e,0,Ps),t===void 0?t=r.rounding:ir(t,0,8),be(n,e+Ye(n)+1,t))};te.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=ci(r,!0):(ir(e,0,Ps),t===void 0?t=a.rounding:ir(t,0,8),r=be(new a(r),e+1,t),n=ci(r,!0,e+1)),n};te.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?ci(a):(ir(e,0,Ps),t===void 0?t=i.rounding:ir(t,0,8),r=be(new i(a),e+Ye(a)+1,t),n=ci(r.abs(),!1,e+Ye(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};te.toInteger=te.toint=function(){var e=this,t=e.constructor;return be(new t(e),Ye(e)+1,t.rounding)};te.toNumber=function(){return+this};te.toPower=te.pow=function(e){var t,n,r,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(rn);if(l=new c(l),!l.s){if(e.s<1)throw Error(On+"Infinity");return l}if(l.eq(rn))return l;if(r=c.precision,e.eq(rn))return be(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=l.s,o){if((n=d<0?-d:d)<=dS){for(a=new c(rn),t=Math.ceil(r/ke+4),Ee=!1;n%2&&(a=a.times(l),Pb(a.d,t)),n=As(n/2),n!==0;)l=l.times(l),Pb(l.d,t);return Ee=!0,e.s<0?new c(rn).div(a):be(a,r)}}else if(i<0)throw Error(On+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Ee=!1,a=e.times(Zo(l,r+u)),Ee=!0,a=fS(a),a.s=i,a};te.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?(n=Ye(a),r=ci(a,n<=i.toExpNeg||n>=i.toExpPos)):(ir(e,1,Ps),t===void 0?t=i.rounding:ir(t,0,8),a=be(new i(a),e,t),n=Ye(a),r=ci(a,e<=n||n<=i.toExpNeg,e)),r};te.toSignificantDigits=te.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ir(e,1,Ps),t===void 0?t=r.rounding:ir(t,0,8)),be(new r(n),e,t)};te.toString=te.valueOf=te.val=te.toJSON=te[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ye(e),n=e.constructor;return ci(e,t<=n.toExpNeg||t>=n.toExpPos)};function pS(e,t){var n,r,a,i,o,l,c,u,d=e.constructor,p=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ee?be(t,p):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(r=c,i=-i,l=u.length):(r=u,a=o,l=c.length),o=Math.ceil(p/ke),l=o>l?o+1:l+1,i>l&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,r=u,u=c,c=r),n=0;i;)n=(c[--i]=c[i]+u[i]+n)/it|0,c[i]%=it;for(n&&(c.unshift(n),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Ee?be(t,p):t}function ir(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ti+e)}function er(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)r=e[t]+"",n=ke-r.length,n&&(i+=Qr(n)),i+=r;o=e[t],r=o+"",n=ke-r.length,n&&(i+=Qr(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var jr=function(){function e(r,a){var i,o=0,l=r.length;for(r=r.slice();l--;)i=r[l]*a+o,r[l]=i%it|0,o=i/it|0;return o&&r.unshift(o),r}function t(r,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(r[l]!=a[l]){c=r[l]>a[l]?1:-1;break}return c}function n(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*it+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var l,c,u,d,p,f,m,g,x,w,v,y,b,j,S,k,C,E,R=r.constructor,M=r.s==a.s?1:-1,N=r.d,T=a.d;if(!r.s)return new R(r);if(!a.s)throw Error(On+"Division by zero");for(c=r.e-a.e,C=T.length,S=N.length,m=new R(M),g=m.d=[],u=0;T[u]==(N[u]||0);)++u;if(T[u]>(N[u]||0)&&--c,i==null?y=i=R.precision:o?y=i+(Ye(r)-Ye(a))+1:y=i,y<0)return new R(0);if(y=y/ke+2|0,u=0,C==1)for(d=0,T=T[0],y++;(u<S||d)&&y--;u++)b=d*it+(N[u]||0),g[u]=b/T|0,d=b%T|0;else{for(d=it/(T[0]+1)|0,d>1&&(T=e(T,d),N=e(N,d),C=T.length,S=N.length),j=C,x=N.slice(0,C),w=x.length;w<C;)x[w++]=0;E=T.slice(),E.unshift(0),k=T[0],T[1]>=it/2&&++k;do d=0,l=t(T,x,C,w),l<0?(v=x[0],C!=w&&(v=v*it+(x[1]||0)),d=v/k|0,d>1?(d>=it&&(d=it-1),p=e(T,d),f=p.length,w=x.length,l=t(p,x,f,w),l==1&&(d--,n(p,C<f?E:T,f))):(d==0&&(l=d=1),p=T.slice()),f=p.length,f<w&&p.unshift(0),n(x,p,w),l==-1&&(w=x.length,l=t(T,x,C,w),l<1&&(d++,n(x,C<w?E:T,w))),w=x.length):l===0&&(d++,x=[0]),g[u++]=d,l&&x[0]?x[w++]=N[j]||0:(x=[N[j]],w=1);while((j++<S||x[0]!==void 0)&&y--)}return g[0]||g.shift(),m.e=c,be(m,o?i+Ye(m)+1:i)}}();function fS(e,t){var n,r,a,i,o,l,c=0,u=0,d=e.constructor,p=d.precision;if(Ye(e)>16)throw Error(xx+Ye(e));if(!e.s)return new d(rn);for(t==null?(Ee=!1,l=p):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(La(2,u))/Math.LN10*2+5|0,l+=r,n=a=i=new d(rn),d.precision=l;;){if(a=be(a.times(e),l),n=n.times(++c),o=i.plus(jr(a,n,l)),er(o.d).slice(0,l)===er(i.d).slice(0,l)){for(;u--;)i=be(i.times(i),l);return d.precision=p,t==null?(Ee=!0,be(i,p)):i}i=o}}function Ye(e){for(var t=e.e*ke,n=e.d[0];n>=10;n/=10)t++;return t}function lf(e,t,n){if(t>e.LN10.sd())throw Ee=!0,n&&(e.precision=n),Error(On+"LN10 precision limit exceeded");return be(new e(e.LN10),t)}function Qr(e){for(var t="";e--;)t+="0";return t}function Zo(e,t){var n,r,a,i,o,l,c,u,d,p=1,f=10,m=e,g=m.d,x=m.constructor,w=x.precision;if(m.s<1)throw Error(On+(m.s?"NaN":"-Infinity"));if(m.eq(rn))return new x(0);if(t==null?(Ee=!1,u=w):u=t,m.eq(10))return t==null&&(Ee=!0),lf(x,u);if(u+=f,x.precision=u,n=er(g),r=n.charAt(0),i=Ye(m),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=er(m.d),r=n.charAt(0),p++;i=Ye(m),r>1?(m=new x("0."+n),i++):m=new x(r+"."+n.slice(1))}else return c=lf(x,u+2,w).times(i+""),m=Zo(new x(r+"."+n.slice(1)),u-f).plus(c),x.precision=w,t==null?(Ee=!0,be(m,w)):m;for(l=o=m=jr(m.minus(rn),m.plus(rn),u),d=be(m.times(m),u),a=3;;){if(o=be(o.times(d),u),c=l.plus(jr(o,new x(a),u)),er(c.d).slice(0,u)===er(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(lf(x,u+2,w).times(i+""))),l=jr(l,new x(p),u),x.precision=w,t==null?(Ee=!0,be(l,w)):l;l=c,a+=2}}function Cb(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=As(n/ke),e.d=[],r=(n+1)%ke,n<0&&(r+=ke),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=ke;r<a;)e.d.push(+t.slice(r,r+=ke));t=t.slice(r),r=ke-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),Ee&&(e.e>_u||e.e<-_u))throw Error(xx+n)}else e.s=0,e.e=0,e.d=[0];return e}function be(e,t,n){var r,a,i,o,l,c,u,d,p=e.d;for(o=1,i=p[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=ke,a=t,u=p[d=0];else{if(d=Math.ceil((r+1)/ke),i=p.length,d>=i)return e;for(u=i=p[d],o=1;i>=10;i/=10)o++;r%=ke,a=r-ke+o}if(n!==void 0&&(i=La(10,o-a-1),l=u/i%10|0,c=t<0||p[d+1]!==void 0||u%i,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?a>0?u/La(10,o-a):0:p[d-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return c?(i=Ye(e),p.length=1,t=t-i-1,p[0]=La(10,(ke-t%ke)%ke),e.e=As(-t/ke)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=d,i=1,d--):(p.length=d+1,i=La(10,ke-r),p[d]=a>0?(u/La(10,o-a)%La(10,a)|0)*i:0),c)for(;;)if(d==0){(p[0]+=i)==it&&(p[0]=1,++e.e);break}else{if(p[d]+=i,p[d]!=it)break;p[d--]=0,i=1}for(r=p.length;p[--r]===0;)p.pop();if(Ee&&(e.e>_u||e.e<-_u))throw Error(xx+Ye(e));return e}function mS(e,t){var n,r,a,i,o,l,c,u,d,p,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),Ee?be(t,m):t;if(c=e.d,p=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,l=p.length):(n=p,r=u,l=c.length),a=Math.max(Math.ceil(m/ke),l)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=c.length,l=p.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=p[a]){d=c[a]<p[a];break}o=0}for(d&&(n=c,c=p,p=n,t.s=-t.s),l=c.length,a=p.length-l;a>0;--a)c[l++]=0;for(a=p.length;a>o;){if(c[--a]<p[a]){for(i=a;i&&c[--i]===0;)c[i]=it-1;--c[i],c[a]+=it}c[a]-=p[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,Ee?be(t,m):t):new f(0)}function ci(e,t,n){var r,a=Ye(e),i=er(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Qr(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Qr(-a-1)+i,n&&(r=n-o)>0&&(i+=Qr(r))):a>=o?(i+=Qr(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+Qr(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=Qr(r))),e.s<0?"-"+i:i}function Pb(e,t){if(e.length>t)return e.length=t,!0}function hS(e){var t,n,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(ti+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return Cb(o,i.toString())}else if(typeof i!="string")throw Error(ti+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,zI.test(i))Cb(o,i);else throw Error(ti+i)}if(a.prototype=te,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=hS,a.config=a.set=BI,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function BI(e){if(!e||typeof e!="object")throw Error(On+"Object expected");var t,n,r,a=["precision",1,Ps,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(As(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(ti+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ti+n+": "+r);return this}var vx=hS(FI);rn=new vx(1);const he=vx;var UI=e=>e,gS={"@@functional/placeholder":!0},xS=e=>e===gS,Ab=e=>function t(){return arguments.length===0||arguments.length===1&&xS(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},vS=(e,t)=>e===1?t:Ab(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=r.filter(o=>o!==gS).length;return i>=e?t(...r):vS(e-i,Ab(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=r.map(d=>xS(d)?l.shift():d);return t(...u,...l)}))}),Zd=e=>vS(e.length,e),Qm=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},WI=Zd((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),qI=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return UI;var a=n.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((l,c)=>c(l),i(...arguments))}},Ym=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),yS=e=>{var t=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t&&a.every((o,l)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[l])})||(t=a,n=e(...a)),n}};function bS(e){var t;return e===0?t=1:t=Math.floor(new he(e).abs().log(10).toNumber())+1,t}function wS(e,t,n){for(var r=new he(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}Zd((e,t,n)=>{var r=+e,a=+t;return r+n*(a-r)});Zd((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});Zd((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var jS=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},NS=(e,t,n)=>{if(e.lte(0))return new he(0);var r=bS(e.toNumber()),a=new he(10).pow(r),i=e.div(a),o=r!==1?.05:.1,l=new he(Math.ceil(i.div(o).toNumber())).add(n).mul(o),c=l.mul(a);return t?new he(c.toNumber()):new he(Math.ceil(c.toNumber()))},KI=(e,t,n)=>{var r=new he(1),a=new he(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new he(10).pow(bS(e)-1),a=new he(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new he(Math.floor(e)))}else e===0?a=new he(Math.floor((t-1)/2)):n||(a=new he(Math.floor(e)));var o=Math.floor((t-1)/2),l=qI(WI(c=>a.add(new he(c-o).mul(r)).toNumber()),Qm);return l(0,t)},kS=function(t,n,r,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new he(0),tickMin:new he(0),tickMax:new he(0)};var o=NS(new he(n).sub(t).div(r-1),a,i),l;t<=0&&n>=0?l=new he(0):(l=new he(t).add(n).div(2),l=l.sub(new he(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),u=Math.ceil(new he(n).sub(l).div(o).toNumber()),d=c+u+1;return d>r?kS(t,n,r,a,i+1):(d<r&&(u=n>0?u+(r-d):u,c=n>0?c:c+(r-d)),{step:o,tickMin:l.sub(new he(c).mul(o)),tickMax:l.add(new he(u).mul(o))})};function VI(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(r,2),[o,l]=jS([t,n]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...Qm(0,r-1).map(()=>1/0)]:[...Qm(0,r-1).map(()=>-1/0),l];return t>n?Ym(c):c}if(o===l)return KI(o,r,a);var{step:u,tickMin:d,tickMax:p}=kS(o,l,i,a,0),f=wS(d,p.add(new he(.1).mul(u)),u);return t>n?Ym(f):f}function HI(e,t){var[n,r]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=jS([n,r]);if(i===-1/0||o===1/0)return[n,r];if(i===o)return[i];var l=Math.max(t,2),c=NS(new he(o).sub(i).div(l-1),a,0),u=[...wS(new he(i),new he(o),c),o];return a===!1&&(u=u.map(d=>Math.round(d))),n>r?Ym(u):u}var QI=yS(VI),YI=yS(HI),SS=e=>e.rootProps.maxBarSize,GI=e=>e.rootProps.barGap,CS=e=>e.rootProps.barCategoryGap,XI=e=>e.rootProps.barSize,Jd=e=>e.rootProps.stackOffset,yx=e=>e.options.chartName,bx=e=>e.rootProps.syncId,PS=e=>e.rootProps.syncMethod,wx=e=>e.options.eventEmitter,pr={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},en={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},ep=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},ZI={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:pr.angleAxisId,includeHidden:!1,name:void 0,reversed:pr.reversed,scale:pr.scale,tick:pr.tick,tickCount:void 0,ticks:void 0,type:pr.type,unit:void 0},JI={allowDataOverflow:en.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:en.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:en.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:en.scale,tick:en.tick,tickCount:en.tickCount,ticks:void 0,type:en.type,unit:void 0},eR={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:pr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pr.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pr.scale,tick:pr.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},tR={allowDataOverflow:en.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:en.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:en.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:en.scale,tick:en.tick,tickCount:en.tickCount,ticks:void 0,type:"category",unit:void 0},jx=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?eR:ZI,Nx=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?tR:JI,tp=e=>e.polarOptions,kx=B([_r,Mr,pt],uM),AS=B([tp,kx],(e,t)=>{if(e!=null)return Kn(e.innerRadius,t,0)}),ES=B([tp,kx],(e,t)=>{if(e!=null)return Kn(e.outerRadius,t,t*.8)}),nR=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},OS=B([tp],nR);B([jx,OS],ep);var TS=B([kx,AS,ES],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});B([Nx,TS],ep);var _S=B([fe,tp,AS,ES,_r,Mr],(e,t,n,r,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:l,startAngle:c,endAngle:u}=t;return{cx:Kn(o,a,a/2),cy:Kn(l,i,i/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:u,clockWise:!1}}}),Ge=(e,t)=>t,np=(e,t,n)=>n;function Sx(e){return e==null?void 0:e.id}var tt=e=>{var t=fe(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Es=e=>e.tooltip.settings.axisId,mt=e=>{var t=tt(e),n=Es(e);return xl(e,t,n)},MS=B([mt],e=>e==null?void 0:e.dataKey);function DS(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=n,o=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:r;if(!(u==null||u.length===0)){var d=Sx(l);u.forEach((p,f)=>{var m=i==null||a?f:String(ct(p,i,null)),g=ct(p,l.dataKey,0),x;o.has(m)?x=o.get(m):x={},Object.assign(x,{[d]:g}),o.set(m,x)})}}),Array.from(o.values())}function rp(e){return e.stackId!=null&&e.dataKey!=null}function Eb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Eb(Object(n),!0).forEach(function(r){rR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rR(e,t,n){return(t=aR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aR(e){var t=iR(e,"string");return typeof t=="symbol"?t:t+""}function iR(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gm=[0,"auto"],Xt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},$S=(e,t)=>e.cartesianAxis.xAxis[t],$r=(e,t)=>{var n=$S(e,t);return n??Xt},Zt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Gm,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:pl},IS=(e,t)=>e.cartesianAxis.yAxis[t],Ir=(e,t)=>{var n=IS(e,t);return n??Zt},sR={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Cx=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??sR},Gt=(e,t,n)=>{switch(t){case"xAxis":return $r(e,n);case"yAxis":return Ir(e,n);case"zAxis":return Cx(e,n);case"angleAxis":return jx(e,n);case"radiusAxis":return Nx(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},oR=(e,t,n)=>{switch(t){case"xAxis":return $r(e,n);case"yAxis":return Ir(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},xl=(e,t,n)=>{switch(t){case"xAxis":return $r(e,n);case"yAxis":return Ir(e,n);case"angleAxis":return jx(e,n);case"radiusAxis":return Nx(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},RS=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function LS(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var ap=e=>e.graphicalItems.cartesianItems,lR=B([Ge,np],LS),FS=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),vl=B([ap,Gt,lR],FS),zS=B([vl],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(rp)),BS=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),US=B([vl],BS),WS=e=>e.map(t=>t.data).filter(Boolean).flat(1),cR=B([vl],WS),qS=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},Px=B([cR,Xd],qS),KS=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:ct(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(a=>({value:ct(a,r)}))):e.map(r=>({value:r})),ip=B([Px,Gt,vl],KS);function VS(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ji(e){return e.filter(t=>ar(t)||t instanceof Date).map(Number).filter(t=>cn(t)===!1)}function uR(e,t,n){return!n||typeof t!="number"||cn(t)?[]:n.length?ji(n.flatMap(r=>{var a=ct(e,r.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!dn(i)||!dn(o)))return[t-i,t+o]})):[]}var dR=B([zS,Xd,mt],DS),HS=(e,t,n)=>{var r={},a=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),r);return Object.fromEntries(Object.entries(a).map(i=>{var[o,l]=i,c=l.map(Sx);return[o,{stackedData:CM(e,c,n),graphicalItems:l}]}))},Xm=B([dR,zS,Jd],HS),QS=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:a}=t;if(n!=="zAxis"){var i=TM(e,r,a);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},pR=B([Xm,Pa,Ge],QS),YS=(e,t,n,r,a)=>n.length>0?e.flatMap(i=>n.flatMap(o=>{var l,c,u=(l=r[o.id])===null||l===void 0?void 0:l.filter(p=>VS(a,p)),d=ct(i,(c=t.dataKey)!==null&&c!==void 0?c:o.dataKey);return{value:d,errorDomain:uR(i,d,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:ct(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),sp=e=>e.errorBars,GS=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>VS(n,r));B([US,sp,Ge],GS);var fR=B([Px,Gt,US,sp,Ge],YS);function mR(e){var{value:t}=e;if(ar(t)||t instanceof Date)return t}var Ob=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=ji(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},hR=(e,t,n)=>{var r=e.map(mR).filter(a=>a!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&qN(r))?O2(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},Ax=e=>{var t;if(e==null||!("domain"in e))return Gm;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=ji(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Gm},Du=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},XS=e=>e.referenceElements.dots,Os=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),gR=B([XS,Ge,np],Os),ZS=e=>e.referenceElements.areas,xR=B([ZS,Ge,np],Os),JS=e=>e.referenceElements.lines,vR=B([JS,Ge,np],Os),eC=(e,t)=>{var n=ji(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},yR=B(gR,Ge,eC),tC=(e,t)=>{var n=ji(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},bR=B([xR,Ge],tC),nC=(e,t)=>{var n=ji(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},wR=B(vR,Ge,nC),jR=B(yR,wR,bR,(e,t,n)=>Du(e,n,t)),NR=B([Gt],Ax),rC=(e,t,n,r,a,i,o)=>{var l=RI(t,e.allowDataOverflow);if(l!=null)return l;var c=i==="vertical"&&o==="xAxis"||i==="horizontal"&&o==="yAxis",u=c?Du(n,a,Ob(r)):Du(a,Ob(r));return LI(t,u,e.allowDataOverflow)},kR=B([Gt,NR,pR,fR,jR,fe,Ge],rC),SR=[0,1],aC=(e,t,n,r,a,i,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,u=ka(t,i);return u&&l==null?O2(0,n.length):c==="category"?hR(r,e,u):a==="expand"?SR:o}},Ex=B([Gt,fe,Px,ip,Jd,Ge,kR],aC),iC=(e,t,n,r,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(cl(i));return l in so?l:"point"}}},yl=B([Gt,fe,RS,yx,Ge],iC);function CR(e){if(e!=null){if(e in so)return so[e]();var t="scale".concat(cl(e));if(t in so)return so[t]()}}function Ox(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var a=CR(t);if(a!=null){var i=a.domain(n).range(r);return wM(i),i}}}var sC=(e,t,n)=>{var r=Ax(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&fs(e))return QI(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&fs(e))return YI(e,t.tickCount,t.allowDecimals)}},Tx=B([Ex,xl,yl],sC),oC=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&fs(t)&&Array.isArray(n)&&n.length>0){var a=t[0],i=n[0],o=t[1],l=n[n.length-1];return[Math.min(a,i),Math.max(o,l)]}return t},PR=B([Gt,Ex,Tx,Ge],oC),AR=B(ip,Gt,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(ji(e.map(l=>l.value))).sort((l,c)=>l-c);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(a===0)return 1/0;for(var i=0;i<r.length-1;i++){var o=r[i+1]-r[i];n=Math.min(n,o)}return n/a}}),lC=B(AR,fe,CS,pt,(e,t,n,r)=>r,(e,t,n,r,a)=>{if(!dn(e))return 0;var i=t==="vertical"?r.height:r.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=Kn(n,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),ER=(e,t)=>{var n=$r(e,t);return n==null||typeof n.padding!="string"?0:lC(e,"xAxis",t,n.padding)},OR=(e,t)=>{var n=Ir(e,t);return n==null||typeof n.padding!="string"?0:lC(e,"yAxis",t,n.padding)},TR=B($r,ER,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((n=a.left)!==null&&n!==void 0?n:0)+t,right:((r=a.right)!==null&&r!==void 0?r:0)+t}}),_R=B(Ir,OR,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((n=a.top)!==null&&n!==void 0?n:0)+t,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+t}}),MR=B([pt,TR,Bd,zd,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:i}=r;return a?[i.left,n.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),DR=B([pt,fe,_R,Bd,zd,(e,t,n)=>n],(e,t,n,r,a,i)=>{var{padding:o}=a;return i?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),bl=(e,t,n,r)=>{var a;switch(t){case"xAxis":return MR(e,n,r);case"yAxis":return DR(e,n,r);case"zAxis":return(a=Cx(e,n))===null||a===void 0?void 0:a.range;case"angleAxis":return OS(e);case"radiusAxis":return TS(e,n);default:return}},cC=B([Gt,bl],ep),Ts=B([Gt,yl,PR,cC],Ox);B([vl,sp,Ge],GS);function uC(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var op=(e,t)=>t,lp=(e,t,n)=>n,$R=B(Ld,op,lp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(uC)),IR=B(Fd,op,lp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(uC)),dC=(e,t)=>({width:e.width,height:t.height}),RR=(e,t)=>{var n=typeof t.width=="number"?t.width:pl;return{width:n,height:e.height}},pC=B(pt,$r,dC),LR=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},FR=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},zR=B(Mr,pt,$R,op,lp,(e,t,n,r,a)=>{var i={},o;return n.forEach(l=>{var c=dC(t,l);o==null&&(o=LR(t,r,e));var u=r==="top"&&!a||r==="bottom"&&a;i[l.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),i}),BR=B(_r,pt,IR,op,lp,(e,t,n,r,a)=>{var i={},o;return n.forEach(l=>{var c=RR(t,l);o==null&&(o=FR(t,r,e));var u=r==="left"&&!a||r==="right"&&a;i[l.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),i}),UR=(e,t)=>{var n=$r(e,t);if(n!=null)return zR(e,n.orientation,n.mirror)},WR=B([pt,$r,UR,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),qR=(e,t)=>{var n=Ir(e,t);if(n!=null)return BR(e,n.orientation,n.mirror)},KR=B([pt,Ir,qR,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),fC=B(pt,Ir,(e,t)=>{var n=typeof t.width=="number"?t.width:pl;return{width:n,height:e.height}}),Tb=(e,t,n)=>{switch(t){case"xAxis":return pC(e,n).width;case"yAxis":return fC(e,n).height;default:return}},mC=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=n,l=ka(e,r),c=t.map(u=>u.value);if(o&&l&&i==="category"&&a&&qN(c))return c}},_x=B([fe,ip,Gt,Ge],mC),hC=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:i}=n,o=ka(e,r);if(o&&(a==="number"||i!=="auto"))return t.map(l=>l.value)}},Mx=B([fe,ip,xl,Ge],hC),_b=B([fe,oR,yl,Ts,_x,Mx,bl,Tx,Ge],(e,t,n,r,a,i,o,l,c)=>{if(t==null)return null;var u=ka(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:l,range:o,realScaleType:n,scale:r}}),VR=(e,t,n,r,a,i,o,l,c)=>{if(!(t==null||r==null)){var u=ka(e,c),{type:d,ticks:p,tickCount:f}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,g=d==="category"&&r.bandwidth?r.bandwidth()/m:0;g=c==="angleAxis"&&i!=null&&i.length>=2?Ut(i[0]-i[1])*2*g:g;var x=p||a;if(x){var w=x.map((v,y)=>{var b=o?o.indexOf(v):v;return{index:y,coordinate:r(b)+g,value:v,offset:g}});return w.filter(v=>!cn(v.coordinate))}return u&&l?l.map((v,y)=>({coordinate:r(v)+g,value:v,index:y,offset:g})):r.ticks?r.ticks(f).map(v=>({coordinate:r(v)+g,value:v,offset:g})):r.domain().map((v,y)=>({coordinate:r(v)+g,value:o?o[v]:v,index:y,offset:g}))}},gC=B([fe,xl,yl,Ts,Tx,bl,_x,Mx,Ge],VR),HR=(e,t,n,r,a,i,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var l=ka(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&(r==null?void 0:r.length)>=2?Ut(r[0]-r[1])*2*u:u,l&&i?i.map((d,p)=>({coordinate:n(d)+u,value:d,index:p,offset:u})):n.ticks?n.ticks(c).map(d=>({coordinate:n(d)+u,value:d,offset:u})):n.domain().map((d,p)=>({coordinate:n(d)+u,value:a?a[d]:d,index:p,offset:u}))}},ma=B([fe,xl,Ts,bl,_x,Mx,Ge],HR),ha=B(Gt,Ts,(e,t)=>{if(!(e==null||t==null))return Mu(Mu({},e),{},{scale:t})}),QR=B([Gt,yl,Ex,cC],Ox);B((e,t,n)=>Cx(e,n),QR,(e,t)=>{if(!(e==null||t==null))return Mu(Mu({},e),{},{scale:t})});var YR=B([fe,Ld,Fd],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),xC=e=>e.options.defaultTooltipEventType,vC=e=>e.options.validateTooltipEventTypes;function yC(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function Dx(e,t){var n=xC(e),r=vC(e);return yC(t,n,r)}function GR(e){return re(t=>Dx(t,e))}var bC=(e,t)=>{var n,r=Number(t);if(!(cn(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},XR=e=>e.tooltip.settings,Zr={active:!1,index:null,dataKey:void 0,coordinate:void 0},ZR={itemInteraction:{click:Zr,hover:Zr},axisInteraction:{click:Zr,hover:Zr},keyboardInteraction:Zr,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},wC=hn({name:"tooltip",initialState:ZR,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=wr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:JR,removeTooltipEntrySettings:eL,setTooltipSettingsState:tL,setActiveMouseOverItemIndex:jC,mouseLeaveItem:nL,mouseLeaveChart:NC,setActiveClickItemIndex:rL,setMouseOverAxisIndex:kC,setMouseClickAxisIndex:aL,setSyncInteraction:Zm,setKeyboardInteraction:Jm}=wC.actions,iL=wC.reducer;function Mb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ac(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mb(Object(n),!0).forEach(function(r){sL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sL(e,t,n){return(t=oL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oL(e){var t=lL(e,"string");return typeof t=="symbol"?t:t+""}function lL(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cL(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function uL(e){return e.index!=null}var SC=(e,t,n,r)=>{if(t==null)return Zr;var a=cL(e,t,n);if(a==null)return Zr;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(uL(a)){if(i)return ac(ac({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return ac(ac({},Zr),{},{coordinate:a.coordinate})},$x=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!dn(r))return n;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(r,i)))},CC=(e,t,n,r,a,i,o,l)=>{if(!(i==null||l==null)){var c=o[0],u=c==null?void 0:l(c.positions,i);if(u!=null)return u;var d=a==null?void 0:a[Number(i)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},PC=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===a})},wl=e=>e.options.tooltipPayloadSearcher,_s=e=>e.tooltip;function Db(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $b(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Db(Object(n),!0).forEach(function(r){dL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Db(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dL(e,t,n){return(t=pL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pL(e){var t=fL(e,"string");return typeof t=="symbol"?t:t+""}function fL(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mL(e,t){return e??t}var AC=(e,t,n,r,a,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=n,p=[];return e.reduce((f,m)=>{var g,{dataDefinedOnItem:x,settings:w}=m,v=mL(x,l),y=Array.isArray(v)?c2(v,u,d):v,b=(g=w==null?void 0:w.dataKey)!==null&&g!==void 0?g:r,j=w==null?void 0:w.nameKey,S;if(r&&Array.isArray(y)&&!Array.isArray(y[0])&&o==="axis"?S=KN(y,r,a):S=i(y,t,c,j),Array.isArray(S))S.forEach(C=>{var E=$b($b({},w),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});f.push(N0({tooltipEntrySettings:E,dataKey:C.dataKey,payload:C.payload,value:ct(C.payload,C.dataKey),name:C.name}))});else{var k;f.push(N0({tooltipEntrySettings:w,dataKey:b,payload:S,value:ct(S,b),name:(k=ct(S,j))!==null&&k!==void 0?k:w==null?void 0:w.name}))}return f},p)}},Ix=B([mt,fe,RS,yx,tt],iC),hL=B([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),gL=B([tt,Es],LS),jl=B([hL,mt,gL],FS),xL=B([jl],e=>e.filter(rp)),vL=B([jl],WS),Ms=B([vL,Pa],qS),yL=B([xL,Pa,mt],DS),Rx=B([Ms,mt,jl],KS),bL=B([mt],Ax),wL=B([jl],e=>e.filter(rp)),jL=B([yL,wL,Jd],HS),NL=B([jL,Pa,tt],QS),kL=B([jl],BS),SL=B([Ms,mt,kL,sp,tt],YS),CL=B([XS,tt,Es],Os),PL=B([CL,tt],eC),AL=B([ZS,tt,Es],Os),EL=B([AL,tt],tC),OL=B([JS,tt,Es],Os),TL=B([OL,tt],nC),_L=B([PL,TL,EL],Du),ML=B([mt,bL,NL,SL,_L,fe,tt],rC),EC=B([mt,fe,Ms,Rx,Jd,tt,ML],aC),DL=B([EC,mt,Ix],sC),$L=B([mt,EC,DL,tt],oC),OC=e=>{var t=tt(e),n=Es(e),r=!1;return bl(e,t,n,r)},TC=B([mt,OC],ep),_C=B([mt,Ix,$L,TC],Ox),IL=B([fe,Rx,mt,tt],mC),RL=B([fe,Rx,mt,tt],hC),LL=(e,t,n,r,a,i,o,l)=>{if(t){var{type:c}=t,u=ka(e,l);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=c==="category"&&r.bandwidth?r.bandwidth()/d:0;return p=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Ut(a[0]-a[1])*2*p:p,u&&o?o.map((f,m)=>({coordinate:r(f)+p,value:f,index:m,offset:p})):r.domain().map((f,m)=>({coordinate:r(f)+p,value:i?i[f]:f,index:m,offset:p}))}}},Rr=B([fe,mt,Ix,_C,OC,IL,RL,tt],LL),Lx=B([xC,vC,XR],(e,t,n)=>yC(n.shared,e,t)),MC=e=>e.tooltip.settings.trigger,Fx=e=>e.tooltip.settings.defaultIndex,cp=B([_s,Lx,MC,Fx],SC),ui=B([cp,Ms],$x),DC=B([Rr,ui],bC),$C=B([cp],e=>{if(e)return e.dataKey}),IC=B([_s,Lx,MC,Fx],PC),FL=B([_r,Mr,fe,pt,Rr,Fx,IC,wl],CC),zL=B([cp,FL],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),BL=B([cp],e=>e.active),UL=B([IC,ui,Pa,MS,DC,wl,Lx],AC),WL=B([UL],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function Ib(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Rb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ib(Object(n),!0).forEach(function(r){qL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ib(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qL(e,t,n){return(t=KL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KL(e){var t=VL(e,"string");return typeof t=="symbol"?t:t+""}function VL(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HL=()=>re(mt),QL=()=>{var e=HL(),t=re(Rr),n=re(_C);return Vo(Rb(Rb({},e),{},{scale:n}),t)},YL=()=>re(yx),zx=(e,t)=>t,RC=(e,t,n)=>n,Bx=(e,t,n,r)=>r,GL=B(Rr,e=>Td(e,t=>t.coordinate)),Ux=B([_s,zx,RC,Bx],SC),LC=B([Ux,Ms],$x),XL=(e,t,n)=>{if(t!=null){var r=_s(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},FC=B([_s,zx,RC,Bx],PC),$u=B([_r,Mr,fe,pt,Rr,Bx,FC,wl],CC),ZL=B([Ux,$u],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),zC=B(Rr,LC,bC),JL=B([FC,LC,Pa,MS,zC,wl,zx],AC),eF=B([Ux],e=>({isActive:e.active,activeIndex:e.index})),tF=(e,t,n,r,a,i,o,l)=>{if(!(!e||!t||!r||!a||!i)){var c=_M(e.chartX,e.chartY,t,n,l);if(c){var u=DM(c,t),d=yM(u,o,i,r,a),p=MM(t,i,d,c);return{activeIndex:String(d),activeCoordinate:p}}}};function eh(){return eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eh.apply(null,arguments)}function Lb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ic(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lb(Object(n),!0).forEach(function(r){nF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nF(e,t,n){return(t=rF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rF(e){var t=aF(e,"string");return typeof t=="symbol"?t:t+""}function aF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iF(e){var{coordinate:t,payload:n,index:r,offset:a,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:c,chartName:u}=e,d=t,p=n,f=r;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var m,g;if(u==="ScatterChart")m=d,g=SD;else if(u==="BarChart")m=CD(o,d,a,i),g=N2;else if(o==="radial"){var{cx:x,cy:w,radius:v,startAngle:y,endAngle:b}=k2(d);m={cx:x,cy:w,startAngle:y,endAngle:b,innerRadius:v,outerRadius:v},g=C2}else m={points:i6(o,d,a)},g=v2;var j=typeof l=="object"&&"className"in l?l.className:void 0,S=ic(ic(ic(ic({stroke:"#ccc",pointerEvents:"none"},a),m),We(l,!1)),{},{payload:p,payloadIndex:f,className:ve("recharts-tooltip-cursor",j)});return h.isValidElement(l)?h.cloneElement(l,S):h.createElement(g,S)}function sF(e){var t=QL(),n=f2(),r=Ud(),a=YL();return h.createElement(iF,eh({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:a}))}var BC=h.createContext(null),oF=()=>h.useContext(BC),UC={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,p,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,p||c,f),g=n?n+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,p;if(this._eventsCount===0)return u;for(p in d=this._events)t.call(d,p)&&u.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var f=0,m=p.length,g=new Array(m);f<m;f++)g[f]=p[f].fn;return g},l.prototype.listenerCount=function(u){var d=n?n+u:u,p=this._events[d];return p?p.fn?1:p.length:0},l.prototype.emit=function(u,d,p,f,m,g){var x=n?n+u:u;if(!this._events[x])return!1;var w=this._events[x],v=arguments.length,y,b;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),v){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,p),!0;case 4:return w.fn.call(w.context,d,p,f),!0;case 5:return w.fn.call(w.context,d,p,f,m),!0;case 6:return w.fn.call(w.context,d,p,f,m,g),!0}for(b=1,y=new Array(v-1);b<v;b++)y[b-1]=arguments[b];w.fn.apply(w.context,y)}else{var j=w.length,S;for(b=0;b<j;b++)switch(w[b].once&&this.removeListener(u,w[b].fn,void 0,!0),v){case 1:w[b].fn.call(w[b].context);break;case 2:w[b].fn.call(w[b].context,d);break;case 3:w[b].fn.call(w[b].context,d,p);break;case 4:w[b].fn.call(w[b].context,d,p,f);break;default:if(!y)for(S=1,y=new Array(v-1);S<v;S++)y[S-1]=arguments[S];w[b].fn.apply(w[b].context,y)}}return!0},l.prototype.on=function(u,d,p){return i(this,u,d,p,!1)},l.prototype.once=function(u,d,p){return i(this,u,d,p,!0)},l.prototype.removeListener=function(u,d,p,f){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!f||g.once)&&(!p||g.context===p)&&o(this,m);else{for(var x=0,w=[],v=g.length;x<v;x++)(g[x].fn!==d||f&&!g[x].once||p&&g[x].context!==p)&&w.push(g[x]);w.length?this._events[m]=w.length===1?w[0]:w:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(UC);var lF=UC.exports;const cF=sr(lF);var Jo=new cF,th="recharts.syncEvent.tooltip",Fb="recharts.syncEvent.brush";function WC(e,t){if(t){var n=Number.parseInt(t,10);if(!cn(n))return e==null?void 0:e[n]}}var uF={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},qC=hn({name:"options",initialState:uF,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),dF=qC.reducer,{createEventEmitter:pF}=qC.actions;function fF(e){return e.tooltip.syncInteraction}var mF={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},KC=hn({name:"chartData",initialState:mF,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:zb,setDataStartEndIndexes:hF,setComputedData:dq}=KC.actions,gF=KC.reducer,xF=["x","y"];function Bb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ma(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bb(Object(n),!0).forEach(function(r){vF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vF(e,t,n){return(t=yF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yF(e){var t=bF(e,"string");return typeof t=="symbol"?t:t+""}function bF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wF(e,t){if(e==null)return{};var n,r,a=jF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function jF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var VC=()=>{};function NF(){var e=re(bx),t=re(wx),n=dt(),r=re(PS),a=re(Rr),i=Ud(),o=Hg(),l=re(c=>c.rootProps.className);h.useEffect(()=>{if(e==null)return VC;var c=(u,d,p)=>{if(t!==p&&e===u){if(r==="index"){var f;if(o&&d!==null&&d!==void 0&&(f=d.payload)!==null&&f!==void 0&&f.coordinate){var m=d.payload.coordinate,{x:g,y:x}=m,w=wF(m,xF),v=Ma(Ma(Ma({},w),typeof g=="number"&&{x:Math.max(o.x,Math.min(g,o.x+o.width))}),typeof x=="number"&&{y:Math.max(o.y,Math.min(x,o.y+o.height))}),y=Ma(Ma({},d),{},{payload:Ma(Ma({},d.payload),{},{coordinate:v})});n(y)}else n(d);return}if(a!=null){var b;if(typeof r=="function"){var j={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},S=r(a,j);b=a[S]}else r==="value"&&(b=a.find(I=>String(I.value)===d.payload.label));var{coordinate:k}=d.payload;if(b==null||d.payload.active===!1||k==null||o==null){n(Zm({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:C,y:E}=k,R=Math.min(C,o.x+o.width),M=Math.min(E,o.y+o.height),N={x:i==="horizontal"?b.coordinate:R,y:i==="horizontal"?M:b.coordinate},T=Zm({active:d.payload.active,coordinate:N,dataKey:d.payload.dataKey,index:String(b.index),label:d.payload.label});n(T)}}};return Jo.on(th,c),()=>{Jo.off(th,c)}},[l,n,t,e,r,a,i,o])}function kF(){var e=re(bx),t=re(wx),n=dt();h.useEffect(()=>{if(e==null)return VC;var r=(a,i,o)=>{t!==o&&e===a&&n(hF(i))};return Jo.on(Fb,r),()=>{Jo.off(Fb,r)}},[n,t,e])}function SF(){var e=dt();h.useEffect(()=>{e(pF())},[e]),NF(),kF()}function CF(e,t,n,r,a,i){var o=re(f=>XL(f,e,t)),l=re(wx),c=re(bx),u=re(PS),d=re(fF),p=d==null?void 0:d.active;h.useEffect(()=>{if(!p&&c!=null&&l!=null){var f=Zm({active:i,coordinate:n,dataKey:o,index:a,label:typeof r=="number"?String(r):r});Jo.emit(th,c,f,l)}},[p,n,o,a,r,l,c,u,i])}function Ub(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Wb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ub(Object(n),!0).forEach(function(r){PF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ub(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PF(e,t,n){return(t=AF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AF(e){var t=EF(e,"string");return typeof t=="symbol"?t:t+""}function EF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OF(e){return e.dataKey}function TF(e,t){return h.isValidElement(e)?h.cloneElement(e,t):typeof e=="function"?h.createElement(e,t):h.createElement(rD,t)}var qb=[],_F={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!yi.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function el(e){var t=Yt(e,_F),{active:n,allowEscapeViewBox:r,animationDuration:a,animationEasing:i,content:o,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:p,reverseDirection:f,useTranslate3d:m,wrapperStyle:g,cursor:x,shared:w,trigger:v,defaultIndex:y,portal:b,axisId:j}=t,S=dt(),k=typeof y=="number"?String(y):y;h.useEffect(()=>{S(tL({shared:w,trigger:v,axisId:j,active:n,defaultIndex:k}))},[S,w,v,j,n,k]);var C=Hg(),E=x2(),R=GR(w),{activeIndex:M,isActive:N}=re(H=>eF(H,R,v,k)),T=re(H=>JL(H,R,v,k)),I=re(H=>zC(H,R,v,k)),F=re(H=>ZL(H,R,v,k)),_=T,D=oF(),$=n??N,[z,U]=l_([_,$]),O=R==="axis"?I:void 0;CF(R,v,F,O,M,$);var W=b??D;if(W==null)return null;var A=_??qb;$||(A=qb),l&&A.length&&(A=I5(_.filter(H=>H.value!=null&&(H.hide!==!0||t.includeHidden)),d,OF));var K=A.length>0,V=h.createElement(uD,{allowEscapeViewBox:r,animationDuration:a,animationEasing:i,isAnimationActive:c,active:$,coordinate:F,hasPayload:K,offset:u,position:p,reverseDirection:f,useTranslate3d:m,viewBox:C,wrapperStyle:g,lastBoundingBox:z,innerRef:U,hasPortalFromProps:!!b},TF(o,Wb(Wb({},t),{},{payload:A,label:O,active:$,coordinate:F,accessibilityLayer:E})));return h.createElement(h.Fragment,null,sN.createPortal(V,W),$&&h.createElement(sF,{cursor:x,tooltipEventType:R,coordinate:F,payload:_,index:M}))}var HC={},QC={},YC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:a,edges:i}={}){let o,l=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{l!==null&&(n.apply(o,l),o=void 0,l=null)},p=()=>{u&&d(),x()};let f=null;const m=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,p()},r)},g=()=>{f!==null&&(clearTimeout(f),f=null)},x=()=>{g(),o=void 0,l=null},w=()=>{d()},v=function(...y){if(a!=null&&a.aborted)return;o=this,l=y;const b=f==null;m(),c&&b&&d()};return v.schedule=m,v.cancel=x,v.flush=w,a==null||a.addEventListener("abort",x,{once:!0}),v}e.debounce=t})(YC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YC;function n(r,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:c}=i,u=Array(2);o&&(u[0]="leading"),l&&(u[1]="trailing");let d,p=null;const f=t.debounce(function(...x){d=r.apply(this,x),p=null},a,{edges:u}),m=function(...x){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(d=r.apply(this,x),p=Date.now(),f.cancel(),f.schedule(),d):(f.apply(this,x),d)},g=()=>(f.flush(),d);return m.cancel=f.cancel,m.flush=g,m}e.debounce=n})(QC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QC;function n(r,a=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(r,a,{leading:o,maxWait:a,trailing:l})}e.throttle=n})(HC);var MF=HC.throttle;const DF=sr(MF);var yo=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i]};function Kb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kb(Object(n),!0).forEach(function(r){$F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $F(e,t,n){return(t=IF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IF(e){var t=RF(e,"string");return typeof t=="symbol"?t:t+""}function RF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wx=h.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a="100%",height:i="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:p,className:f,onResize:m,style:g={}}=e,x=h.useRef(null),w=h.useRef();w.current=m,h.useImperativeHandle(t,()=>x.current);var[v,y]=h.useState({containerWidth:r.width,containerHeight:r.height}),b=h.useCallback((S,k)=>{y(C=>{var E=Math.round(S),R=Math.round(k);return C.containerWidth===E&&C.containerHeight===R?C:{containerWidth:E,containerHeight:R}})},[]);h.useEffect(()=>{var S=R=>{var M,{width:N,height:T}=R[0].contentRect;b(N,T),(M=w.current)===null||M===void 0||M.call(w,N,T)};d>0&&(S=DF(S,d,{trailing:!0,leading:!1}));var k=new ResizeObserver(S),{width:C,height:E}=x.current.getBoundingClientRect();return b(C,E),k.observe(x.current),()=>{k.disconnect()}},[b,d]);var j=h.useMemo(()=>{var{containerWidth:S,containerHeight:k}=v;if(S<0||k<0)return null;yo(qa(a)||qa(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,i),yo(!n||n>0,"The aspect(%s) must be greater than zero.",n);var C=qa(a)?S:a,E=qa(i)?k:i;return n&&n>0&&(C?E=C/n:E&&(C=E*n),c&&E>c&&(E=c)),yo(C>0||E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,E,a,i,o,l,n),h.Children.map(u,R=>h.cloneElement(R,{width:C,height:E,style:cf({width:C,height:E},R.props.style)}))},[n,u,i,c,l,o,v,a]);return h.createElement("div",{id:p?"".concat(p):void 0,className:ve("recharts-responsive-container",f),style:cf(cf({},g),{},{width:a,height:i,minWidth:o,minHeight:l,maxHeight:c}),ref:x},h.createElement("div",{style:{width:0,height:0,overflow:"visible"}},j))}),GC=e=>null;GC.displayName="Cell";function LF(e,t,n){return(t=FF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FF(e){var t=zF(e,"string");return typeof t=="symbol"?t:t+""}function zF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class BF{constructor(t){LF(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function Vb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function UF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vb(Object(n),!0).forEach(function(r){WF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WF(e,t,n){return(t=qF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qF(e){var t=KF(e,"string");return typeof t=="symbol"?t:t+""}function KF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VF={cacheSize:2e3,enableCache:!0},XC=UF({},VF),Hb=new BF(XC.cacheSize),HF={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Qb="recharts_measurement_span";function QF(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(l)}var Yb=(e,t)=>{try{var n=document.getElementById(Qb);n||(n=document.createElement("span"),n.setAttribute("id",Qb),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,HF,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},bo=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||yi.isSsr)return{width:0,height:0};if(!XC.enableCache)return Yb(t,n);var r=QF(t,n),a=Hb.get(r);if(a)return a;var i=Yb(t,n);return Hb.set(r,i),i},Gb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Xb=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YF=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,GF=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ZC={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},XF=Object.keys(ZC),qi="NaN";function ZF(e,t){return e*ZC[t]}class Ft{static parse(t){var n,[,r,a]=(n=GF.exec(t))!==null&&n!==void 0?n:[];return new Ft(parseFloat(r),a??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,cn(t)&&(this.unit=""),n!==""&&!YF.test(n)&&(this.num=NaN,this.unit=""),XF.includes(n)&&(this.num=ZF(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Ft(NaN,""):new Ft(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ft(NaN,""):new Ft(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ft(NaN,""):new Ft(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ft(NaN,""):new Ft(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return cn(this.num)}}function JC(e){if(e.includes(qi))return qi;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,i]=(n=Gb.exec(t))!==null&&n!==void 0?n:[],o=Ft.parse(r??""),l=Ft.parse(i??""),c=a==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return qi;t=t.replace(Gb,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,p,f]=(u=Xb.exec(t))!==null&&u!==void 0?u:[],m=Ft.parse(d??""),g=Ft.parse(f??""),x=p==="+"?m.add(g):m.subtract(g);if(x.isNaN())return qi;t=t.replace(Xb,x.toString())}return t}var Zb=/\(([^()]*)\)/;function JF(e){for(var t=e,n;(n=Zb.exec(t))!=null;){var[,r]=n;t=t.replace(Zb,JC(r))}return t}function e8(e){var t=e.replace(/\s+/g,"");return t=JF(t),t=JC(t),t}function t8(e){try{return e8(e)}catch{return qi}}function uf(e){var t=t8(e.slice(5,-1));return t===qi?"":t}var n8=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],r8=["dx","dy","angle","className","breakAll"];function nh(){return nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nh.apply(null,arguments)}function Jb(e,t){if(e==null)return{};var n,r,a=a8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function a8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var eP=/[ \f\n\r\t\v\u2028\u2029]+/,tP=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];Oe(t)||(n?a=t.toString().split(""):a=t.toString().split(eP));var i=a.map(l=>({word:l,width:bo(l,r).width})),o=n?0:bo(" ",r).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},i8=(e,t,n,r,a)=>{var{maxLines:i,children:o,style:l,breakAll:c}=e,u=ae(i),d=o,p=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return N.reduce((T,I)=>{var{word:F,width:_}=I,D=T[T.length-1];if(D&&(r==null||a||D.width+_+n<Number(r)))D.words.push(F),D.width+=_+n;else{var $={words:[F],width:_};T.push($)}return T},[])},f=p(t),m=M=>M.reduce((N,T)=>N.width>T.width?N:T);if(!u||a)return f;var g=f.length>i||m(f).width>Number(r);if(!g)return f;for(var x="…",w=M=>{var N=d.slice(0,M),T=tP({breakAll:c,style:l,children:N+x}).wordsWithComputedWidth,I=p(T),F=I.length>i||m(I).width>Number(r);return[F,I]},v=0,y=d.length-1,b=0,j;v<=y&&b<=d.length-1;){var S=Math.floor((v+y)/2),k=S-1,[C,E]=w(k),[R]=w(S);if(!C&&!R&&(v=S+1),C&&R&&(y=S-1),!C&&R){j=E;break}b++}return j||f},ew=e=>{var t=Oe(e)?[]:e.toString().split(eP);return[{words:t}]},s8=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:i,maxLines:o}=e;if((t||n)&&!yi.isSsr){var l,c,u=tP({breakAll:i,children:r,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:p}=u;l=d,c=p}else return ew(r);return i8({breakAll:i,children:r,maxLines:o,style:a},l,c,t,n)}return ew(r)},tw="#808080",qx=h.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=tw}=e,d=Jb(e,n8),p=h.useMemo(()=>s8({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:o,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,o,d.style,d.width]),{dx:f,dy:m,angle:g,className:x,breakAll:w}=d,v=Jb(d,r8);if(!ar(n)||!ar(r)||p.length===0)return null;var y=n+(ae(f)?f:0),b=r+(ae(m)?m:0),j;switch(c){case"start":j=uf("calc(".concat(i,")"));break;case"middle":j=uf("calc(".concat((p.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:j=uf("calc(".concat(p.length-1," * -").concat(a,")"));break}var S=[];if(o){var k=p[0].width,{width:C}=d;S.push("scale(".concat(ae(C)?C/k:1,")"))}return g&&S.push("rotate(".concat(g,", ").concat(y,", ").concat(b,")")),S.length&&(v.transform=S.join(" ")),h.createElement("text",nh({},We(v,!0),{ref:t,x:y,y:b,className:ve("recharts-text",x),textAnchor:l,fill:u.includes("url")?tw:u}),p.map((E,R)=>{var M=E.words.join(w?"":" ");return h.createElement("tspan",{x:y,dy:R===0?j:a,key:"".concat(M,"-").concat(R)},M)}))});qx.displayName="Text";var o8=["labelRef"];function l8(e,t){if(e==null)return{};var n,r,a=c8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function c8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function nw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nw(Object(n),!0).forEach(function(r){u8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u8(e,t,n){return(t=d8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d8(e){var t=p8(e,"string");return typeof t=="symbol"?t:t+""}function p8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fr(){return fr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fr.apply(null,arguments)}var nP=h.createContext(null),f8=e=>{var{x:t,y:n,width:r,height:a,children:i}=e,o=h.useMemo(()=>({x:t,y:n,width:r,height:a}),[t,n,r,a]);return h.createElement(nP.Provider,{value:o},i)},rP=()=>{var e=h.useContext(nP),t=Hg();return e||t},m8=h.createContext(null),h8=()=>{var e=h.useContext(m8),t=re(_S);return e||t},g8=e=>{var{value:t,formatter:n}=e,r=Oe(e.children)?t:e.children;return typeof n=="function"?n(r):r},Kx=e=>e!=null&&typeof e=="function",x8=(e,t)=>{var n=Ut(t-e),r=Math.min(Math.abs(t-e),360);return n*r},v8=(e,t,n,r,a)=>{var{offset:i,className:o}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:p,endAngle:f,clockWise:m}=a,g=(u+d)/2,x=x8(p,f),w=x>=0?1:-1,v,y;switch(t){case"insideStart":v=p+w*i,y=m;break;case"insideEnd":v=f-w*i,y=!m;break;case"end":v=f+w*i,y=m;break;default:throw new Error("Unsupported position ".concat(t))}y=x<=0?y:!y;var b=yt(l,c,g,v),j=yt(l,c,g,v+(y?1:-1)*359),S="M".concat(b.x,",").concat(b.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(y?0:1,`,
    `).concat(j.x,",").concat(j.y),k=Oe(e.id)?Wo("recharts-radial-line-"):e.id;return h.createElement("text",fr({},r,{dominantBaseline:"central",className:ve("recharts-radial-bar-label",o)}),h.createElement("defs",null,h.createElement("path",{id:k,d:S})),h.createElement("textPath",{xlinkHref:"#".concat(k)},n))},y8=(e,t,n)=>{var{cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(n==="outside"){var{x:d,y:p}=yt(r,a,o+t,u);return{x:d,y:p,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var f=(i+o)/2,{x:m,y:g}=yt(r,a,f,u);return{x:m,y:g,textAnchor:"middle",verticalAnchor:"middle"}},aP=e=>"cx"in e&&ae(e.cx),b8=(e,t)=>{var{parentViewBox:n,offset:r,position:a}=e,i;n!=null&&!aP(n)&&(i=n);var{x:o,y:l,width:c,height:u}=t,d=u>=0?1:-1,p=d*r,f=d>0?"end":"start",m=d>0?"start":"end",g=c>=0?1:-1,x=g*r,w=g>0?"end":"start",v=g>0?"start":"end";if(a==="top"){var y={x:o+c/2,y:l-d*r,textAnchor:"middle",verticalAnchor:f};return Be(Be({},y),i?{height:Math.max(l-i.y,0),width:c}:{})}if(a==="bottom"){var b={x:o+c/2,y:l+u+p,textAnchor:"middle",verticalAnchor:m};return Be(Be({},b),i?{height:Math.max(i.y+i.height-(l+u),0),width:c}:{})}if(a==="left"){var j={x:o-x,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return Be(Be({},j),i?{width:Math.max(j.x-i.x,0),height:u}:{})}if(a==="right"){var S={x:o+c+x,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return Be(Be({},S),i?{width:Math.max(i.x+i.width-S.x,0),height:u}:{})}var k=i?{width:c,height:u}:{};return a==="insideLeft"?Be({x:o+x,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},k):a==="insideRight"?Be({x:o+c-x,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},k):a==="insideTop"?Be({x:o+c/2,y:l+p,textAnchor:"middle",verticalAnchor:m},k):a==="insideBottom"?Be({x:o+c/2,y:l+u-p,textAnchor:"middle",verticalAnchor:f},k):a==="insideTopLeft"?Be({x:o+x,y:l+p,textAnchor:v,verticalAnchor:m},k):a==="insideTopRight"?Be({x:o+c-x,y:l+p,textAnchor:w,verticalAnchor:m},k):a==="insideBottomLeft"?Be({x:o+x,y:l+u-p,textAnchor:v,verticalAnchor:f},k):a==="insideBottomRight"?Be({x:o+c-x,y:l+u-p,textAnchor:w,verticalAnchor:f},k):a&&typeof a=="object"&&(ae(a.x)||qa(a.x))&&(ae(a.y)||qa(a.y))?Be({x:o+Kn(a.x,c),y:l+Kn(a.y,u),textAnchor:"end",verticalAnchor:"end"},k):Be({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},k)},w8={offset:5};function Yr(e){var t=Yt(e,w8),{viewBox:n,position:r,value:a,children:i,content:o,className:l="",textBreakAll:c,labelRef:u}=t,d=h8(),p=rP(),f=r==="center"?p:d??p,m=n||f;if(!m||Oe(a)&&Oe(i)&&!h.isValidElement(o)&&typeof o!="function")return null;var g=Be(Be({},t),{},{viewBox:m});if(h.isValidElement(o)){var x=l8(g,o8);return h.cloneElement(o,x)}var w;if(typeof o=="function"){if(w=h.createElement(o,g),h.isValidElement(w))return w}else w=g8(t);var v=aP(m),y=We(t,!0);if(v&&(r==="insideStart"||r==="insideEnd"||r==="end"))return v8(t,r,w,y,m);var b=v?y8(m,t.offset,t.position):b8(t,m);return h.createElement(qx,fr({ref:u,className:ve("recharts-label",l)},y,b,{breakAll:c}),w)}Yr.displayName="Label";var j8=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?h.createElement(Yr,fr({key:"label-implicit"},r)):ar(e)?h.createElement(Yr,fr({key:"label-implicit",value:e},r)):h.isValidElement(e)?e.type===Yr?h.cloneElement(e,Be({key:"label-implicit"},r)):h.createElement(Yr,fr({key:"label-implicit",content:e},r)):Kx(e)?h.createElement(Yr,fr({key:"label-implicit",content:e},r)):e&&typeof e=="object"?h.createElement(Yr,fr({},e,{key:"label-implicit"},r)):null};function N8(e){var{label:t}=e,n=rP();return j8(t,n)||null}var iP={},sP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(sP);var oP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(oP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sP,n=oP,r=Ed;function a(i){if(r.isArrayLike(i))return t.last(n.toArray(i))}e.last=a})(iP);var k8=iP.last;const S8=sr(k8);var C8=["valueAccessor"],P8=["dataKey","clockWise","id","textBreakAll"];function Iu(){return Iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iu.apply(null,arguments)}function rw(e,t){if(e==null)return{};var n,r,a=A8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function A8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var E8=e=>Array.isArray(e.value)?S8(e.value):e.value,lP=h.createContext(void 0),cP=lP.Provider,uP=h.createContext(void 0);uP.Provider;function O8(){return h.useContext(lP)}function T8(){return h.useContext(uP)}function Ec(e){var{valueAccessor:t=E8}=e,n=rw(e,C8),{dataKey:r,clockWise:a,id:i,textBreakAll:o}=n,l=rw(n,P8),c=O8(),u=T8(),d=c||u;return!d||!d.length?null:h.createElement(Vn,{className:"recharts-label-list"},d.map((p,f)=>{var m,g=Oe(r)?t(p,f):ct(p&&p.payload,r),x=Oe(i)?{}:{id:"".concat(i,"-").concat(f)};return h.createElement(Yr,Iu({},We(p,!0),l,x,{fill:(m=n.fill)!==null&&m!==void 0?m:p.fill,parentViewBox:p.parentViewBox,value:g,textBreakAll:o,viewBox:p.viewBox,key:"label-".concat(f),index:f}))}))}Ec.displayName="LabelList";function dP(e){var{label:t}=e;return t?t===!0?h.createElement(Ec,{key:"labelList-implicit"}):h.isValidElement(t)||Kx(t)?h.createElement(Ec,{key:"labelList-implicit",content:t}):typeof t=="object"?h.createElement(Ec,Iu({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function rh(){return rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rh.apply(null,arguments)}var pP=e=>{var{cx:t,cy:n,r,className:a}=e,i=ve("recharts-dot",a);return t===+t&&n===+n&&r===+r?h.createElement("circle",rh({},Na(e),kg(e),{className:i,cx:t,cy:n,r})):null},_8={radiusAxis:{},angleAxis:{}},fP=hn({name:"polarAxis",initialState:_8,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}});fP.actions;var M8=fP.reducer,mP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var a;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&a.writable)?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(mP);var D8=mP.isPlainObject;const $8=sr(D8);function aw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function iw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aw(Object(n),!0).forEach(function(r){I8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I8(e,t,n){return(t=R8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R8(e){var t=L8(e,"string");return typeof t=="symbol"?t:t+""}function L8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ru(){return Ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ru.apply(null,arguments)}var sw=(e,t,n,r,a)=>{var i=n-r,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-i/2,",").concat(t+a),o+="L ".concat(e+n-i/2-r,",").concat(t+a),o+="L ".concat(e,",").concat(t," Z"),o},F8={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},z8=e=>{var t=Yt(e,F8),{x:n,y:r,upperWidth:a,lowerWidth:i,height:o,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:p}=t,f=h.useRef(),[m,g]=h.useState(-1),x=h.useRef(a),w=h.useRef(i),v=h.useRef(o),y=h.useRef(n),b=h.useRef(r),j=qd(e,"trapezoid-");if(h.useEffect(()=>{if(f.current&&f.current.getTotalLength)try{var F=f.current.getTotalLength();F&&g(F)}catch{}},[]),n!==+n||r!==+r||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var S=ve("recharts-trapezoid",l);if(!p)return h.createElement("g",null,h.createElement("path",Ru({},We(t,!0),{className:S,d:sw(n,r,a,i,o)})));var k=x.current,C=w.current,E=v.current,R=y.current,M=b.current,N="0px ".concat(m===-1?1:m,"px"),T="".concat(m,"px 0px"),I=y2(["strokeDasharray"],u,c);return h.createElement(Wd,{animationId:j,key:j,canBegin:m>0,duration:u,easing:c,isActive:p,begin:d},F=>{var _=Ve(k,a,F),D=Ve(C,i,F),$=Ve(E,o,F),z=Ve(R,n,F),U=Ve(M,r,F);f.current&&(x.current=_,w.current=D,v.current=$,y.current=z,b.current=U);var O=F>0?{transition:I,strokeDasharray:T}:{strokeDasharray:N};return h.createElement("path",Ru({},We(t,!0),{className:S,d:sw(z,U,_,D,$),ref:f,style:iw(iw({},O),t.style)}))})},B8=["option","shapeType","propTransformer","activeClassName","isActive"];function U8(e,t){if(e==null)return{};var n,r,a=W8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function W8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ow(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Lu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ow(Object(n),!0).forEach(function(r){q8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ow(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q8(e,t,n){return(t=K8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K8(e){var t=V8(e,"string");return typeof t=="symbol"?t:t+""}function V8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H8(e,t){return Lu(Lu({},t),e)}function Q8(e,t){return e==="symbols"}function lw(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return h.createElement(N2,n);case"trapezoid":return h.createElement(z8,n);case"sector":return h.createElement(C2,n);case"symbols":if(Q8(t))return h.createElement(fk,n);break;default:return null}}function Y8(e){return h.isValidElement(e)?e.props:e}function G8(e){var{option:t,shapeType:n,propTransformer:r=H8,activeClassName:a="recharts-active-shape",isActive:i}=e,o=U8(e,B8),l;if(h.isValidElement(t))l=h.cloneElement(t,Lu(Lu({},o),Y8(t)));else if(typeof t=="function")l=t(o);else if($8(t)&&typeof t!="boolean"){var c=r(t,o);l=h.createElement(lw,{shapeType:n,elementProps:c})}else{var u=o;l=h.createElement(lw,{shapeType:n,elementProps:u})}return i?h.createElement(Vn,{className:a},l):l}var hP=(e,t)=>{var n=dt();return(r,a)=>i=>{e==null||e(r,a,i),n(jC({activeIndex:String(a),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},gP=e=>{var t=dt();return(n,r)=>a=>{e==null||e(n,r,a),t(nL())}},xP=(e,t)=>{var n=dt();return(r,a)=>i=>{e==null||e(r,a,i),n(rL({activeIndex:String(a),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function vP(e){var{fn:t,args:n}=e,r=dt(),a=Qt();return h.useEffect(()=>{if(!a){var i=t(n);return r(JR(i)),()=>{r(eL(i))}}},[t,n,r,a]),null}var X8=()=>{};function yP(e){var{legendPayload:t}=e,n=dt(),r=Qt();return h.useEffect(()=>r?X8:(n(GM(t)),()=>{n(XM(t))}),[n,r,t]),null}var df,Z8=()=>{var[e]=h.useState(()=>Wo("uid-"));return e},J8=(df=r1["useId".toString()])!==null&&df!==void 0?df:Z8;function e9(e,t){var n=J8();return t||(e?"".concat(e,"-").concat(n):n)}var t9=h.createContext(void 0),bP=e=>{var{id:t,type:n,children:r}=e,a=e9("recharts-".concat(n),t);return h.createElement(t9.Provider,{value:a},r(a))},n9={cartesianItems:[],polarItems:[]},wP=hn({name:"graphicalItems",initialState:n9,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,a=wr(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},removeCartesianGraphicalItem(e,t){var n=wr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=wr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:r9,replaceCartesianGraphicalItem:a9,removeCartesianGraphicalItem:i9,addPolarGraphicalItem:pq,removePolarGraphicalItem:fq}=wP.actions,s9=wP.reducer;function jP(e){var t=dt(),n=h.useRef(null);return h.useEffect(()=>{n.current===null?t(r9(e)):n.current!==e&&t(a9({prev:n.current,next:e})),n.current=e},[t,e]),h.useEffect(()=>()=>{n.current&&(t(i9(n.current)),n.current=null)},[t]),null}function cw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function uw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cw(Object(n),!0).forEach(function(r){o9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function o9(e,t,n){return(t=l9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l9(e){var t=c9(e,"string");return typeof t=="symbol"?t:t+""}function c9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u9={xAxis:{},yAxis:{},zAxis:{}},NP=hn({name:"cartesianAxis",initialState:u9,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=uw(uw({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:d9,removeXAxis:p9,addYAxis:f9,removeYAxis:m9,addZAxis:mq,removeZAxis:hq,updateYAxisWidth:h9}=NP.actions,g9=NP.reducer,x9=B([pt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),v9=B([x9,_r,Mr],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),Vx=()=>re(v9),y9=()=>re(WL);function dw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function pw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dw(Object(n),!0).forEach(function(r){b9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function b9(e,t,n){return(t=w9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w9(e){var t=j9(e,"string");return typeof t=="symbol"?t:t+""}function j9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N9=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var o=pw(pw({index:n,dataKey:i,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},We(a,!1)),kg(a)),l;return h.isValidElement(a)?l=h.cloneElement(a,o):typeof a=="function"?l=a(o):l=h.createElement(pP,o),h.createElement(Vn,{className:"recharts-active-dot"},l)};function k9(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:a}=e,i=re(ui),o=y9();if(t==null||o==null)return null;var l=t.find(c=>o.includes(c.payload));return Oe(l)?null:N9({point:l,childIndex:Number(i),mainColor:n,dataKey:a,activeDot:r})}var S9=!0,pf="Invariant failed";function C9(e,t){if(!e){if(S9)throw new Error(pf);var n=typeof t=="function"?t():t,r=n?"".concat(pf,": ").concat(n):pf;throw new Error(r)}}var P9=["x","y"];function ah(){return ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ah.apply(null,arguments)}function fw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Xs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fw(Object(n),!0).forEach(function(r){A9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A9(e,t,n){return(t=E9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E9(e){var t=O9(e,"string");return typeof t=="symbol"?t:t+""}function O9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T9(e,t){if(e==null)return{};var n,r,a=_9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function M9(e,t){var{x:n,y:r}=e,a=T9(e,P9),i="".concat(n),o=parseInt(i,10),l="".concat(r),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),p="".concat(t.width||a.width),f=parseInt(p,10);return Xs(Xs(Xs(Xs(Xs({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:f,name:t.name,radius:t.radius})}function Hx(e){return h.createElement(G8,ah({shapeType:"rectangle",propTransformer:M9,activeClassName:"recharts-active-bar"},e))}var D9=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if(ae(t))return t;var i=ae(r)||Oe(r);return i?t(r,a):(i||C9(!1),n)}},$9={},kP=hn({name:"errorBars",initialState:$9,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:a}=t.payload;e[n]&&(e[n]=e[n].map(i=>i.dataKey===r.dataKey&&i.direction===r.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}});kP.actions;var I9=kP.reducer,R9=["children"];function L9(e,t){if(e==null)return{};var n,r,a=F9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function F9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var z9={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},B9=h.createContext(z9);function SP(e){var{children:t}=e,n=L9(e,R9);return h.createElement(B9.Provider,{value:n},t)}function Qx(e,t){var n,r,a=re(u=>$r(u,e)),i=re(u=>Ir(u,t)),o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Xt.allowDataOverflow,l=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Zt.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function CP(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,a=Vx(),{needClipX:i,needClipY:o,needClip:l}=Qx(t,n);if(!l)return null;var{x:c,y:u,width:d,height:p}=a;return h.createElement("clipPath",{id:"clipPath-".concat(r)},h.createElement("rect",{x:i?c:c-d/2,y:o?u:u-p/2,width:i?d:d*2,height:o?p:p*2}))}var U9=["onMouseEnter","onMouseLeave","onClick"],W9=["value","background","tooltipPosition"],q9=["id"],K9=["onMouseEnter","onClick","onMouseLeave"];function ga(){return ga=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ga.apply(null,arguments)}function mw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mw(Object(n),!0).forEach(function(r){V9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V9(e,t,n){return(t=H9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H9(e){var t=Q9(e,"string");return typeof t=="symbol"?t:t+""}function Q9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fu(e,t){if(e==null)return{};var n,r,a=Y9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Y9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var G9=e=>{var{dataKey:t,name:n,fill:r,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:r,value:Rd(n,t),payload:e}]};function X9(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:a,name:i,hide:o,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:t,nameKey:void 0,name:Rd(i,t),hide:o,type:e.tooltipType,color:e.fill,unit:l}}}function Z9(e){var t=re(ui),{data:n,dataKey:r,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=i,u=Fu(i,U9),d=hP(o,r),p=gP(l),f=xP(c,r);if(!a||n==null)return null;var m=We(a,!1);return h.createElement(h.Fragment,null,n.map((g,x)=>{var{value:w,background:v,tooltipPosition:y}=g,b=Fu(g,W9);if(!v)return null;var j=d(g,x),S=p(g,x),k=f(g,x),C=Dt(Dt(Dt(Dt(Dt({option:a,isActive:String(x)===t},b),{},{fill:"#eee"},v),m),Sg(u,g,x)),{},{onMouseEnter:j,onMouseLeave:S,onClick:k,dataKey:r,index:x,className:"recharts-bar-background-rectangle"});return h.createElement(Hx,ga({key:"background-bar-".concat(C.index)},C))}))}function J9(e){var{showLabels:t,children:n,rects:r}=e,a=r==null?void 0:r.map(i=>{var o={x:i.x,y:i.y,width:i.width,height:i.height};return Dt(Dt({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return h.createElement(cP,{value:t?a:void 0},n)}function ez(e){var{shape:t,activeBar:n,baseProps:r,entry:a,index:i,dataKey:o}=e,l=re(ui),c=re($C),u=n&&String(i)===l&&(c==null||o===c),d=u?n:t;return h.createElement(Hx,ga({},r,a,{isActive:u,option:d,index:i,dataKey:o}))}function tz(e){var{shape:t,baseProps:n,entry:r,index:a,dataKey:i}=e;return h.createElement(Hx,ga({},n,r,{isActive:!1,option:t,index:a,dataKey:i}))}function nz(e){var{data:t,props:n}=e,r=Na(n),a=Fu(r,q9),{shape:i,dataKey:o,activeBar:l}=n,{onMouseEnter:c,onClick:u,onMouseLeave:d}=n,p=Fu(n,K9),f=hP(c,o),m=gP(d),g=xP(u,o);return t?h.createElement(h.Fragment,null,t.map((x,w)=>h.createElement(Vn,ga({className:"recharts-bar-rectangle"},Sg(p,x,w),{onMouseEnter:f(x,w),onMouseLeave:m(x,w),onClick:g(x,w),key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(w)}),l?h.createElement(ez,{shape:i,activeBar:l,baseProps:a,entry:x,index:w,dataKey:o}):h.createElement(tz,{shape:i,baseProps:a,entry:x,index:w,dataKey:o})))):null}function rz(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,p=n.current,f=qd(t,"recharts-bar-"),[m,g]=h.useState(!1),x=!m,w=h.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),v=h.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return h.createElement(J9,{showLabels:x,rects:r},h.createElement(Wd,{animationId:f,begin:o,duration:l,isActive:i,easing:c,onAnimationEnd:w,onAnimationStart:v,key:f},y=>{var b=y===1?r:r==null?void 0:r.map((j,S)=>{var k=p&&p[S];if(k)return Dt(Dt({},j),{},{x:Ve(k.x,j.x,y),y:Ve(k.y,j.y,y),width:Ve(k.width,j.width,y),height:Ve(k.height,j.height,y)});if(a==="horizontal"){var C=Ve(0,j.height,y);return Dt(Dt({},j),{},{y:j.y+j.height-C,height:C})}var E=Ve(0,j.width,y);return Dt(Dt({},j),{},{width:E})});return y>0&&(n.current=b??null),b==null?null:h.createElement(Vn,null,h.createElement(nz,{props:t,data:b}))}),h.createElement(dP,{label:t.label}),t.children)}function az(e){var t=h.useRef(null);return h.createElement(rz,{previousRectanglesRef:t,props:e})}var PP=0,iz=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:ct(e,t)}};class sz extends h.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:a,xAxisId:i,yAxisId:o,needClip:l,background:c,id:u}=this.props;if(t||n==null)return null;var d=ve("recharts-bar",a),p=u;return h.createElement(Vn,{className:d,id:u},l&&h.createElement("defs",null,h.createElement(CP,{clipPathId:p,xAxisId:i,yAxisId:o})),h.createElement(Vn,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(p,")"):void 0},h.createElement(Z9,{data:n,dataKey:r,background:c,allOtherBarProps:this.props}),h.createElement(az,this.props)))}}var oz={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!yi.isSsr,legendType:"rect",minPointSize:PP,xAxisId:0,yAxisId:0};function lz(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:p}=Qx(t,n),f=Ud(),m=Qt(),g=IT(e.children,GC),x=re(y=>Iz(y,t,n,m,e.id,g));if(f!=="vertical"&&f!=="horizontal")return null;var w,v=x==null?void 0:x[0];return v==null||v.height==null||v.width==null?w=0:w=f==="vertical"?v.height/2:v.width/2,h.createElement(SP,{xAxisId:t,yAxisId:n,data:x,dataPointFormatter:iz,errorBarOffset:w},h.createElement(sz,ga({},e,{layout:f,needClip:p,data:x,xAxisId:t,yAxisId:n,hide:r,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function cz(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:p,offset:f,cells:m,parentViewBox:g}=e,x=t==="horizontal"?l:o,w=d?x.scale.domain():null,v=AM({numericAxis:x});return p.map((y,b)=>{var j,S,k,C,E,R;d?j=jM(d[b],w):(j=ct(y,n),Array.isArray(j)||(j=[v,j]));var M=D9(r,PP)(j[1],b);if(t==="horizontal"){var N,[T,I]=[l.scale(j[0]),l.scale(j[1])];S=b0({axis:o,ticks:c,bandSize:i,offset:a.offset,entry:y,index:b}),k=(N=I??T)!==null&&N!==void 0?N:void 0,C=a.size;var F=T-I;if(E=cn(F)?0:F,R={x:S,y:f.top,width:C,height:f.height},Math.abs(M)>0&&Math.abs(E)<Math.abs(M)){var _=Ut(E||M)*(Math.abs(M)-Math.abs(E));k-=_,E+=_}}else{var[D,$]=[o.scale(j[0]),o.scale(j[1])];if(S=D,k=b0({axis:l,ticks:u,bandSize:i,offset:a.offset,entry:y,index:b}),C=$-D,E=a.size,R={x:f.left,y:k,width:f.width,height:E},Math.abs(M)>0&&Math.abs(C)<Math.abs(M)){var z=Ut(C||M)*(Math.abs(M)-Math.abs(C));C+=z}}if(S==null||k==null||C==null||E==null)return null;var U=Dt(Dt({},y),{},{x:S,y:k,width:C,height:E,value:d?j:j[1],payload:y,background:R,tooltipPosition:{x:S+C/2,y:k+E/2},parentViewBox:g},m&&m[b]&&m[b].props);return U}).filter(Boolean)}function uz(e){var t=Yt(e,oz),n=Qt();return h.createElement(bP,{id:t.id,type:"bar"},r=>h.createElement(h.Fragment,null,h.createElement(yP,{legendPayload:G9(t)}),h.createElement(vP,{fn:X9,args:t}),h.createElement(jP,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:PM(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),h.createElement(lz,ga({},t,{id:r}))))}var up=h.memo(uz);up.displayName="Bar";function hw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function sc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hw(Object(n),!0).forEach(function(r){dz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dz(e,t,n){return(t=pz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pz(e){var t=fz(e,"string");return typeof t=="symbol"?t:t+""}function fz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mz=(e,t)=>t,hz=(e,t,n)=>n,gz=(e,t,n,r)=>r,xz=(e,t,n,r,a)=>a,Nl=B([ap,xz],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),vz=B([Nl],e=>e==null?void 0:e.maxBarSize),yz=(e,t,n,r,a,i)=>i,gw=(e,t,n)=>{var r=n??e;if(!Oe(r))return Kn(r,t,0)},bz=B([fe,ap,mz,hz,gz],(e,t,n,r,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===n:i.yAxisId===r).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),wz=(e,t,n,r)=>{var a=fe(e);return a==="horizontal"?Xm(e,"yAxis",n,r):Xm(e,"xAxis",t,r)},jz=(e,t,n)=>{var r=fe(e);return r==="horizontal"?Tb(e,"xAxis",t):Tb(e,"yAxis",n)},Nz=(e,t,n)=>{var r={},a=e.filter(rp),i=e.filter(u=>u.stackId==null),o=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),r),l=Object.entries(o).map(u=>{var[d,p]=u,f=p.map(g=>g.dataKey),m=gw(t,n,p[0].barSize);return{stackId:d,dataKeys:f,barSize:m}}),c=i.map(u=>{var d=[u.dataKey].filter(f=>f!=null),p=gw(t,n,u.barSize);return{stackId:void 0,dataKeys:d,barSize:p}});return[...l,...c]},kz=B([bz,XI,jz],Nz),Sz=(e,t,n,r,a)=>{var i,o,l=Nl(e,t,n,r,a);if(l!=null){var c=fe(e),u=SS(e),{maxBarSize:d}=l,p=Oe(d)?u:d,f,m;return c==="horizontal"?(f=ha(e,"xAxis",t,r),m=ma(e,"xAxis",t,r)):(f=ha(e,"yAxis",n,r),m=ma(e,"yAxis",n,r)),(i=(o=Vo(f,m,!0))!==null&&o!==void 0?o:p)!==null&&i!==void 0?i:0}},AP=(e,t,n,r)=>{var a=fe(e),i,o;return a==="horizontal"?(i=ha(e,"xAxis",t,r),o=ma(e,"xAxis",t,r)):(i=ha(e,"yAxis",n,r),o=ma(e,"yAxis",n,r)),Vo(i,o)};function Cz(e,t,n,r,a){var i=r.length;if(!(i<1)){var o=Kn(e,n,0,!0),l,c=[];if(dn(r[0].barSize)){var u=!1,d=n/i,p=r.reduce((v,y)=>v+(y.barSize||0),0);p+=(i-1)*o,p>=n&&(p-=(i-1)*o,o=0),p>=n&&d>0&&(u=!0,d*=.9,p=i*d);var f=(n-p)/2>>0,m={offset:f-o,size:0};l=r.reduce((v,y)=>{var b,j={stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:m.offset+m.size+o,size:u?d:(b=y.barSize)!==null&&b!==void 0?b:0}},S=[...v,j];return m=S[S.length-1].position,S},c)}else{var g=Kn(t,n,0,!0);n-2*g-(i-1)*o<=0&&(o=0);var x=(n-2*g-(i-1)*o)/i;x>1&&(x>>=0);var w=dn(a)?Math.min(x,a):x;l=r.reduce((v,y,b)=>[...v,{stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:g+(x+o)*b+(x-w)/2,size:w}}],c)}return l}}var Pz=(e,t,n,r,a,i,o)=>{var l=Oe(o)?t:o,c=Cz(n,r,a!==i?a:i,e,l);return a!==i&&c!=null&&(c=c.map(u=>sc(sc({},u),{},{position:sc(sc({},u.position),{},{offset:u.position.offset-a/2})}))),c},Az=B([kz,SS,GI,CS,Sz,AP,vz],Pz),Ez=(e,t,n,r)=>ha(e,"xAxis",t,r),Oz=(e,t,n,r)=>ha(e,"yAxis",n,r),Tz=(e,t,n,r)=>ma(e,"xAxis",t,r),_z=(e,t,n,r)=>ma(e,"yAxis",n,r),Mz=B([Az,Nl],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),Dz=(e,t)=>{var n=Sx(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var a=e[r];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===n)}}}},$z=B([wz,Nl],Dz),Iz=B([pt,Vg,Ez,Oz,Tz,_z,Mz,fe,Xd,AP,$z,Nl,yz],(e,t,n,r,a,i,o,l,c,u,d,p,f)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:x}=c;if(!(p==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||n==null||r==null||a==null||i==null||u==null)){var{data:w}=p,v;if(w!=null&&w.length>0?v=w:v=m==null?void 0:m.slice(g,x+1),v!=null)return cz({layout:l,barSettings:p,pos:o,parentViewBox:t,bandSize:u,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:i,stackedData:d,displayedData:v,offset:e,cells:f})}}),Rz=e=>{var{chartData:t}=e,n=dt(),r=Qt();return h.useEffect(()=>r?()=>{}:(n(zb(t)),()=>{n(zb(void 0))}),[t,n,r]),null},xw={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},EP=hn({name:"brush",initialState:xw,reducers:{setBrushSettings(e,t){return t.payload==null?xw:t.payload}}});EP.actions;var Lz=EP.reducer;function Fz(e,t,n){return(t=zz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zz(e){var t=Bz(e,"string");return typeof t=="symbol"?t:t+""}function Bz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Yx{static create(t){return new Yx(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?t>=r&&t<=a:t>=a&&t<=r}}Fz(Yx,"EPS",1e-4);function Uz(e){return(e%180+180)%180}var Wz=function(t){var{width:n,height:r}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Uz(a),o=i*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},qz={dots:[],areas:[],lines:[]},OP=hn({name:"referenceElements",initialState:qz,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=wr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=wr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=wr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}});OP.actions;var Kz=OP.reducer,Vz=h.createContext(void 0),Hz=e=>{var{children:t}=e,[n]=h.useState("".concat(Wo("recharts"),"-clip")),r=Vx();if(r==null)return null;var{x:a,y:i,width:o,height:l}=r;return h.createElement(Vz.Provider,{value:n},h.createElement("defs",null,h.createElement("clipPath",{id:n},h.createElement("rect",{x:a,y:i,height:l,width:o}))),t)};function ms(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function TP(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],a=0;a<e.length;a+=t)if(n===void 0||n(e[a])===!0)r.push(e[a]);else return;return r}function Qz(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Wz(r,n)}function Yz(e,t,n){var r=n==="width",{x:a,y:i,width:o,height:l}=e;return t===1?{start:r?a:i,end:r?a+o:i+l}:{start:r?a+o:i+l,end:r?a:i}}function zu(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function Gz(e,t){return TP(e,t+1)}function Xz(e,t,n,r,a){for(var i=(r||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,p=function(){var g=r==null?void 0:r[c];if(g===void 0)return{v:TP(r,u)};var x=c,w,v=()=>(w===void 0&&(w=n(g,x)),w),y=g.coordinate,b=c===0||zu(e,y,v,d,l);b||(c=0,d=o,u+=1),b&&(d=y+e*(v()/2+a),c+=u)},f;u<=i.length;)if(f=p(),f)return f.v;return[]}function vw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vw(Object(n),!0).forEach(function(r){Zz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zz(e,t,n){return(t=Jz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jz(e){var t=e7(e,"string");return typeof t=="symbol"?t:t+""}function e7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t7(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,{start:l}=t,{end:c}=t,u=function(f){var m=i[f],g,x=()=>(g===void 0&&(g=n(m,f)),g);if(f===o-1){var w=e*(m.coordinate+e*x()/2-c);i[f]=m=St(St({},m),{},{tickCoord:w>0?m.coordinate-w*e:m.coordinate})}else i[f]=m=St(St({},m),{},{tickCoord:m.coordinate});var v=zu(e,m.tickCoord,x,l,c);v&&(c=m.tickCoord-e*(x()/2+a),i[f]=St(St({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function n7(e,t,n,r,a,i){var o=(r||[]).slice(),l=o.length,{start:c,end:u}=t;if(i){var d=r[l-1],p=n(d,l-1),f=e*(d.coordinate+e*p/2-u);o[l-1]=d=St(St({},d),{},{tickCoord:f>0?d.coordinate-f*e:d.coordinate});var m=zu(e,d.tickCoord,()=>p,c,u);m&&(u=d.tickCoord-e*(p/2+a),o[l-1]=St(St({},d),{},{isShow:!0}))}for(var g=i?l-1:l,x=function(y){var b=o[y],j,S=()=>(j===void 0&&(j=n(b,y)),j);if(y===0){var k=e*(b.coordinate-e*S()/2-c);o[y]=b=St(St({},b),{},{tickCoord:k<0?b.coordinate-k*e:b.coordinate})}else o[y]=b=St(St({},b),{},{tickCoord:b.coordinate});var C=zu(e,b.tickCoord,S,c,u);C&&(c=b.tickCoord+e*(S()/2+a),o[y]=St(St({},b),{},{isShow:!0}))},w=0;w<g;w++)x(w);return o}function Gx(e,t,n){var{tick:r,ticks:a,viewBox:i,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:p}=e;if(!a||!a.length||!r)return[];if(ae(c)||yi.isSsr){var f;return(f=Gz(a,ae(c)?c:0))!==null&&f!==void 0?f:[]}var m=[],g=l==="top"||l==="bottom"?"width":"height",x=d&&g==="width"?bo(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},w=(b,j)=>{var S=typeof u=="function"?u(b.value,j):b.value;return g==="width"?Qz(bo(S,{fontSize:t,letterSpacing:n}),x,p):bo(S,{fontSize:t,letterSpacing:n})[g]},v=a.length>=2?Ut(a[1].coordinate-a[0].coordinate):1,y=Yz(i,v,g);return c==="equidistantPreserveStart"?Xz(v,y,w,a,o):(c==="preserveStart"||c==="preserveStartEnd"?m=n7(v,y,w,a,o,c==="preserveStartEnd"):m=t7(v,y,w,a,o),m.filter(b=>b.isShow))}var r7=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(d=>{if(d){var p=d.getBoundingClientRect();p.width>o&&(o=p.width)}});var l=n?n.getBoundingClientRect().width:0,c=a+i,u=o+c+l+(n?r:0);return Math.round(u)}return 0},a7=["axisLine","width","height","className","hide","ticks"],i7=["viewBox"],s7=["viewBox"];function ih(e,t){if(e==null)return{};var n,r,a=o7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function o7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function di(){return di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},di.apply(null,arguments)}function yw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yw(Object(n),!0).forEach(function(r){l7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function l7(e,t,n){return(t=c7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c7(e){var t=u7(e,"string");return typeof t=="symbol"?t:t+""}function u7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xx={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function d7(e){var{x:t,y:n,width:r,height:a,orientation:i,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=Ze(Ze(Ze({},c),We(l,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);u=Ze(Ze({},u),{},{x1:t,y1:n+d*a,x2:t+r,y2:n+d*a})}else{var p=+(i==="left"&&!o||i==="right"&&o);u=Ze(Ze({},u),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+a})}return h.createElement("line",di({},u,{className:ve("recharts-cartesian-axis-line",os(l,"className"))}))}function p7(e,t,n,r,a,i,o,l,c){var u,d,p,f,m,g,x=l?-1:1,w=e.tickSize||o,v=ae(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,f=n+ +!l*a,p=f-x*w,g=p-x*c,m=v;break;case"left":p=f=e.coordinate,d=t+ +!l*r,u=d-x*w,m=u-x*c,g=v;break;case"right":p=f=e.coordinate,d=t+ +l*r,u=d+x*w,m=u+x*c,g=v;break;default:u=d=e.coordinate,f=n+ +l*a,p=f+x*w,g=p+x*c,m=v;break}return{line:{x1:u,y1:p,x2:d,y2:f},tick:{x:m,y:g}}}function f7(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function m7(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function h7(e){var{option:t,tickProps:n,value:r}=e,a,i=ve(n.className,"recharts-cartesian-axis-tick-value");if(h.isValidElement(t))a=h.cloneElement(t,Ze(Ze({},n),{},{className:i}));else if(typeof t=="function")a=t(Ze(Ze({},n),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=ve(o,t==null?void 0:t.className)),a=h.createElement(qx,di({},n,{className:o}),r)}return a}function g7(e){var{ticks:t=[],tick:n,tickLine:r,stroke:a,tickFormatter:i,unit:o,padding:l,tickTextProps:c,orientation:u,mirror:d,x:p,y:f,width:m,height:g,tickSize:x,tickMargin:w,fontSize:v,letterSpacing:y,getTicksConfig:b,events:j}=e,S=Gx(Ze(Ze({},b),{},{ticks:t}),v,y),k=f7(u,d),C=m7(u,d),E=Na(b),R=We(n,!1),M=Ze(Ze({},E),{},{fill:"none"},We(r,!1)),N=S.map((T,I)=>{var{line:F,tick:_}=p7(T,p,f,m,g,u,x,d,w),D=Ze(Ze(Ze(Ze({textAnchor:k,verticalAnchor:C},E),{},{stroke:"none",fill:a},R),_),{},{index:I,payload:T,visibleTicksCount:S.length,tickFormatter:i,padding:l},c);return h.createElement(Vn,di({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},Sg(j,T,I)),r&&h.createElement("line",di({},M,F,{className:ve("recharts-cartesian-axis-tick-line",os(r,"className"))})),n&&h.createElement(h7,{option:n,tickProps:D,value:"".concat(typeof i=="function"?i(T.value,I):T.value).concat(o||"")}))});return N.length>0?h.createElement("g",{className:"recharts-cartesian-axis-ticks"},N):null}var x7=h.forwardRef((e,t)=>{var{axisLine:n,width:r,height:a,className:i,hide:o,ticks:l}=e,c=ih(e,a7),[u,d]=h.useState(""),[p,f]=h.useState(""),m=h.useRef([]);h.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return r7({ticks:m.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=h.useCallback(x=>{if(x){var w=x.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=Array.from(w);var v=w[0];if(v){var y=window.getComputedStyle(v),b=y.fontSize,j=y.letterSpacing;(b!==u||j!==p)&&(d(b),f(j))}}},[u,p]);return o||r!=null&&r<=0||a!=null&&a<=0?null:h.createElement(Vn,{className:ve("recharts-cartesian-axis",i),ref:g},h.createElement(d7,{x:e.x,y:e.y,width:r,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Na(e)}),h.createElement(g7,{ticks:l,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:p,getTicksConfig:e,events:c}),h.createElement(f8,{x:e.x,y:e.y,width:e.width,height:e.height},h.createElement(N8,{label:e.label}),e.children))}),v7=h.memo(x7,(e,t)=>{var{viewBox:n}=e,r=ih(e,i7),{viewBox:a}=t,i=ih(t,s7);return ms(n,a)&&ms(r,i)}),Zx=h.forwardRef((e,t)=>{var n=Yt(e,Xx);return h.createElement(v7,di({},n,{ref:t}))});Zx.displayName="CartesianAxis";var y7=["x1","y1","x2","y2","key"],b7=["offset"],w7=["xAxisId","yAxisId"],j7=["xAxisId","yAxisId"];function bw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bw(Object(n),!0).forEach(function(r){N7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N7(e,t,n){return(t=k7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k7(e){var t=S7(e,"string");return typeof t=="symbol"?t:t+""}function S7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ha(){return Ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ha.apply(null,arguments)}function Bu(e,t){if(e==null)return{};var n,r,a=C7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function C7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var P7=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:a,width:i,height:o,ry:l}=e;return h.createElement("rect",{x:r,y:a,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function _P(e,t){var n;if(h.isValidElement(e))n=h.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:a,x2:i,y2:o,key:l}=t,c=Bu(t,y7),u=Na(c),d=Bu(u,b7);n=h.createElement("line",Ha({},d,{x1:r,y1:a,x2:i,y2:o,fill:"none",key:l}))}return n}function A7(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:a}=e;if(!r||!a||!a.length)return null;var i=Bu(e,w7),o=a.map((l,c)=>{var u=At(At({},i),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return _P(r,u)});return h.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function E7(e){var{y:t,height:n,vertical:r=!0,verticalPoints:a}=e;if(!r||!a||!a.length)return null;var i=Bu(e,j7),o=a.map((l,c)=>{var u=At(At({},i),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return _P(r,u)});return h.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function O7(e){var{horizontalFill:t,fillOpacity:n,x:r,y:a,width:i,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=l.map(p=>Math.round(p+a-a)).sort((p,f)=>p-f);a!==u[0]&&u.unshift(0);var d=u.map((p,f)=>{var m=!u[f+1],g=m?a+o-p:u[f+1]-p;if(g<=0)return null;var x=f%t.length;return h.createElement("rect",{key:"react-".concat(f),y:p,x:r,height:g,width:i,stroke:"none",fill:t[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return h.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function T7(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:a,y:i,width:o,height:l,verticalPoints:c}=e;if(!t||!n||!n.length)return null;var u=c.map(p=>Math.round(p+a-a)).sort((p,f)=>p-f);a!==u[0]&&u.unshift(0);var d=u.map((p,f)=>{var m=!u[f+1],g=m?a+o-p:u[f+1]-p;if(g<=0)return null;var x=f%n.length;return h.createElement("rect",{key:"react-".concat(f),x:p,y:i,width:g,height:l,stroke:"none",fill:n[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return h.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var _7=(e,t)=>{var{xAxis:n,width:r,height:a,offset:i}=e;return u2(Gx(At(At(At({},Xx),n),{},{ticks:d2(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),i.left,i.left+i.width,t)},M7=(e,t)=>{var{yAxis:n,width:r,height:a,offset:i}=e;return u2(Gx(At(At(At({},Xx),n),{},{ticks:d2(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),i.top,i.top+i.height,t)},D7={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function hs(e){var t=m2(),n=h2(),r=f2(),a=At(At({},Yt(e,D7)),{},{x:ae(e.x)?e.x:r.left,y:ae(e.y)?e.y:r.top,width:ae(e.width)?e.width:r.width,height:ae(e.height)?e.height:r.height}),{xAxisId:i,yAxisId:o,x:l,y:c,width:u,height:d,syncWithTicks:p,horizontalValues:f,verticalValues:m}=a,g=Qt(),x=re(R=>_b(R,"xAxis",i,g)),w=re(R=>_b(R,"yAxis",o,g));if(!ae(u)||u<=0||!ae(d)||d<=0||!ae(l)||l!==+l||!ae(c)||c!==+c)return null;var v=a.verticalCoordinatesGenerator||_7,y=a.horizontalCoordinatesGenerator||M7,{horizontalPoints:b,verticalPoints:j}=a;if((!b||!b.length)&&typeof y=="function"){var S=f&&f.length,k=y({yAxis:w?At(At({},w),{},{ticks:S?f:w.ticks}):void 0,width:t,height:n,offset:r},S?!0:p);yo(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(b=k)}if((!j||!j.length)&&typeof v=="function"){var C=m&&m.length,E=v({xAxis:x?At(At({},x),{},{ticks:C?m:x.ticks}):void 0,width:t,height:n,offset:r},C?!0:p);yo(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(j=E)}return h.createElement("g",{className:"recharts-cartesian-grid"},h.createElement(P7,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),h.createElement(O7,Ha({},a,{horizontalPoints:b})),h.createElement(T7,Ha({},a,{verticalPoints:j})),h.createElement(A7,Ha({},a,{offset:r,horizontalPoints:b,xAxis:x,yAxis:w})),h.createElement(E7,Ha({},a,{offset:r,verticalPoints:j,xAxis:x,yAxis:w})))}hs.displayName="CartesianGrid";var MP=(e,t,n,r)=>ha(e,"xAxis",t,r),DP=(e,t,n,r)=>ma(e,"xAxis",t,r),$P=(e,t,n,r)=>ha(e,"yAxis",n,r),IP=(e,t,n,r)=>ma(e,"yAxis",n,r),$7=B([fe,MP,$P,DP,IP],(e,t,n,r,a)=>ka(e,"xAxis")?Vo(t,r,!1):Vo(n,a,!1)),I7=(e,t,n,r,a)=>a;function R7(e){return e.type==="line"}var L7=B([ap,I7],(e,t)=>e.filter(R7).find(n=>n.id===t)),F7=B([fe,MP,$P,DP,IP,L7,$7,Xd],(e,t,n,r,a,i,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(i==null||t==null||n==null||r==null||a==null||r.length===0||a.length===0||o==null)){var{dataKey:p,data:f}=i,m;if(f!=null&&f.length>0?m=f:m=c==null?void 0:c.slice(u,d+1),m!=null)return oB({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:p,bandSize:o,displayedData:m})}}),z7=["id"],B7=["type","layout","connectNulls","needClip"],U7=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function ww(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ww(Object(n),!0).forEach(function(r){W7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ww(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function W7(e,t,n){return(t=q7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q7(e){var t=K7(e,"string");return typeof t=="symbol"?t:t+""}function K7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jx(e,t){if(e==null)return{};var n,r,a=V7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function V7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function pi(){return pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pi.apply(null,arguments)}var H7=e=>{var{dataKey:t,name:n,stroke:r,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:r,value:Rd(n,t),payload:e}]};function Q7(e){var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Rd(o,t),hide:l,type:e.tooltipType,color:e.stroke,unit:c}}}var RP=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Y7(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],a=0;a<t;++a)r=[...r,...n];return r}var G7=(e,t,n)=>{var r=n.reduce((p,f)=>p+f);if(!r)return RP(t,e);for(var a=Math.floor(e/r),i=e%r,o=t-e,l=[],c=0,u=0;c<n.length;u+=n[c],++c)if(u+n[c]>i){l=[...n.slice(0,c),i-u];break}var d=l.length%2===0?[0,o]:[o];return[...Y7(n,a),...l,...d].map(p=>"".concat(p,"px")).join(", ")};function X7(e,t){var n;if(h.isValidElement(e))n=h.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=ve("recharts-line-dot",typeof e!="boolean"?e.className:"");n=h.createElement(pP,pi({},t,{className:r}))}return n}function Z7(e,t){return e==null?!1:t?!0:e.length===1}function J7(e){var{clipPathId:t,points:n,props:r}=e,{dot:a,dataKey:i,needClip:o}=r;if(!Z7(n,a))return null;var l=Jx(r,z7),c=QN(a),u=Na(l),d=We(a,!0),p=n.map((m,g)=>{var x=nn(nn(nn({key:"dot-".concat(g),r:3},u),d),{},{index:g,cx:m.x,cy:m.y,dataKey:i,value:m.value,payload:m.payload,points:n});return X7(a,x)}),f={clipPath:o?"url(#clipPath-".concat(c?"":"dots-").concat(t,")"):void 0};return h.createElement(Vn,pi({className:"recharts-line-dots",key:"dots"},f),p)}function eB(e){var{showLabels:t,children:n,points:r}=e,a=h.useMemo(()=>r==null?void 0:r.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return nn(nn({},o),{},{value:i.value,payload:i.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[r]);return h.createElement(cP,{value:t?a:null},n)}function jw(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:a,props:i}=e,{type:o,layout:l,connectNulls:c,needClip:u}=i,d=Jx(i,B7),p=nn(nn({},We(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:r,type:o,layout:l,connectNulls:c,strokeDasharray:a??i.strokeDasharray});return h.createElement(h.Fragment,null,(r==null?void 0:r.length)>1&&h.createElement(v2,pi({},p,{pathRef:n})),h.createElement(J7,{points:r,clipPathId:t,props:i}))}function tB(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function nB(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:p,animateNewValues:f,width:m,height:g,onAnimationEnd:x,onAnimationStart:w}=n,v=a.current,y=qd(n,"recharts-line-"),[b,j]=h.useState(!1),S=!b,k=h.useCallback(()=>{typeof x=="function"&&x(),j(!1)},[x]),C=h.useCallback(()=>{typeof w=="function"&&w(),j(!0)},[w]),E=tB(r.current),R=i.current;return h.createElement(eB,{points:o,showLabels:S},n.children,h.createElement(Wd,{animationId:y,begin:u,duration:d,isActive:c,easing:p,onAnimationEnd:k,onAnimationStart:C,key:y},M=>{var N=Ve(R,E+R,M),T=Math.min(N,E),I;if(c)if(l){var F="".concat(l).split(/[,\s]+/gim).map($=>parseFloat($));I=G7(T,E,F)}else I=RP(E,T);else I=l==null?void 0:String(l);if(v){var _=v.length/o.length,D=M===1?o:o.map(($,z)=>{var U=Math.floor(z*_);if(v[U]){var O=v[U];return nn(nn({},$),{},{x:Ve(O.x,$.x,M),y:Ve(O.y,$.y,M)})}return f?nn(nn({},$),{},{x:Ve(m*2,$.x,M),y:Ve(g/2,$.y,M)}):nn(nn({},$),{},{x:$.x,y:$.y})});return a.current=D,h.createElement(jw,{props:n,points:D,clipPathId:t,pathRef:r,strokeDasharray:I})}return M>0&&E>0&&(a.current=o,i.current=T),h.createElement(jw,{props:n,points:o,clipPathId:t,pathRef:r,strokeDasharray:I})}),h.createElement(dP,{label:n.label}))}function rB(e){var{clipPathId:t,props:n}=e,r=h.useRef(null),a=h.useRef(0),i=h.useRef(null);return h.createElement(nB,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:a,pathRef:i})}var aB=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:ct(e.payload,t)});class iB extends h.Component{render(){var t,{hide:n,dot:r,points:a,className:i,xAxisId:o,yAxisId:l,top:c,left:u,width:d,height:p,id:f,needClip:m}=this.props;if(n)return null;var g=ve("recharts-line",i),x=f,{r:w=3,strokeWidth:v=2}=(t=We(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},y=QN(r),b=w*2+v;return h.createElement(h.Fragment,null,h.createElement(Vn,{className:g},m&&h.createElement("defs",null,h.createElement(CP,{clipPathId:x,xAxisId:o,yAxisId:l}),!y&&h.createElement("clipPath",{id:"clipPath-dots-".concat(x)},h.createElement("rect",{x:u-b/2,y:c-b/2,width:d+b,height:p+b}))),h.createElement(SP,{xAxisId:o,yAxisId:l,data:a,dataPointFormatter:aB,errorBarOffset:0},h.createElement(rB,{props:this.props,clipPathId:x}))),h.createElement(k9,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var LP={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!yi.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function sB(e){var t=Yt(e,LP),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:p,legendType:f,xAxisId:m,yAxisId:g,id:x}=t,w=Jx(t,U7),{needClip:v}=Qx(m,g),y=Vx(),b=Ud(),j=Qt(),S=re(M=>F7(M,m,g,j,x));if(b!=="horizontal"&&b!=="vertical"||S==null||y==null)return null;var{height:k,width:C,x:E,y:R}=y;return h.createElement(iB,pi({},w,{id:x,connectNulls:l,dot:c,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:d,hide:u,label:p,legendType:f,xAxisId:m,yAxisId:g,points:S,layout:b,height:k,width:C,left:E,top:R,needClip:v}))}function oB(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:c}=e;return c.map((u,d)=>{var p=ct(u,o);if(t==="horizontal"){var f=y0({axis:n,ticks:a,bandSize:l,entry:u,index:d}),m=Oe(p)?null:r.scale(p);return{x:f,y:m,value:p,payload:u}}var g=Oe(p)?null:n.scale(p),x=y0({axis:r,ticks:i,bandSize:l,entry:u,index:d});return g==null||x==null?null:{x:g,y:x,value:p,payload:u}}).filter(Boolean)}function lB(e){var t=Yt(e,LP),n=Qt();return h.createElement(bP,{id:t.id,type:"line"},r=>h.createElement(h.Fragment,null,h.createElement(yP,{legendPayload:H7(t)}),h.createElement(vP,{fn:Q7,args:t}),h.createElement(jP,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),h.createElement(sB,pi({},t,{id:r}))))}var Xn=h.memo(lB);Xn.displayName="Line";var cB=["dangerouslySetInnerHTML","ticks"],uB=["id"],dB=["domain"],pB=["domain"];function sh(){return sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sh.apply(null,arguments)}function Uu(e,t){if(e==null)return{};var n,r,a=fB(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function fB(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function mB(e){var t=dt();return h.useEffect(()=>(t(d9(e)),()=>{t(p9(e))}),[e,t]),null}var hB=e=>{var{xAxisId:t,className:n}=e,r=re(Vg),a=Qt(),i="xAxis",o=re(m=>Ts(m,i,t,a)),l=re(m=>gC(m,i,t,a)),c=re(m=>pC(m,t)),u=re(m=>WR(m,t)),d=re(m=>$S(m,t));if(c==null||u==null||d==null)return null;var p=Uu(e,cB),f=Uu(d,uB);return h.createElement(Zx,sh({},p,f,{scale:o,x:u.x,y:u.y,width:c.width,height:c.height,className:ve("recharts-".concat(i," ").concat(i),n),viewBox:r,ticks:l}))},gB={allowDataOverflow:Xt.allowDataOverflow,allowDecimals:Xt.allowDecimals,allowDuplicatedCategory:Xt.allowDuplicatedCategory,height:Xt.height,hide:!1,mirror:Xt.mirror,orientation:Xt.orientation,padding:Xt.padding,reversed:Xt.reversed,scale:Xt.scale,tickCount:Xt.tickCount,type:Xt.type,xAxisId:0},xB=e=>{var t,n,r,a,i,o=Yt(e,gB);return h.createElement(h.Fragment,null,h.createElement(mB,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(a=o.minTickGap)!==null&&a!==void 0?a:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),h.createElement(hB,o))},vB=(e,t)=>{var{domain:n}=e,r=Uu(e,dB),{domain:a}=t,i=Uu(t,pB);return ms(r,i)?Array.isArray(n)&&n.length===2&&Array.isArray(a)&&a.length===2?n[0]===a[0]&&n[1]===a[1]:ms({domain:n},{domain:a}):!1},gs=h.memo(xB,vB);gs.displayName="XAxis";var yB=["dangerouslySetInnerHTML","ticks"],bB=["id"],wB=["domain"],jB=["domain"];function oh(){return oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oh.apply(null,arguments)}function Wu(e,t){if(e==null)return{};var n,r,a=NB(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function NB(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function kB(e){var t=dt();return h.useEffect(()=>(t(f9(e)),()=>{t(m9(e))}),[e,t]),null}var SB=e=>{var{yAxisId:t,className:n,width:r,label:a}=e,i=h.useRef(null),o=h.useRef(null),l=re(Vg),c=Qt(),u=dt(),d="yAxis",p=re(y=>Ts(y,d,t,c)),f=re(y=>fC(y,t)),m=re(y=>KR(y,t)),g=re(y=>gC(y,d,t,c)),x=re(y=>IS(y,t));if(h.useLayoutEffect(()=>{if(!(r!=="auto"||!f||Kx(a)||h.isValidElement(a)||x==null)){var y=i.current;if(y){var b=y.getCalculatedWidth();Math.round(f.width)!==Math.round(b)&&u(h9({id:t,width:b}))}}},[g,f,u,a,t,r,x]),f==null||m==null||x==null)return null;var w=Wu(e,yB),v=Wu(x,bB);return h.createElement(Zx,oh({},w,v,{ref:i,labelRef:o,scale:p,x:m.x,y:m.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:ve("recharts-".concat(d," ").concat(d),n),viewBox:l,ticks:g}))},CB={allowDataOverflow:Zt.allowDataOverflow,allowDecimals:Zt.allowDecimals,allowDuplicatedCategory:Zt.allowDuplicatedCategory,hide:!1,mirror:Zt.mirror,orientation:Zt.orientation,padding:Zt.padding,reversed:Zt.reversed,scale:Zt.scale,tickCount:Zt.tickCount,type:Zt.type,width:Zt.width,yAxisId:0},PB=e=>{var t,n,r,a,i,o=Yt(e,CB);return h.createElement(h.Fragment,null,h.createElement(kB,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(a=o.minTickGap)!==null&&a!==void 0?a:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),h.createElement(SB,o))},AB=(e,t)=>{var{domain:n}=e,r=Wu(e,wB),{domain:a}=t,i=Wu(t,jB);return ms(r,i)?Array.isArray(n)&&n.length===2&&Array.isArray(a)&&a.length===2?n[0]===a[0]&&n[1]===a[1]:ms({domain:n},{domain:a}):!1},xs=h.memo(PB,AB);xs.displayName="YAxis";var EB={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kl=h;function OB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var TB=typeof Object.is=="function"?Object.is:OB,_B=kl.useSyncExternalStore,MB=kl.useRef,DB=kl.useEffect,$B=kl.useMemo,IB=kl.useDebugValue;EB.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var i=MB(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=$B(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),a!==void 0&&o.hasValue){var g=o.value;if(a(g,m))return p=g}return p=m}if(g=p,TB(d,m))return g;var x=r(m);return a!==void 0&&a(g,x)?(d=m,g):(d=m,p=x)}var u=!1,d,p,f=n===void 0?null:n;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,n,r,a]);var l=_B(e,i[0],i[1]);return DB(function(){o.hasValue=!0,o.value=l},[l]),IB(l),l};function RB(e){e()}function LB(){let e=null,t=null;return{clear(){e=null,t=null},notify(){RB(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!r||e===null||(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var Nw={notify(){},get:()=>[]};function FB(e,t){let n,r=Nw,a=0,i=!1;function o(x){d();const w=r.subscribe(x);let v=!1;return()=>{v||(v=!0,w(),p())}}function l(){r.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return i}function d(){a++,n||(n=t?t.addNestedSub(c):e.subscribe(c),r=LB())}function p(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=Nw)}function f(){i||(i=!0,d())}function m(){i&&(i=!1,p())}const g={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:f,tryUnsubscribe:m,getListeners:()=>r};return g}var zB=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BB=zB(),UB=()=>typeof navigator<"u"&&navigator.product==="ReactNative",WB=UB(),qB=()=>BB||WB?h.useLayoutEffect:h.useEffect,KB=qB(),ff=Symbol.for("react-redux-context"),mf=typeof globalThis<"u"?globalThis:{};function VB(){if(!h.createContext)return{};const e=mf[ff]??(mf[ff]=new Map);let t=e.get(h.createContext);return t||(t=h.createContext(null),e.set(h.createContext,t)),t}var HB=VB();function QB(e){const{children:t,context:n,serverState:r,store:a}=e,i=h.useMemo(()=>{const c=FB(a);return{store:a,subscription:c,getServerState:r?()=>r:void 0}},[a,r]),o=h.useMemo(()=>a.getState(),[a]);KB(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=n||HB;return h.createElement(l.Provider,{value:i},t)}var YB=QB,GB=(e,t)=>t,ev=B([GB,fe,_S,tt,TC,Rr,GL,pt],tF),tv=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},FP=En("mouseClick"),zP=dl();zP.startListening({actionCreator:FP,effect:(e,t)=>{var n=e.payload,r=ev(t.getState(),tv(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(aL({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var lh=En("mouseMove"),BP=dl();BP.startListening({actionCreator:lh,effect:(e,t)=>{var n=e.payload,r=t.getState(),a=Dx(r,r.tooltip.settings.shared),i=ev(r,tv(n));a==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(kC({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(NC()))}});var kw={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},UP=hn({name:"rootProps",initialState:kw,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:kw.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),XB=UP.reducer,{updateOptions:ZB}=UP.actions,WP=hn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}});WP.actions;var JB=WP.reducer,qP=En("keyDown"),KP=En("focus"),nv=dl();nv.startListening({actionCreator:qP,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number($x(a,Ms(n))),l=Rr(n);if(i==="Enter"){var c=$u(n,"axis","hover",String(a.index));t.dispatch(Jm({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var u=YR(n),d=u==="left-to-right"?1:-1,p=i==="ArrowRight"?1:-1,f=o+p*d;if(!(l==null||f>=l.length||f<0)){var m=$u(n,"axis","hover",String(f));t.dispatch(Jm({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});nv.startListening({actionCreator:KP,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var i="0",o=$u(n,"axis","hover",String(i));t.dispatch(Jm({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var vn=En("externalEvent"),VP=dl();VP.startListening({actionCreator:vn,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:zL(n),activeDataKey:$C(n),activeIndex:ui(n),activeLabel:DC(n),activeTooltipIndex:ui(n),isTooltipActive:BL(n)};e.payload.handler(r,e.payload.reactEvent)}}});var eU=B([_s],e=>e.tooltipItemPayloads),tU=B([eU,wl,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var a=e.find(l=>l.settings.dataKey===r);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,n);return o}}}),HP=En("touchMove"),QP=dl();QP.startListening({actionCreator:HP,effect:(e,t)=>{var n=e.payload,r=t.getState(),a=Dx(r,r.tooltip.settings.shared);if(a==="axis"){var i=ev(r,tv({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(kC({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var o,l=n.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(IM),d=(o=c.getAttribute(RM))!==null&&o!==void 0?o:void 0,p=tU(t.getState(),u,d);t.dispatch(jC({activeDataKey:d,activeIndex:u,activeCoordinate:p}))}}});var nU=zk({brush:Lz,cartesianAxis:g9,chartData:gF,errorBars:I9,graphicalItems:s9,layout:iM,legend:ZM,options:dF,polarAxis:M8,polarOptions:JB,referenceElements:Kz,rootProps:XB,tooltip:iL}),rU=function(t){return O_({reducer:nU,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([zP.middleware,BP.middleware,nv.middleware,VP.middleware,QP.middleware]),devTools:yi.devToolsEnabled})};function aU(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=Qt(),i=h.useRef(null);if(a)return n;i.current==null&&(i.current=rU(t));var o=Lg;return h.createElement(YB,{context:o,store:i.current},n)}function iU(e){var{layout:t,width:n,height:r,margin:a}=e,i=dt(),o=Qt();return h.useEffect(()=>{o||(i(nM(t)),i(rM({width:n,height:r})),i(tM(a)))},[i,o,t,n,r,a]),null}function sU(e){var t=dt();return h.useEffect(()=>{t(ZB(e))},[t,e]),null}var oU=["children"];function lU(e,t){if(e==null)return{};var n,r,a=cU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function cU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qu(){return qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qu.apply(null,arguments)}var uU={width:"100%",height:"100%"},dU=h.forwardRef((e,t)=>{var n=m2(),r=h2(),a=x2();if(!yu(n)||!yu(r))return null;var{children:i,otherAttributes:o,title:l,desc:c}=e,u,d;return typeof o.tabIndex=="number"?u=o.tabIndex:u=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0,h.createElement(YN,qu({},o,{title:l,desc:c,role:d,tabIndex:u,width:n,height:r,style:uU,ref:t}),i)}),pU=e=>{var{children:t}=e,n=re(Bd);if(!n)return null;var{width:r,height:a,y:i,x:o}=n;return h.createElement(YN,{width:r,height:a,x:o,y:i},t)},Sw=h.forwardRef((e,t)=>{var{children:n}=e,r=lU(e,oU),a=Qt();return a?h.createElement(pU,null,n):h.createElement(dU,qu({ref:t},r),n)});function fU(){var e=dt(),[t,n]=h.useState(null),r=re($M);return h.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;dn(i)&&i!==r&&e(aM(i))}},[t,e,r]),n}function Cw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cw(Object(n),!0).forEach(function(r){hU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hU(e,t,n){return(t=gU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gU(e){var t=xU(e,"string");return typeof t=="symbol"?t:t+""}function xU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vU=h.forwardRef((e,t)=>{var{children:n,className:r,height:a,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:p,onMouseUp:f,onTouchEnd:m,onTouchMove:g,onTouchStart:x,style:w,width:v}=e,y=dt(),[b,j]=h.useState(null),[S,k]=h.useState(null);SF();var C=fU(),E=h.useCallback(A=>{C(A),typeof t=="function"&&t(A),j(A),k(A)},[C,t,j,k]),R=h.useCallback(A=>{y(FP(A)),y(vn({handler:i,reactEvent:A}))},[y,i]),M=h.useCallback(A=>{y(lh(A)),y(vn({handler:u,reactEvent:A}))},[y,u]),N=h.useCallback(A=>{y(NC()),y(vn({handler:d,reactEvent:A}))},[y,d]),T=h.useCallback(A=>{y(lh(A)),y(vn({handler:p,reactEvent:A}))},[y,p]),I=h.useCallback(()=>{y(KP())},[y]),F=h.useCallback(A=>{y(qP(A.key))},[y]),_=h.useCallback(A=>{y(vn({handler:o,reactEvent:A}))},[y,o]),D=h.useCallback(A=>{y(vn({handler:l,reactEvent:A}))},[y,l]),$=h.useCallback(A=>{y(vn({handler:c,reactEvent:A}))},[y,c]),z=h.useCallback(A=>{y(vn({handler:f,reactEvent:A}))},[y,f]),U=h.useCallback(A=>{y(vn({handler:x,reactEvent:A}))},[y,x]),O=h.useCallback(A=>{y(HP(A)),y(vn({handler:g,reactEvent:A}))},[y,g]),W=h.useCallback(A=>{y(vn({handler:m,reactEvent:A}))},[y,m]);return h.createElement(BC.Provider,{value:b},h.createElement(qT.Provider,{value:S},h.createElement("div",{className:ve("recharts-wrapper",r),style:mU({position:"relative",cursor:"default",width:v,height:a},w),onClick:R,onContextMenu:_,onDoubleClick:D,onFocus:I,onKeyDown:F,onMouseDown:$,onMouseEnter:M,onMouseLeave:N,onMouseMove:T,onMouseUp:z,onTouchEnd:W,onTouchMove:O,onTouchStart:U,ref:E},n)))}),yU=["children","className","width","height","style","compact","title","desc"];function bU(e,t){if(e==null)return{};var n,r,a=wU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function wU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var jU=h.forwardRef((e,t)=>{var{children:n,className:r,width:a,height:i,style:o,compact:l,title:c,desc:u}=e,d=bU(e,yU),p=Na(d);return l?h.createElement(Sw,{otherAttributes:p,title:c,desc:u},n):h.createElement(vU,{className:r,style:o,width:a,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},h.createElement(Sw,{otherAttributes:p,title:c,desc:u,ref:t},h.createElement(Hz,null,n)))}),NU=["width","height"];function ch(){return ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ch.apply(null,arguments)}function kU(e,t){if(e==null)return{};var n,r,a=SU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function SU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var CU={top:5,right:5,bottom:5,left:5},PU={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:CU,reverseStackOrder:!1,syncMethod:"index"},YP=h.forwardRef(function(t,n){var r,a=Yt(t.categoricalChartProps,PU),{width:i,height:o}=a,l=kU(a,NU);if(!yu(i)||!yu(o))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:p,categoricalChartProps:f}=t,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:p,eventEmitter:void 0};return h.createElement(aU,{preloadedState:{options:m},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:c},h.createElement(Rz,{chartData:f.data}),h.createElement(iU,{width:i,height:o,layout:a.layout,margin:a.margin}),h.createElement(sU,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),h.createElement(jU,ch({},l,{width:i,height:o,ref:n})))}),AU=["axis"],GP=h.forwardRef((e,t)=>h.createElement(YP,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:AU,tooltipPayloadSearcher:WC,categoricalChartProps:e,ref:t})),EU=["axis","item"],rv=h.forwardRef((e,t)=>h.createElement(YP,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:EU,tooltipPayloadSearcher:WC,categoricalChartProps:e,ref:t}));const oo=[{key:"registered_onboarded",label:"Registered Onboarded",icon:Et,color:"#3B82F6"},{key:"linked_accounts",label:"Linked Accounts",icon:IN,color:"#10B981"},{key:"total_advance_applications",label:"Total Advance Applications",icon:Se,color:"#F59E0B"},{key:"total_advance_applicants",label:"Total Advance Applicants",icon:Et,color:"#8B5CF6"},{key:"total_micro_financing_applications",label:"Total Micro Financing Applications",icon:Se,color:"#EF4444"},{key:"total_micro_financing_applicants",label:"Total Micro Financing Applicants",icon:Et,color:"#06B6D4"},{key:"total_personal_finance_application",label:"Total Personal Finance Applications",icon:Se,color:"#84CC16"},{key:"total_personal_finance_applicants",label:"Total Personal Finance Applicants",icon:Et,color:"#F97316"}],Ti={getMonthlyComparison:async(e,t)=>{const n=new URLSearchParams;e.months&&n.append("months",e.months),e.metric&&n.append("metric",e.metric),e.maxDays&&n.append("maxDays",e.maxDays),n.append("clientId",t);const r=await fetch(`/api/analytics/monthly-comparison?${n}`);if(!r.ok)throw new Error("Failed to fetch monthly comparison");return r.json()},getMonthlyComparisonAllMetrics:async(e,t)=>{const n={};for(const r of oo){const a=new URLSearchParams;e.months&&a.append("months",e.months),a.append("metric",r.key),e.maxDays&&a.append("maxDays",e.maxDays),a.append("clientId",t);try{const i=await fetch(`/api/analytics/monthly-comparison?${a}`);if(i.ok){const o=await i.json();n[r.key]=o}}catch(i){console.warn(`Failed to fetch data for ${r.key}:`,i),n[r.key]={rows:[]}}}return n},getAllNotes:async()=>{const e=await fetch("/api/notes");if(!e.ok)throw new Error("Failed to fetch notes");return e.json()}},OU=({notes:e,selectedMonths:t})=>{const n=e.filter(i=>{if(!i.date)return!1;try{const o=new Date(i.date);if(isNaN(o.getTime()))return!1;const l=o.toLocaleString("default",{month:"long",year:"numeric"});return t.includes("all")||t.includes(l)}catch{return!1}});if(n.length===0)return s.jsx("div",{className:"text-gray-500 text-center py-8",children:"No notes found for the selected months."});const r=n.reduce((i,o)=>{const l=o.date;return i[l]||(i[l]=[]),i[l].push(o),i},{}),a=Object.keys(r).sort((i,o)=>new Date(o).getTime()-new Date(i).getTime());return s.jsx("div",{className:"space-y-4",children:a.map(i=>s.jsxs("div",{className:"border-l-4 border-blue-500 pl-4 py-2 bg-blue-50 rounded-r-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:new Date(i).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),s.jsxs("span",{className:"text-sm text-blue-600 bg-blue-100 px-2 py-1 rounded-full",children:[r[i].length," note",r[i].length>1?"s":""]})]}),s.jsx("div",{className:"space-y-2",children:r[i].map((o,l)=>s.jsxs("div",{className:"bg-white p-3 rounded border border-gray-200",children:[s.jsx("h5",{className:"font-medium text-gray-800 mb-1",children:o.title}),o.content&&s.jsx("p",{className:"text-gray-600 text-sm",children:o.content}),o.created_at&&s.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Added: ",new Date(o.created_at).toLocaleString()]})]},o.id||l))})]},i))})},XP=()=>{var F,_,D,$,z,U;const{selectedClient:e}=vi(),[t,n]=h.useState(["all"]),[r,a]=h.useState("total_advance_applicants"),[i,o]=h.useState("bar"),[l,c]=h.useState(""),[u,d]=h.useState(!0),{data:p,isLoading:f,error:m}=Me({queryKey:["monthly-comparison",t,r,l,u,e==null?void 0:e.id],queryFn:async()=>{var W;if(!(e!=null&&e.id))return null;let O;if(u&&!l){const A=await Ti.getMonthlyComparison({months:void 0,metric:r},e.id);if(((W=A==null?void 0:A.rows)==null?void 0:W.length)>0){const K=A.rows[A.rows.length-1];O=K.daysCounted,console.log(`🔧 Fair comparison enabled: limiting all months to ${O} days (based on ${K.month})`)}}return Ti.getMonthlyComparison({months:l||(t.includes("all")?void 0:t.join(",")),metric:r,maxDays:O},e.id)},enabled:!!(e!=null&&e.id)}),{data:g}=Me({queryKey:["monthly-comparison-all-metrics",t,u,e==null?void 0:e.id],queryFn:async()=>{var W;if(!(e!=null&&e.id))return null;let O;if(u){const A=await Ti.getMonthlyComparison({months:void 0,metric:"total_advance_applicants"},e.id);((W=A==null?void 0:A.rows)==null?void 0:W.length)>0&&(O=A.rows[A.rows.length-1].daysCounted)}return Ti.getMonthlyComparisonAllMetrics({months:t.includes("all")?void 0:t.join(","),maxDays:O},e.id)},enabled:!!(e!=null&&e.id)}),{data:x}=Me({queryKey:["all-months",r,e==null?void 0:e.id],queryFn:()=>e!=null&&e.id?Ti.getMonthlyComparison({months:void 0,metric:r},e.id):null,enabled:!!(e!=null&&e.id)}),{data:w}=Me({queryKey:["all-notes"],queryFn:()=>Ti.getAllNotes()}),v=O=>{n(O==="all"?["all"]:W=>{const A=W.filter(K=>K!=="all");if(A.includes(O)){const K=A.filter(V=>V!==O);return K.length===0?["all"]:K}else return[...A,O]})},y=O=>{c(O),O&&n(["all"])},b=((F=x==null?void 0:x.rows)==null?void 0:F.map(O=>O.month))||[],j=((_=p==null?void 0:p.rows)==null?void 0:_.reduce((O,W)=>O+W.value,0))||0,S=(D=p==null?void 0:p.rows)!=null&&D.length?j/p.rows.length:0,k=($=p==null?void 0:p.rows)==null?void 0:$.reduce((O,W)=>W.value>((O==null?void 0:O.value)||0)?W:O,null),C=(z=p==null?void 0:p.rows)==null?void 0:z.reduce((O,W)=>W.value<((O==null?void 0:O.value)||1/0)?W:O,null),E=((U=p==null?void 0:p.mom_changes)==null?void 0:U.slice(-3))||[],R=E.length?E.reduce((O,W)=>O+W.pct,0)/E.length:0,M=oo.find(O=>O.key===r),N=O=>O>=1e6?(O/1e6).toFixed(1)+"M":O>=1e3?(O/1e3).toFixed(1)+"K":O.toLocaleString(),T=O=>O>5?s.jsx(F4,{className:"h-4 w-4 text-green-600"}):O<-5?s.jsx(DN,{className:"h-4 w-4 text-red-600"}):s.jsx(tT,{className:"h-4 w-4 text-gray-600"}),I=O=>O>5?"text-green-600":O<-5?"text-red-600":"text-gray-600";return s.jsxs(oe,{title:"📅 Monthly Comparison - Performance Across Months",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Metric"}),s.jsx("select",{value:r,onChange:O=>a(O.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:oo.map(O=>s.jsx("option",{value:O.key,children:O.label},O.key))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Focus Month"}),s.jsxs("select",{value:l,onChange:O=>y(O.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"All Months"}),b.map(O=>s.jsx("option",{value:O,children:O},O))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fair Comparison"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>d(!u),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${u?"bg-blue-600":"bg-gray-200"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${u?"translate-x-6":"translate-x-1"}`})}),s.jsx("span",{className:"text-sm text-gray-600",children:u?"Enabled":"Disabled"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Normalize months to same day count"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chart Type"}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>o("bar"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${i==="bar"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Bar"}),s.jsx("button",{onClick:()=>o("line"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${i==="line"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Line"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Months"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:t.includes("all"),onChange:()=>v("all"),className:"mr-2"}),"All Months"]}),b.map(O=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:t.includes(O),onChange:()=>v(O),className:"mr-2"}),s.jsx("span",{className:"text-sm",children:O})]},O))]})]})]}),f&&s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),m&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:s.jsxs("p",{className:"text-red-800",children:["Error loading data: ",(m==null?void 0:m.message)||"Unknown error"]})}),g&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 mb-6",children:oo.map(O=>{const W=g[O.key];if(!W||!W.rows||W.rows.length===0)return s.jsxs("div",{className:`bg-white border-2 rounded-lg p-4 cursor-pointer transition-all hover:shadow-lg ${r===O.key?"border-blue-500 ring-2 ring-blue-200 shadow-md":"border-gray-200 hover:border-gray-300"}`,onClick:()=>a(O.key),children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:O.color},children:s.jsx(O.icon,{className:"h-5 w-5 text-white"})}),s.jsx("div",{className:"flex-1",children:s.jsx("h4",{className:"font-semibold text-gray-900 text-sm leading-tight",children:O.label})})]}),s.jsx("div",{className:"text-center text-gray-500 py-4",children:s.jsx("p",{className:"text-sm",children:"No data available"})})]},O.key);const A=W.rows.reduce((le,qe)=>le+(qe.value||0),0),K=W.rows.reduce((le,qe)=>le+(qe.daysCounted||0),0),V=K>0?A/K:0,H=W.rows.length>0?A/W.rows.length:0,Y=O.icon;return s.jsxs("div",{className:`bg-white border-2 rounded-lg p-4 cursor-pointer transition-all hover:shadow-lg ${r===O.key?"border-blue-500 ring-2 ring-blue-200 shadow-md":"border-gray-200 hover:border-gray-300"}`,onClick:()=>a(O.key),children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:O.color},children:s.jsx(Y,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900 text-sm leading-tight",children:O.label}),r===O.key&&s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 mt-1",children:"Selected"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"bg-gray-50 rounded-md p-2",children:[s.jsx("div",{className:"text-xs font-medium text-gray-600 mb-1",children:"Daily Average"}),s.jsx("div",{className:"text-lg font-bold text-gray-900",children:N(V)}),s.jsx("div",{className:"text-xs text-gray-500",children:"per day"})]}),s.jsxs("div",{className:"rounded-md p-2",style:{backgroundColor:`${O.color}15`},children:[s.jsxs("div",{className:"text-xs font-medium",style:{color:O.color},children:["Total (",W.rows.length," month",W.rows.length>1?"s":"",")"]}),s.jsx("div",{className:"text-xl font-bold",style:{color:O.color},children:N(A)}),s.jsxs("div",{className:"text-xs",style:{color:O.color},children:[N(H),"/month avg"]})]})]}),r===O.key&&s.jsx("div",{className:"mt-3 flex items-center justify-center",children:s.jsx("div",{className:"w-full h-1 bg-blue-500 rounded-full"})})]},O.key)})}),!g&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 mb-6",children:oo.map(O=>s.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-lg p-4 animate-pulse",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.jsx("div",{className:"w-9 h-9 bg-gray-300 rounded-lg"}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-1"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"bg-gray-50 rounded-md p-2",children:[s.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2 mb-2"}),s.jsx("div",{className:"h-6 bg-gray-300 rounded w-3/4"})]}),s.jsxs("div",{className:"bg-gray-100 rounded-md p-2",children:[s.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2 mb-2"}),s.jsx("div",{className:"h-6 bg-gray-300 rounded w-3/4"})]})]})]},O.key))}),p&&p.rows&&p.rows.length>0&&M&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:s.jsx(M.icon,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Total Volume"}),s.jsx("p",{className:"text-xl font-bold text-blue-900",children:N(j)})]})]})}),s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-green-100 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:s.jsx(Ht,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-800",children:"Monthly Average"}),s.jsx("p",{className:"text-xl font-bold text-green-900",children:N(S)})]})]})}),s.jsx("div",{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-yellow-500 rounded-lg",children:s.jsx(ja,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Best Month"}),s.jsx("p",{className:"text-lg font-bold text-yellow-900",children:k==null?void 0:k.month}),s.jsx("p",{className:"text-sm text-yellow-700",children:N((k==null?void 0:k.value)||0)})]})]})}),s.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 border border-purple-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-purple-500 rounded-lg",children:T(R)}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-purple-800",children:"3-Month Trend"}),s.jsxs("p",{className:`text-lg font-bold ${I(R)}`,children:[R>0?"+":"",R.toFixed(1),"%"]})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[M.label," Trends"]}),u&&s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"⚖️ Fair Comparison Active"}),s.jsx("span",{className:"text-xs text-gray-500",children:"All months normalized to same day count"})]})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[p.rows.length," months • ",t.includes("all")?"All months":t.join(", ")]})]}),s.jsx("div",{className:"h-80",children:s.jsx(Wx,{width:"100%",height:"100%",children:i==="bar"?s.jsxs(rv,{data:p.rows,children:[s.jsx(hs,{strokeDasharray:"3 3"}),s.jsx(gs,{dataKey:"month",tick:{fontSize:12},angle:-45,textAnchor:"end",height:60}),s.jsx(xs,{tick:{fontSize:12}}),s.jsx(el,{formatter:O=>[N(O),M.label],labelFormatter:O=>`Month: ${O}`}),s.jsx(up,{dataKey:"value",fill:M.color,radius:[4,4,0,0]})]}):s.jsxs(GP,{data:p.rows,children:[s.jsx(hs,{strokeDasharray:"3 3"}),s.jsx(gs,{dataKey:"month",tick:{fontSize:12},angle:-45,textAnchor:"end",height:60}),s.jsx(xs,{tick:{fontSize:12}}),s.jsx(el,{formatter:O=>[N(O),M.label],labelFormatter:O=>`Month: ${O}`}),s.jsx(Xn,{type:"monotone",dataKey:"value",stroke:M.color,strokeWidth:3,dot:{r:5,fill:M.color},activeDot:{r:7}})]})})})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"📊 Quick Insights"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-blue-800",children:[s.jsxs("div",{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Data Coverage:"})," ",p.rows.length," months • ",t.includes("all")?"All months":`${t.length} selected months`]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Best Performance:"})," ",k==null?void 0:k.month," with ",N((k==null?void 0:k.value)||0)," ",M.label.toLowerCase()]}),u&&s.jsxs("p",{children:[s.jsx("strong",{children:"Fair Comparison:"})," ⚖️ All months normalized to same day count for accurate comparison"]})]}),s.jsxs("div",{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Recent Trend:"})," ",R>0?"Growing":R<0?"Declining":"Stable"," (",R.toFixed(1),"% avg change)"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Consistency:"})," ",C&&k?(C.value/k.value*100).toFixed(0):0,"% variance ratio"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Interactive Cards:"})," 📊 Metric cards update automatically based on selected months and fair comparison settings"]})]})]})]})]}),l&&p&&p.rows.length>0&&s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:s.jsx(Ht,{className:"h-5 w-5 text-white"})}),s.jsxs("h4",{className:"text-lg font-semibold text-blue-900",children:["Focus: ",l," Analysis"]})]}),(()=>{var V;const O=p.rows.find(H=>H.month===l);if(!O)return null;const W=(V=p.mom_changes)==null?void 0:V.find(H=>H.to===l),A=O.value>S,K=p.rows.sort((H,Y)=>Y.value-H.value).findIndex(H=>H.month===l)+1;return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-white rounded-lg p-4 border border-blue-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Performance"}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:N(O.value)}),s.jsxs("p",{className:"text-xs text-blue-600",children:[A?"📈 Above":"📉 Below"," average (",((O.value/S-1)*100).toFixed(1),"%)"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-blue-600",children:"Rank"}),s.jsxs("p",{className:"text-lg font-bold text-blue-900",children:["#",K]}),s.jsxs("p",{className:"text-xs text-blue-600",children:["of ",p.rows.length]})]})]})}),W&&s.jsx("div",{className:"bg-white rounded-lg p-4 border border-blue-100",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[T(W.pct),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Month-over-Month"}),s.jsxs("p",{className:`text-lg font-bold ${I(W.pct)}`,children:[W.pct>0?"+":"",W.pct.toFixed(1),"%"]}),s.jsxs("p",{className:"text-xs text-blue-600",children:["vs ",W.from]})]})]})}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-100",children:[s.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Data Quality"}),s.jsxs("p",{className:"text-lg font-bold text-blue-900",children:[O.daysCounted," days"]}),s.jsx("p",{className:"text-xs text-blue-600",children:"All data included"})]})]})})()]}),p&&(!p.rows||p.rows.length===0)&&!f&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:s.jsx(Ht,{className:"h-8 w-8 text-gray-400"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Monthly Data Available"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Import your financial data to see detailed monthly comparisons and trends."}),s.jsx("button",{className:"bg-blue-500 text-white px-6 py-2 rounded-md hover:bg-blue-600 transition-colors",children:"Go to Data Import"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mt-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:"📝 Notes for Selected Period"}),s.jsx(OU,{notes:(w==null?void 0:w.notes)||[],selectedMonths:t})]})]})},Pw=[{value:"all",label:"All Days"},{value:"sunday",label:"Sunday"},{value:"monday",label:"Monday"},{value:"tuesday",label:"Tuesday"},{value:"wednesday",label:"Wednesday"},{value:"thursday",label:"Thursday"},{value:"friday",label:"Friday"},{value:"saturday",label:"Saturday"}],oc=[{key:"registered_onboarded",label:"Registered"},{key:"linked_accounts",label:"Linked Accounts"},{key:"total_advance_applications",label:"Advance Apps"},{key:"total_advance_applicants",label:"Advance Applicants"},{key:"total_micro_financing_applications",label:"Micro Finance Apps"},{key:"total_micro_financing_applicants",label:"Micro Finance Users"},{key:"total_personal_finance_application",label:"Personal Finance Apps"},{key:"total_personal_finance_applicants",label:"Personal Finance Users"},{key:"total_bnpl_applications",label:"BNPL Apps"},{key:"total_bnpl_applicants",label:"BNPL Users"}],TU=()=>{var c,u;const[e,t]=h.useState("all"),{data:n,isLoading:r,error:a}=Me({queryKey:["weekday-performance",e],queryFn:async()=>{const d=new URLSearchParams;if(d.append("view","daily"),e!=="all"){const f={sunday:0,monday:1,tuesday:2,wednesday:3,thursday:4,friday:5,saturday:6};d.append("weekdays",f[e].toString())}const p=await fetch(`/api/analytics/daily-weekly?${d}`);if(!p.ok)throw new Error("Failed to fetch weekday performance data");return p.json()}}),i=d=>new Date(d).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),o=d=>!d||d===0?"-":d.toLocaleString(),l=d=>{var p;return((p=Pw.find(f=>f.value===d))==null?void 0:p.label)||d};return s.jsx(oe,{title:"📅 Weekday Performance Analysis",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(V4,{className:"h-5 w-5 text-gray-600"}),s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Filter by Day:"})]}),s.jsx("select",{value:e,onChange:d=>t(d.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:Pw.map(d=>s.jsx("option",{value:d.value,children:d.label},d.value))})]}),r&&s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),a&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:s.jsxs("p",{className:"text-red-800",children:["Error loading data: ",(a==null?void 0:a.message)||"Unknown error"]})}),n&&n.rows&&n.rows.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(Ht,{className:"h-5 w-5 text-blue-600"}),s.jsx("h4",{className:"font-medium text-blue-900",children:e==="all"?"All Days Performance":`${l(e)} Performance Across Weeks`})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-blue-800",children:[s.jsxs("div",{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Data Points:"})," ",n.rows.length," entries"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Date Range:"})," ",i((c=n.rows[0])==null?void 0:c.date)," to ",i((u=n.rows[n.rows.length-1])==null?void 0:u.date)]})]}),s.jsxs("div",{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"🟢 Green Highlight:"})," Best performance (highest value)"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"🔴 Red Highlight:"})," Worst performance (lowest value)"]})]}),s.jsxs("div",{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Filter:"})," ",e==="all"?"All weekdays":`Only ${l(e)}s`]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Comparison:"})," Week-over-week performance"]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border overflow-hidden",children:[s.jsx("div",{className:"px-4 py-3 bg-gray-50 border-b",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e==="all"?"All Days Performance Data":`${l(e)} Performance Across Weeks`})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider sticky left-0 bg-gray-50 z-10",children:"Date"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Week"}),oc.map(d=>s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[120px]",children:d.label},d.key))]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.rows.map((d,p)=>{const f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900 sticky left-0 bg-white z-10",children:i(d.date)}),s.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[f[d.weekday]," - Week ",d.week]})}),oc.map(m=>{const g=n.rows.map(j=>j[m.key]||0).filter(j=>j>0),x=g.length>0?Math.max(...g):0,w=g.length>0?Math.min(...g):0,v=d[m.key]||0;let y={},b="";return v===x&&v>0?(y={backgroundColor:"#dcfce7",color:"#166534",fontWeight:"bold",border:"2px solid #22c55e"},b=`Best performance for ${m.label} on ${l(e)}s: ${o(v)}`):v===w&&v>0&&g.length>1&&(y={backgroundColor:"#fef2f2",color:"#991b1b",fontWeight:"bold",border:"2px solid #ef4444"},b=`Worst performance for ${m.label} on ${l(e)}s: ${o(v)}`),s.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",style:y,title:b,children:o(v)},m.key)})]},`${d.date}-${p}`)})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(ja,{className:"h-5 w-5 text-green-600"}),s.jsx("h4",{className:"font-medium text-green-900",children:"Best Performance"})]}),s.jsx("div",{className:"space-y-2 text-sm text-green-800",children:oc.slice(0,5).map(d=>{const p=n.rows.map(g=>g[d.key]||0).filter(g=>g>0),f=p.length>0?Math.max(...p):0,m=n.rows.find(g=>g[d.key]===f);return s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:[d.label,":"]}),s.jsxs("span",{className:"font-medium",children:[o(f)," ",m?`(${i(m.date)})`:""]})]},d.key)})})]}),s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(cT,{className:"h-5 w-5 text-red-600"}),s.jsx("h4",{className:"font-medium text-red-900",children:"Worst Performance"})]}),s.jsx("div",{className:"space-y-2 text-sm text-red-800",children:oc.slice(0,5).map(d=>{const p=n.rows.map(g=>g[d.key]||0).filter(g=>g>0),f=p.length>0?Math.min(...p):0,m=n.rows.find(g=>g[d.key]===f);return s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:[d.label,":"]}),s.jsxs("span",{className:"font-medium",children:[o(f)," ",m?`(${i(m.date)})`:""]})]},d.key)})})]})]})]}),n&&(!n.rows||n.rows.length===0)&&!r&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:s.jsx(Ht,{className:"h-8 w-8 text-gray-400"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Data Available"}),s.jsxs("p",{className:"text-gray-500 mb-4",children:["No performance data found for ",e==="all"?"any weekday":l(e),"."]})]})]})})},ZP=h.createContext(void 0),_U=({children:e})=>{const[t,n]=h.useState([{id:"1",channel:"Facebook",currency:"BHD",targetAudience:"Executives in medium to large companies",format:"Static, Video, Carousel",estimatedClicks:435660,cpc:2,netCost:20912},{id:"2",channel:"Instagram",currency:"BHD",targetAudience:"Constant travelers, frequent online shoppers",format:"Stories, Reels, Newsfeed",estimatedClicks:435500,cpc:5,netCost:52260},{id:"3",channel:"LinkedIn",currency:"BHD",targetAudience:"Professionals in large companies",format:"Carousel, Video",estimatedClicks:183740,cpc:4,netCost:17639}]),[r,a]=h.useState([{id:"1",channel:"Facebook",currency:"BHD",targetAudience:"Executives in medium to large companies",format:"Static, Video, Carousel",impressions:435660,frequencyUser:3,frequencyWeek:7,addressableAudience:5e5,percentReach:80,reach:4e5,estImpressions:10455840,netRate:2,netCost:20912},{id:"2",channel:"Instagram",currency:"BHD",targetAudience:"Frequent online shoppers",format:"Stories, Reels, Newsfeed",impressions:435500,frequencyUser:5,frequencyWeek:7,addressableAudience:6e5,percentReach:75,reach:45e4,estImpressions:10452e3,netRate:5,netCost:52260},{id:"3",channel:"LinkedIn",currency:"BHD",targetAudience:"Established professionals, business owners",format:"Carousel, Video",impressions:183740,frequencyUser:4,frequencyWeek:7,addressableAudience:2e5,percentReach:60,reach:12e4,estImpressions:4409760,netRate:4,netCost:17639}]),[i,o]=h.useState(!0),[l,c]=h.useState(!1),u={cpcRows:t,setCpcRows:n,cpmRows:r,setCpmRows:a,cpcTableShownOnBusinessData:i,setCpcTableShownOnBusinessData:o,cpmTableShownOnBusinessData:l,setCpmTableShownOnBusinessData:c};return s.jsx(ZP.Provider,{value:u,children:e})},JP=()=>{const e=h.useContext(ZP);if(e===void 0)throw new Error("useMediaPlan must be used within a MediaPlanProvider");return e},MU=()=>{const{cpcRows:e,cpmRows:t,cpcTableShownOnBusinessData:n,cpmTableShownOnBusinessData:r}=JP();return s.jsxs("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-32 py-8",children:[s.jsx(oe,{children:s.jsxs("div",{className:"py-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2 text-center",children:"Business Data Analytics"}),s.jsx("p",{className:"text-gray-600 text-center",children:"Comprehensive business performance analytics and insights"})]})}),s.jsx("div",{className:"mt-8",children:s.jsx(XP,{})}),s.jsx("div",{className:"mt-8",children:s.jsx(TU,{})}),n&&s.jsx("div",{className:"mt-8",children:s.jsx(oe,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Cost Per Click (CPC) Campaigns"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Channel"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Currency"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Target Audience"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Format"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Est. Clicks"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CPC"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net Cost"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(a=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-3 py-4 text-sm text-gray-900",children:a.channel}),s.jsx("td",{className:"px-3 py-4 text-sm text-gray-900",children:a.currency}),s.jsx("td",{className:"px-3 py-4 text-sm text-gray-900",children:a.targetAudience}),s.jsx("td",{className:"px-3 py-4 text-sm text-gray-900",children:a.format}),s.jsx("td",{className:"px-3 py-4 text-sm text-gray-900",children:a.estimatedClicks.toLocaleString()}),s.jsx("td",{className:"px-3 py-4 text-sm text-gray-900",children:a.cpc.toFixed(2)}),s.jsxs("td",{className:"px-3 py-4 text-sm font-medium text-gray-900",children:[a.netCost.toLocaleString()," ",a.currency]})]},a.id))})]})})]})})}),r&&s.jsx("div",{className:"mt-8",children:s.jsx(oe,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Cost Per Thousand Impressions (CPM) Campaigns"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full table-auto divide-y divide-gray-200 text-sm",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Channel"}),s.jsx("th",{className:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Currency"}),s.jsx("th",{className:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Target Audience"}),s.jsx("th",{className:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Format"}),s.jsx("th",{className:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Impressions"}),s.jsx("th",{className:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"F/User"}),s.jsx("th",{className:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"F/Week"}),s.jsx("th",{className:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Addressable Aud."}),s.jsx("th",{className:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"% Reach"}),s.jsx("th",{className:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reach"}),s.jsx("th",{className:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Est. Impr."}),s.jsx("th",{className:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net Rate"}),s.jsx("th",{className:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net Cost"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(a=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-2 py-3 text-xs text-gray-900",children:a.channel}),s.jsx("td",{className:"px-2 py-3 text-xs text-gray-900",children:a.currency}),s.jsx("td",{className:"px-2 py-3 text-xs text-gray-900",children:a.targetAudience}),s.jsx("td",{className:"px-2 py-3 text-xs text-gray-900",children:a.format}),s.jsx("td",{className:"px-2 py-3 text-xs text-gray-900",children:a.impressions.toLocaleString()}),s.jsx("td",{className:"px-2 py-3 text-xs text-gray-900",children:a.frequencyUser}),s.jsx("td",{className:"px-2 py-3 text-xs text-gray-900",children:a.frequencyWeek}),s.jsx("td",{className:"px-2 py-3 text-xs text-gray-900",children:a.addressableAudience.toLocaleString()}),s.jsxs("td",{className:"px-2 py-3 text-xs text-gray-900",children:[a.percentReach,"%"]}),s.jsx("td",{className:"px-2 py-3 text-xs text-gray-900",children:a.reach.toLocaleString()}),s.jsx("td",{className:"px-2 py-3 text-xs text-gray-900",children:a.estImpressions.toLocaleString()}),s.jsx("td",{className:"px-2 py-3 text-xs text-gray-900",children:a.netRate.toFixed(2)}),s.jsxs("td",{className:"px-2 py-3 text-xs font-medium text-gray-900",children:[a.netCost.toLocaleString()," ",a.currency]})]},a.id))})]})})]})})})]})},Aw=[{key:"registered_onboarded",label:"Registered Onboarded",icon:Et,color:"#3B82F6"},{key:"linked_accounts",label:"Linked Accounts",icon:IN,color:"#10B981"},{key:"total_advance_applications",label:"Total Advance Applications",icon:Se,color:"#F59E0B"},{key:"total_advance_applicants",label:"Total Advance Applicants",icon:Et,color:"#8B5CF6"},{key:"total_micro_financing_applications",label:"Total Micro Financing Applications",icon:Se,color:"#EF4444"},{key:"total_micro_financing_applicants",label:"Total Micro Financing Applicants",icon:Et,color:"#06B6D4"},{key:"total_personal_finance_application",label:"Total Personal Finance Applications",icon:Se,color:"#84CC16"},{key:"total_personal_finance_applicants",label:"Total Personal Finance Applicants",icon:Et,color:"#F97316"}],Ew={getDailyWeeklyAnalysis:async(e,t)=>{const n=new URLSearchParams;e.weeks&&n.append("weeks",e.weeks),e.months&&n.append("months",e.months),e.metric&&n.append("metric",e.metric),e.startDate&&n.append("startDate",e.startDate),e.endDate&&n.append("endDate",e.endDate),e.view&&n.append("view",e.view),e.weekdays&&n.append("weekdays",e.weekdays),n.append("clientId",t);const r=await fetch(`/api/analytics/daily-weekly?${n}`);if(!r.ok)throw new Error("Failed to fetch daily/weekly analysis");return r.json()},getDayNotes:async e=>{const t=await fetch(`/api/notes/day/${e}`);if(!t.ok)throw new Error("Failed to fetch day notes");return t.json()},getAllNotes:async()=>{const e=await fetch("/api/notes");if(!e.ok)throw new Error("Failed to fetch notes");return e.json()}},DU=({notes:e,selectedMonths:t,selectedWeeks:n,analysisView:r})=>{console.log("NotesSection Props:",{notes:e,selectedMonths:t,selectedWeeks:n,analysisView:r});const a=e.filter(l=>{if(!l.date)return console.log("Note missing date:",l),!1;try{const c=new Date(l.date);if(isNaN(c.getTime()))return console.log("Invalid note date:",l.date),!1;if(t.includes("all"))return console.log('Showing note because "all" months selected:',l),!0;const u=c.getFullYear(),d=String(c.getMonth()+1).padStart(2,"0"),p=`${u}-${d}`,f=t.includes(p);if(console.log("Month match check:",{noteDate:l.date,noteMonth:p,selectedMonths:t,monthMatch:f}),!f)return!1;if(r==="weekly"){if(n.includes("all"))return!0;const m=c.getFullYear(),g=new Date(m,0,1),x=Math.floor((c.getTime()-g.getTime())/(24*60*60*1e3)),w=Math.ceil((x+g.getDay()+1)/7),v=`${m}-W${w}`,y=n.includes(v);return console.log("Week match check:",{weekString:v,selectedWeeks:n,weekMatch:y}),y}return!0}catch(c){return console.error("Error processing note date:",l.date,c),!1}});if(console.log("Filtered notes:",a),a.length===0)return s.jsxs("div",{className:"text-gray-500 text-center py-8",children:[s.jsx("p",{children:"No notes found for the selected time period."}),s.jsxs("p",{className:"text-xs mt-2",children:["Total notes available: ",e.length]}),s.jsxs("p",{className:"text-xs",children:["Selected months: ",t.join(", ")]}),s.jsxs("p",{className:"text-xs",children:["Selected weeks: ",n.join(", ")]}),s.jsxs("p",{className:"text-xs",children:["Analysis view: ",r]}),e.length>0&&s.jsxs("details",{className:"mt-4 text-left",children:[s.jsx("summary",{className:"cursor-pointer",children:"Show all notes (debug)"}),s.jsx("pre",{className:"text-xs bg-gray-100 p-2 rounded mt-2 max-h-40 overflow-y-auto",children:JSON.stringify(e,null,2)})]})]});const i=a.reduce((l,c)=>{const u=c.date;return l[u]||(l[u]=[]),l[u].push(c),l},{}),o=Object.keys(i).sort((l,c)=>new Date(c).getTime()-new Date(l).getTime());return s.jsx("div",{className:"space-y-4",children:o.map(l=>s.jsxs("div",{className:"border-l-4 border-blue-500 pl-4 py-2 bg-blue-50 rounded-r-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:new Date(l).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),s.jsxs("span",{className:"text-sm text-blue-600 bg-blue-100 px-2 py-1 rounded-full",children:[i[l].length," note",i[l].length>1?"s":""]})]}),s.jsx("div",{className:"space-y-2",children:i[l].map((c,u)=>s.jsxs("div",{className:"bg-white p-3 rounded border border-gray-200",children:[s.jsx("h5",{className:"font-medium text-gray-800 mb-1",children:c.title}),c.content&&s.jsx("p",{className:"text-gray-600 text-sm",children:c.content}),c.created_at&&s.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Added: ",new Date(c.created_at).toLocaleString()]})]},c.id||u))})]},l))})},$U=()=>{var U,O,W;const{selectedClient:e}=vi(),[t,n]=h.useState(["all"]),[r,a]=h.useState(["all"]),[i,o]=h.useState("total_advance_applicants"),[l,c]=h.useState("bar"),[u,d]=h.useState("weekly"),[p,f]=h.useState([0,1,2,3,4,5,6]),[m,g]=h.useState({from:"",to:""}),[x,w]=h.useState({from:"",to:""}),{data:v,isLoading:y,error:b}=Me({queryKey:["daily-weekly-analysis",t,r,i,u,p,m,e==null?void 0:e.id],queryFn:()=>e!=null&&e.id?Ew.getDailyWeeklyAnalysis({weeks:t.includes("all")?"all":t.join(","),months:r.includes("all")?void 0:r.join(","),metric:i,view:u,weekdays:p.length===7?void 0:p.join(","),startDate:m.from||void 0,endDate:m.to||void 0},e.id).then(A=>{var K,V;return console.log("API Response:",A),console.log("Rows count:",(K=A==null?void 0:A.rows)==null?void 0:K.length),console.log("First few rows:",(V=A==null?void 0:A.rows)==null?void 0:V.slice(0,3)),A}):null,enabled:!!(e!=null&&e.id)}),{data:j}=Me({queryKey:["all-notes"],queryFn:()=>Ew.getAllNotes()}),S=A=>j!=null&&j.notes?j.notes.filter(K=>new Date(K.date).toISOString().split("T")[0]===A):[],k=A=>S(A).length>0,C=A=>j!=null&&j.notes?j.notes.filter(K=>{const V=new Date(K.date),H=V.getFullYear(),Y=Math.ceil((V.getDate()+new Date(H,V.getMonth(),1).getDay())/7),le=V.getMonth()+1;return`${H}-${String(le).padStart(2,"0")}-W${Y}`===A}):[],E=A=>{const{cx:K,cy:V,payload:H}=A;if(!H||!K||!V||!H.date)return null;let Y=!1;try{const le=new Date(H.date);if(!isNaN(le.getTime())){const qe=le.toISOString().split("T")[0];Y=k(qe)}}catch{console.warn("Invalid date in CustomDot payload:",H.date)}return s.jsxs("g",{children:[s.jsx("circle",{cx:K,cy:V,r:3,fill:A.fill||A.stroke,stroke:Y?"#F59E0B":A.stroke,strokeWidth:Y?2:1}),Y&&s.jsx("text",{x:K,y:V-8,textAnchor:"middle",fontSize:"10",fill:"#F59E0B",children:"📝"})]})},R=A=>{const{name:K,value:V}=A.target;w(H=>({...H,[K]:V}))},M=()=>{g(x)},N=A=>{f(K=>{if(K.includes(A)){const V=K.filter(H=>H!==A);return V.length===0?[0,1,2,3,4,5,6]:V}else return[...K,A].sort()})},T=A=>{n(A==="all"?["all"]:K=>{const V=K.filter(H=>H!=="all");if(V.includes(A)){const H=V.filter(Y=>Y!==A);return H.length===0?["all"]:H}else return[...V,A]})},I=A=>{a(A==="all"?["all"]:K=>{const V=K.filter(H=>H!=="all");if(V.includes(A)){const H=V.filter(Y=>Y!==A);return H.length===0?["all"]:H}else return[...V,A]})},F=A=>A>=1e6?`${(A/1e6).toFixed(1)}M`:A>=1e3?`${(A/1e3).toFixed(1)}K`:A.toString(),_=A=>["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][A];if(y)return s.jsx(oe,{className:"p-6",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),s.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})});if(b)return s.jsx(oe,{className:"p-6",children:s.jsxs("div",{className:"text-center text-red-600",children:[s.jsx("p",{className:"font-semibold",children:"Error loading daily/weekly analysis"}),s.jsx("p",{className:"text-sm",children:b instanceof Error?b.message:"Unknown error occurred"})]})});if(console.log("=== DEBUGGING DATA ==="),console.log("Full data object:",v),console.log("data.rows exists?",!!(v!=null&&v.rows)),console.log("data.rows length:",(U=v==null?void 0:v.rows)==null?void 0:U.length),console.log("analysisView:",u),console.log("selectedMetric:",i),console.log("Chart type:",l),console.log("======================"),!v||!v.rows||v.rows.length===0)return s.jsx(oe,{className:"p-6",children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx(Ht,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"font-semibold",children:"No Data Available"}),s.jsx("p",{className:"text-sm",children:"No daily/weekly data found for the selected criteria."})]})});const D=Aw.find(A=>A.key===i),$=(D==null?void 0:D.icon)||Ga,z=v.weekday_breakdown||[];return Math.max(...z.map(A=>A.avg_value)),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:s.jsx(Ht,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Daily & Weekly Analysis"}),s.jsx("p",{className:"text-gray-600",children:"Detailed breakdown with week filters and daily insights"})]})]}),s.jsxs(oe,{className:"p-6",children:[s.jsxs("div",{className:"mb-4 flex gap-4 items-center",children:[s.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["From:",s.jsx("input",{type:"date",name:"from",value:x.from,onChange:R,className:"ml-2 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",max:x.to||void 0})]}),s.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["To:",s.jsx("input",{type:"date",name:"to",value:x.to,onChange:R,className:"ml-2 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",min:x.from||void 0})]}),s.jsx("button",{className:"ml-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50",onClick:M,disabled:!x.from||!x.to,children:"Apply Range"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"View Type"}),s.jsxs("select",{value:u,onChange:A=>d(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"weekly",children:"Weekly Breakdown"}),s.jsx("option",{value:"daily",children:"Daily Analysis"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Metric"}),s.jsx("select",{value:i,onChange:A=>o(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:Aw.map(A=>s.jsx("option",{value:A.key,children:A.label},A.key))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chart Type"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>c("bar"),className:`p-2 rounded ${l==="bar"?"bg-blue-500 text-white":"bg-gray-200"}`,title:"Bar Chart",children:s.jsx(Ga,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>c("line"),className:`p-2 rounded ${l==="line"?"bg-blue-500 text-white":"bg-gray-200"}`,title:"Line Chart",children:s.jsx(Y4,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Weeks"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:t.includes("all"),onChange:()=>T("all"),className:"mr-2"}),"All Weeks"]}),[1,2,3,4].map(A=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:t.includes(A.toString()),onChange:()=>T(A.toString()),className:"mr-2"}),"Week ",A]},A))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Months"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:r.includes("all"),onChange:()=>I("all"),className:"mr-2"}),"All Months"]}),(O=v.available_months)==null?void 0:O.map(A=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:r.includes(A),onChange:()=>I(A),className:"mr-2"}),A]},A))]})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Filter by Days of the Week"}),s.jsx("div",{className:"grid grid-cols-7 gap-2",children:[{day:0,name:"Sunday",short:"Sun",color:"bg-purple-100 border-purple-300 text-purple-800"},{day:1,name:"Monday",short:"Mon",color:"bg-blue-100 border-blue-300 text-blue-800"},{day:2,name:"Tuesday",short:"Tue",color:"bg-green-100 border-green-300 text-green-800"},{day:3,name:"Wednesday",short:"Wed",color:"bg-yellow-100 border-yellow-300 text-yellow-800"},{day:4,name:"Thursday",short:"Thu",color:"bg-orange-100 border-orange-300 text-orange-800"},{day:5,name:"Friday",short:"Fri",color:"bg-red-100 border-red-300 text-red-800"},{day:6,name:"Saturday",short:"Sat",color:"bg-pink-100 border-pink-300 text-pink-800"}].map(A=>s.jsxs("label",{className:`
                  flex flex-col items-center p-2 border-2 rounded-lg cursor-pointer transition-all text-center
                  ${p.includes(A.day)?`${A.color} border-opacity-100 shadow-md scale-105`:"bg-gray-50 border-gray-200 text-gray-600 hover:bg-gray-100"}
                `,children:[s.jsx("input",{type:"checkbox",checked:p.includes(A.day),onChange:()=>N(A.day),className:"sr-only"}),s.jsx("div",{className:"text-xs font-bold",children:A.short}),s.jsx("div",{className:"text-xs",children:A.name})]},A.day))}),s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:["Selected: ",p.length===7?"All days":p.map(A=>["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][A]).join(", ")]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>f([0,1,2,3,4,5,6]),className:"text-xs px-2 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"All Days"}),s.jsx("button",{onClick:()=>f([1,2,3,4,5]),className:"text-xs px-2 py-1 bg-blue-200 text-blue-700 rounded hover:bg-blue-300",children:"Weekdays"}),s.jsx("button",{onClick:()=>f([5,6]),className:"text-xs px-2 py-1 bg-purple-200 text-purple-700 rounded hover:bg-purple-300",children:"Weekends"})]})]})]})]}),s.jsxs(oe,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx($,{className:"h-6 w-6",style:{color:D==null?void 0:D.color}}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold",children:[u==="weekly"?"Weekly":"Daily"," ",D==null?void 0:D.label]}),p.length<7&&s.jsxs("p",{className:"text-sm text-gray-500",children:["Filtered by: ",p.map(A=>["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][A]).join(", ")]})]})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[((W=v==null?void 0:v.rows)==null?void 0:W.length)||0," ",u==="weekly"?"weeks":"days"," • ",t.includes("all")?"All weeks":`Week ${t.join(", ")}`," • ",r.includes("all")?"All months":r.join(", ")]})]}),l==="line"&&u==="daily"&&s.jsx("div",{className:"flex flex-wrap justify-center mb-4 gap-4",children:[{name:"Sunday",color:"#ef4444",day:0},{name:"Monday",color:"#f97316",day:1},{name:"Tuesday",color:"#eab308",day:2},{name:"Wednesday",color:"#22c55e",day:3},{name:"Thursday",color:"#3b82f6",day:4},{name:"Friday",color:"#8b5cf6",day:5},{name:"Saturday",color:"#ec4899",day:6}].filter(A=>p.includes(A.day)).map(A=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:A.color}}),s.jsx("span",{className:"text-sm text-gray-600",children:A.name})]},A.name))}),s.jsx("div",{className:"h-80",children:s.jsx(Wx,{width:"100%",height:"100%",children:l==="line"?s.jsxs(GP,{data:(()=>{if(console.log("Line chart data check:",v),console.log("data.rows:",v==null?void 0:v.rows),!(v!=null&&v.rows)||v.rows.length===0)return[];const A=u==="daily";if(console.log("Using dateKey:",A?"date":"week","for view:",u),A){const V=Array.from(new Set(v.rows.map(Y=>Y.date))).sort();console.log("All dates:",V);const H=V.map(Y=>{const le={date:Y},qe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return p.forEach(G=>{le[qe[G]]=null}),v.rows.filter(G=>G.date===Y&&p.includes(G.weekday)).forEach(G=>{const ie=qe[G.weekday];le[ie]=G.value}),le});return console.log("Daily chart data:",H),H}else return console.log("Weekly chart data:",v.rows),v.rows})(),children:[s.jsx(hs,{strokeDasharray:"3 3"}),s.jsx(gs,{dataKey:u==="daily"?"date":"week",tick:{fontSize:12},tickFormatter:A=>{if(u==="daily"){const K=new Date(A);return`${K.getMonth()+1}/${K.getDate()}`}else return A},angle:-45,textAnchor:"end",height:60}),s.jsx(xs,{tick:{fontSize:12}}),s.jsx(el,{formatter:(A,K)=>A==null?[null,""]:[F(A),K],labelFormatter:A=>{if(u==="daily")try{const K=new Date(A);if(isNaN(K.getTime()))return A;{const V=K.toISOString().split("T")[0],H=S(V),Y=H.length>0?`
📝 ${H.length} note(s): ${H.map(le=>le.title).join(", ")}`:"";return`${K.toLocaleDateString()}${Y}`}}catch{return console.warn("Invalid date in tooltip label:",A),A}else{const K=C(A),V=K.length>0?`
📝 ${K.length} note(s) this week`:"";return`${A}${V}`}},content:({active:A,payload:K,label:V})=>{if(!A||!K||!K.length)return null;let H=[];if(u==="daily")try{const Y=new Date(V);if(!isNaN(Y.getTime())){const le=Y.toISOString().split("T")[0];H=S(le)}}catch{console.warn("Invalid date in line chart tooltip:",V)}else H=C(V);return s.jsxs("div",{className:"bg-white p-3 border border-gray-300 rounded shadow-lg max-w-xs",children:[s.jsx("p",{className:"font-medium text-gray-900",children:u==="daily"?(()=>{try{const Y=new Date(V);return isNaN(Y.getTime())?V:Y.toLocaleDateString()}catch{return V}})():V}),K.map((Y,le)=>s.jsxs("p",{className:"text-sm",style:{color:Y.color},children:[Y.name,": ",F(Y.value)]},le)),H.length>0&&s.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200",children:[s.jsxs("p",{className:"text-xs font-medium text-gray-700 mb-1",children:["📝 Notes (",H.length,"):"]}),H.slice(0,2).map((Y,le)=>s.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:[s.jsx("span",{className:"font-medium",children:Y.title}),Y.content&&s.jsxs("p",{className:"truncate max-w-48",children:[Y.content.substring(0,80),"..."]})]},le)),H.length>2&&s.jsxs("p",{className:"text-xs text-gray-500",children:["+ ",H.length-2," more..."]})]})]})}}),u==="daily"?s.jsxs(s.Fragment,{children:[p.includes(0)&&s.jsx(Xn,{type:"monotone",dataKey:"Sunday",stroke:"#ef4444",strokeWidth:2,dot:s.jsx(E,{fill:"#ef4444",stroke:"#ef4444"}),connectNulls:!0}),p.includes(1)&&s.jsx(Xn,{type:"monotone",dataKey:"Monday",stroke:"#f97316",strokeWidth:2,dot:s.jsx(E,{fill:"#f97316",stroke:"#f97316"}),connectNulls:!0}),p.includes(2)&&s.jsx(Xn,{type:"monotone",dataKey:"Tuesday",stroke:"#eab308",strokeWidth:2,dot:s.jsx(E,{fill:"#eab308",stroke:"#eab308"}),connectNulls:!0}),p.includes(3)&&s.jsx(Xn,{type:"monotone",dataKey:"Wednesday",stroke:"#22c55e",strokeWidth:2,dot:s.jsx(E,{fill:"#22c55e",stroke:"#22c55e"}),connectNulls:!0}),p.includes(4)&&s.jsx(Xn,{type:"monotone",dataKey:"Thursday",stroke:"#3b82f6",strokeWidth:2,dot:s.jsx(E,{fill:"#3b82f6",stroke:"#3b82f6"}),connectNulls:!0}),p.includes(5)&&s.jsx(Xn,{type:"monotone",dataKey:"Friday",stroke:"#8b5cf6",strokeWidth:2,dot:s.jsx(E,{fill:"#8b5cf6",stroke:"#8b5cf6"}),connectNulls:!0}),p.includes(6)&&s.jsx(Xn,{type:"monotone",dataKey:"Saturday",stroke:"#ec4899",strokeWidth:2,dot:s.jsx(E,{fill:"#ec4899",stroke:"#ec4899"}),connectNulls:!0})]}):s.jsx(Xn,{type:"monotone",dataKey:"value",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",strokeWidth:2,r:4}})]}):s.jsxs(rv,{data:v.rows,children:[s.jsx(hs,{strokeDasharray:"3 3"}),s.jsx(gs,{dataKey:u==="weekly"?"week":"date",tick:{fontSize:12},tickFormatter:u==="daily"?A=>{const K=new Date(A);return`${K.getMonth()+1}/${K.getDate()} (${_(K.getDay()).slice(0,3)})`}:void 0,angle:u==="daily"?-45:0,textAnchor:u==="daily"?"end":"middle",height:u==="daily"?60:30}),s.jsx(xs,{tick:{fontSize:12}}),s.jsx(el,{content:({active:A,payload:K,label:V})=>{if(!A||!K||!K.length)return null;let H=[];if(u==="daily")try{const Y=new Date(V);if(!isNaN(Y.getTime())){const le=Y.toISOString().split("T")[0];H=S(le)}}catch{console.warn("Invalid date in bar chart tooltip:",V)}else H=C(V);return s.jsxs("div",{className:"bg-white p-3 border border-gray-300 rounded shadow-lg max-w-xs",children:[s.jsx("p",{className:"font-medium text-gray-900",children:u==="daily"?(()=>{try{const Y=new Date(V);return isNaN(Y.getTime())?V:`${Y.toLocaleDateString()} (${_(Y.getDay())})`}catch{return V}})():`${u==="weekly"?"Week":"Date"}: ${V}`}),K.map((Y,le)=>s.jsxs("p",{className:"text-sm",style:{color:Y.color},children:[Y.name||(D==null?void 0:D.label),": ",F(Y.value)]},le)),H.length>0&&s.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200",children:[s.jsxs("p",{className:"text-xs font-medium text-gray-700 mb-1",children:["📝 Notes (",H.length,"):"]}),H.slice(0,2).map((Y,le)=>s.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:[s.jsx("span",{className:"font-medium",children:Y.title}),Y.content&&s.jsxs("p",{className:"truncate max-w-48",children:[Y.content.substring(0,80),"..."]})]},le)),H.length>2&&s.jsxs("p",{className:"text-xs text-gray-500",children:["+ ",H.length-2," more..."]})]})]})}}),s.jsx(up,{dataKey:"value",fill:D==null?void 0:D.color,radius:[4,4,0,0],shape:A=>{const{payload:K}=A;let V=!1;if(u==="daily"&&K&&K.date)try{const H=new Date(K.date);if(!isNaN(H.getTime())){const Y=H.toISOString().split("T")[0];V=k(Y)}}catch{console.warn("Invalid date in payload:",K.date)}else u==="weekly"&&K&&K.week&&(V=C(K.week).length>0);return s.jsxs("g",{children:[s.jsx("rect",{...A,style:{...A.style,stroke:V?"#F59E0B":"none",strokeWidth:V?3:0}}),V&&s.jsx("text",{x:A.x+A.width/2,y:A.y-5,textAnchor:"middle",fontSize:"12",fill:"#F59E0B",children:"📝"})]})}})]})})}),u==="daily"&&v.rows.length>0&&s.jsxs("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[s.jsx("div",{className:"text-sm font-medium text-blue-800",children:"Total Days"}),s.jsx("div",{className:"text-lg font-bold text-blue-900",children:v.rows.length})]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[s.jsx("div",{className:"text-sm font-medium text-green-800",children:"Best Day"}),s.jsx("div",{className:"text-lg font-bold text-green-900",children:(()=>{const A=v.rows.reduce((V,H)=>H.value>V.value?H:V),K=new Date(A.date);return _(K.getDay()).slice(0,3)})()}),s.jsx("div",{className:"text-xs text-green-600",children:F(Math.max(...v.rows.map(A=>A.value)))})]}),s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[s.jsx("div",{className:"text-sm font-medium text-red-800",children:"Lowest Day"}),s.jsx("div",{className:"text-lg font-bold text-red-900",children:(()=>{const A=v.rows.reduce((V,H)=>H.value<V.value?H:V),K=new Date(A.date);return _(K.getDay()).slice(0,3)})()}),s.jsx("div",{className:"text-xs text-red-600",children:F(Math.min(...v.rows.map(A=>A.value)))})]}),s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[s.jsx("div",{className:"text-sm font-medium text-gray-800",children:"Average"}),s.jsx("div",{className:"text-lg font-bold text-gray-900",children:F(v.rows.reduce((A,K)=>A+K.value,0)/v.rows.length)})]})]})]}),u==="weekly"&&v.weekly_summary&&s.jsxs(oe,{className:"p-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Weekly Performance Summary"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ja,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-800",children:"Best Week"}),s.jsxs("p",{className:"text-lg font-bold text-green-900",children:["Week ",v.weekly_summary.best_week.week]}),s.jsx("p",{className:"text-xs text-green-600",children:F(v.weekly_summary.best_week.value)})]})]})}),s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(DN,{className:"h-5 w-5 text-red-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-800",children:"Worst Week"}),s.jsxs("p",{className:"text-lg font-bold text-red-900",children:["Week ",v.weekly_summary.worst_week.week]}),s.jsx("p",{className:"text-xs text-red-600",children:F(v.weekly_summary.worst_week.value)})]})]})}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ga,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Average"}),s.jsx("p",{className:"text-lg font-bold text-blue-900",children:F(v.weekly_summary.avg_value)}),s.jsxs("p",{className:"text-xs text-blue-600",children:["across ",v.weekly_summary.total_weeks," weeks"]})]})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mt-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:"📝 Notes for Selected Period"}),s.jsx(DU,{notes:(j==null?void 0:j.notes)||[],selectedMonths:r,selectedWeeks:t,analysisView:u})]})]})},Ow=[{key:"registered_onboarded",label:"Registered Onboarded",icon:Se,color:"#3B82F6"},{key:"linked_accounts",label:"Linked Accounts",icon:Se,color:"#10B981"},{key:"total_advance_applications",label:"Total Advance Applications",icon:Se,color:"#F59E0B"},{key:"total_advance_applicants",label:"Total Advance Applicants",icon:Se,color:"#8B5CF6"},{key:"total_micro_financing_applications",label:"Total Micro Financing Applications",icon:Se,color:"#EF4444"},{key:"total_micro_financing_applicants",label:"Total Micro Financing Applicants",icon:Se,color:"#06B6D4"},{key:"total_personal_finance_application",label:"Total Personal Finance Applications",icon:Se,color:"#84CC16"},{key:"total_personal_finance_applicants",label:"Total Personal Finance Applicants",icon:Se,color:"#F97316"}],Tw={getBestMonth:async e=>{const t=new URLSearchParams;e.metric&&t.append("metric",e.metric),e.weeks&&t.append("weeks",e.weeks);const n=await fetch(`/api/analytics/best-month?${t}`);if(!n.ok)throw new Error("Failed to fetch best month analysis");return n.json()},getAllNotes:async()=>{const e=await fetch("/api/notes");if(!e.ok)throw new Error("Failed to fetch notes");return e.json()}},IU=({notes:e})=>{if(e.length===0)return s.jsx("div",{className:"text-gray-500 text-center py-8",children:"No notes found in your data."});const t=e.reduce((r,a)=>{const i=a.date;return r[i]||(r[i]=[]),r[i].push(a),r},{}),n=Object.keys(t).sort((r,a)=>new Date(a).getTime()-new Date(r).getTime());return s.jsx("div",{className:"space-y-4",children:n.map(r=>s.jsxs("div",{className:"border-l-4 border-blue-500 pl-4 py-2 bg-blue-50 rounded-r-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:new Date(r).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),s.jsxs("span",{className:"text-sm text-blue-600 bg-blue-100 px-2 py-1 rounded-full",children:[t[r].length," note",t[r].length>1?"s":""]})]}),s.jsx("div",{className:"space-y-2",children:t[r].map((a,i)=>s.jsxs("div",{className:"bg-white p-3 rounded border border-gray-200",children:[s.jsx("h5",{className:"font-medium text-gray-800 mb-1",children:a.title}),a.content&&s.jsx("p",{className:"text-gray-600 text-sm",children:a.content}),a.created_at&&s.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Added: ",new Date(a.created_at).toLocaleString()]})]},a.id||i))})]},r))})},RU=()=>{var y;const[e,t]=h.useState("total_advance_applicants"),[n,r]=h.useState("all"),[a,i]=h.useState(!1),[o,l]=h.useState("leaderboard"),{data:c,isLoading:u,error:d}=Me({queryKey:["best-month",e,n],queryFn:()=>Tw.getBestMonth({metric:e,weeks:n})}),{data:p}=Me({queryKey:["all-notes"],queryFn:()=>Tw.getAllNotes()}),f=((y=c==null?void 0:c.scores)==null?void 0:y.map(b=>({month:b.month,score:b.score,value:b.value,rank:b.rank})))||[],m=Ow.find(b=>b.key===e),g=b=>b>=1e6?(b/1e6).toFixed(1)+"M":b>=1e3?(b/1e3).toFixed(1)+"K":b.toLocaleString(),x=b=>{switch(b){case 1:return s.jsx(Ry,{className:"h-6 w-6 text-yellow-500"});case 2:return s.jsx(J4,{className:"h-6 w-6 text-gray-400"});case 3:return s.jsx(z4,{className:"h-6 w-6 text-orange-400"});default:return s.jsx(lT,{className:"h-4 w-4 text-gray-300"})}},w=b=>{switch(b){case 1:return"from-yellow-50 to-yellow-100 border-yellow-200";case 2:return"from-gray-50 to-gray-100 border-gray-200";case 3:return"from-orange-50 to-orange-100 border-orange-200";default:return"from-gray-50 to-gray-50 border-gray-200"}},v=()=>{var S,k,C;if(!(c!=null&&c.winner))return[];const b=c.winner,j=[];if(b.score>.8&&j.push({type:"success",title:"Replicate Success Factors",description:`${b.month} achieved exceptional performance. Analyze and replicate the strategies, campaigns, and conditions that led to this success.`}),((S=c.scores)==null?void 0:S.length)>3){const E=c.scores.filter(R=>R.score>.6).length;E>=3&&j.push({type:"strategy",title:"Build on Consistent Performance",description:`You have ${E} months with strong performance. Focus on maintaining consistency while optimizing peak periods.`})}return((C=(k=c.explain)==null?void 0:k.weights)==null?void 0:C.stability)>.2&&j.push({type:"optimization",title:"Stability-Focused Growth",description:"Your scoring factors in performance stability. Consider implementing more predictable, sustainable growth strategies."}),j};return s.jsxs(oe,{title:"🏆 Best Month Analysis - Top Performing Periods",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Metric"}),s.jsx("select",{value:e,onChange:b=>t(b.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:Ow.map(b=>s.jsx("option",{value:b.key,children:b.label},b.key))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Include Weeks"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:["all","1","2","3","4","5"].map(b=>s.jsx("button",{onClick:()=>r(b),className:`px-2 py-1 rounded text-xs font-medium transition-colors ${n===b?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:b==="all"?"All":`W${b}`},b))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"View Mode"}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>l("leaderboard"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${o==="leaderboard"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Leaderboard"}),s.jsx("button",{onClick:()=>l("analysis"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${o==="analysis"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Analysis"})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),className:"flex items-center space-x-2 text-sm text-gray-600 hover:text-gray-800 border border-gray-300 rounded-md px-3 py-2",children:[s.jsx(zy,{className:"h-4 w-4"}),s.jsx("span",{children:"Scoring Info"})]}),a&&(c==null?void 0:c.explain)&&s.jsxs("div",{className:"absolute bottom-full mb-2 right-0 bg-gray-900 text-white text-xs rounded-lg py-2 px-3 whitespace-nowrap z-10",children:[s.jsxs("div",{children:["Method: ",c.explain.method]}),s.jsxs("div",{children:["Volume: ",c.explain.weights.volume*100,"% | Stability: ",c.explain.weights.stability*100,"%"]})]})]})})]}),u&&s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),d&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:s.jsxs("p",{className:"text-red-800",children:["Error loading data: ",(d==null?void 0:d.message)||"Unknown error"]})}),c&&c.scores&&c.scores.length>0&&m?s.jsxs(s.Fragment,{children:[c.winner&&s.jsx("div",{className:`bg-gradient-to-r ${w(1)} border rounded-xl p-6`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"p-3 bg-yellow-500 rounded-full",children:s.jsx(Ry,{className:"h-8 w-8 text-white"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-bold text-yellow-800",children:["🎉 Champion: ",c.winner.month]}),s.jsxs("p",{className:"text-yellow-700 text-lg",children:["Score: ",c.winner.score," | Performance: ",g(c.winner.value)," ",m.label.toLowerCase()]}),s.jsx("p",{className:"text-sm text-yellow-600 mt-1",children:"Outstanding performance with optimal balance of volume and consistency"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-3xl font-bold text-yellow-800",children:"#1"}),s.jsxs("div",{className:"text-sm text-yellow-600",children:["of ",c.scores.length," months"]})]})]})}),o==="leaderboard"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:c.scores.slice(0,3).map((b,j)=>s.jsxs("div",{className:`bg-gradient-to-r ${w(b.rank)} border rounded-lg p-6 ${b.rank===1?"transform scale-105":""}`,children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[x(b.rank),s.jsxs("div",{children:[s.jsxs("div",{className:"text-lg font-bold text-gray-900",children:["#",b.rank]}),s.jsx("div",{className:"text-sm text-gray-600",children:b.rank===1?"Champion":b.rank===2?"Runner-up":"Third Place"})]})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-xl font-bold text-gray-900",children:b.month}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Score"}),s.jsx("span",{className:"font-medium",children:b.score})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Volume"}),s.jsx("span",{className:"font-medium",children:g(b.value)})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-3",children:s.jsx("div",{className:`h-2 rounded-full ${b.rank===1?"bg-yellow-500":b.rank===2?"bg-gray-400":"bg-orange-400"}`,style:{width:`${b.score*100}%`}})})]})]},b.month))}),o==="analysis"&&s.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Performance Score Distribution"}),s.jsxs("div",{className:"text-sm text-gray-500",children:[n==="all"?"All weeks":`Week ${n}`," • ",c.scores.length," months"]})]}),s.jsx("div",{className:"h-80",children:s.jsx(Wx,{width:"100%",height:"100%",children:s.jsxs(rv,{data:f,children:[s.jsx(hs,{strokeDasharray:"3 3"}),s.jsx(gs,{dataKey:"month",tick:{fontSize:12},angle:-45,textAnchor:"end",height:60}),s.jsx(xs,{tick:{fontSize:12},domain:[0,1]}),s.jsx(el,{formatter:(b,j)=>[j==="score"?`${(b*100).toFixed(1)}%`:g(b),j==="score"?"Performance Score":"Volume"],labelFormatter:b=>`Month: ${b}`}),s.jsx(up,{dataKey:"score",fill:m.color,radius:[4,4,0,0]})]})})})]}),s.jsxs("div",{className:"bg-white rounded-lg border overflow-hidden",children:[s.jsx("div",{className:"px-4 py-3 bg-gray-50 border-b",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Complete Rankings & Performance Metrics"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Month"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Performance Score"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Volume"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Achievement"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Performance Level"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.scores.map((b,j)=>{const S=b.score*100,k=S>=80?"Excellent":S>=60?"Good":S>=40?"Average":"Needs Improvement",C=S>=80?"text-green-800 bg-green-100":S>=60?"text-blue-800 bg-blue-100":S>=40?"text-yellow-800 bg-yellow-100":"text-red-800 bg-red-100";return s.jsxs("tr",{className:b.rank<=3?"bg-gray-50":"bg-white",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[x(b.rank),s.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["#",b.rank]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[b.month,b.rank===1&&s.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"🏆 Champion"})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[S.toFixed(1),"%"]}),s.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${S}%`}})})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:g(b.value)}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[b.rank===1&&s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"� Best Overall"}),b.rank===2&&s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"🥈 Runner-up"}),b.rank===3&&s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"🥉 Third Place"}),b.rank>3&&S>=70&&s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"⭐ Strong Performer"})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${C}`,children:k})})]},b.month)})})]})})]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:s.jsx(ja,{className:"h-5 w-5 text-white"})}),s.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"Strategic Recommendations"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:v().map((b,j)=>s.jsx("div",{className:"bg-white rounded-lg p-4 border border-blue-100",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${b.type==="success"?"bg-green-100 text-green-600":b.type==="strategy"?"bg-blue-100 text-blue-600":"bg-orange-100 text-orange-600"}`,children:s.jsx(Se,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-gray-900 mb-1",children:b.title}),s.jsx("p",{className:"text-sm text-gray-600",children:b.description})]})]})},j))})]}),c.explain&&s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center space-x-2",children:[s.jsx(zy,{className:"h-4 w-4"}),s.jsx("span",{children:"Scoring Methodology"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[s.jsxs("div",{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Method:"})," ",c.explain.method.charAt(0).toUpperCase()+c.explain.method.slice(1)," normalization"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Factors:"})," Volume performance + Consistency stability"]})]}),s.jsxs("div",{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Volume Weight:"})," ",(c.explain.weights.volume*100).toFixed(0),"% of total score"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Stability Weight:"})," ",(c.explain.weights.stability*100).toFixed(0),"% of total score"]})]}),s.jsxs("div",{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Formula:"})," ",c.explain.notes]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Data Points:"})," ",c.scores.length," months analyzed"]})]})]})]})]}):!u&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:s.jsx(uT,{className:"h-8 w-8 text-gray-400"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Performance Data Available"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Import your financial data to identify top performing months and get strategic insights."}),s.jsx("button",{className:"bg-blue-500 text-white px-6 py-2 rounded-md hover:bg-blue-600 transition-colors",children:"Go to Data Import"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mt-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:"📝 All Notes"}),s.jsx(IU,{notes:(p==null?void 0:p.notes)||[]})]})]})},_w=[{key:"registered_onboarded",label:"Registered Onboarded",icon:Et,color:"#3B82F6"},{key:"linked_accounts",label:"Linked Accounts",icon:Se,color:"#10B981"},{key:"total_advance_applications",label:"Total Advance Applications",icon:Bp,color:"#F59E0B"},{key:"total_advance_applicants",label:"Total Advance Applicants",icon:Et,color:"#8B5CF6"},{key:"total_micro_financing_applications",label:"Total Micro Financing Applications",icon:Bp,color:"#EF4444"},{key:"total_micro_financing_applicants",label:"Total Micro Financing Applicants",icon:Et,color:"#06B6D4"},{key:"total_personal_finance_application",label:"Total Personal Finance Applications",icon:Bp,color:"#84CC16"},{key:"total_personal_finance_applicants",label:"Total Personal Finance Applicants",icon:Et,color:"#F97316"}],LU={high:"border-red-200 bg-red-50",medium:"border-yellow-200 bg-yellow-50",low:"border-green-200 bg-green-50"},FU={opportunity:ja,risk:Zn,timing:xi,channel:Se,creative:gg},zU={getStrategyAdvisor:async e=>{const t=new URLSearchParams;e.metric&&t.append("metric",e.metric),e.weeks&&t.append("weeks",e.weeks),e.months&&t.append("months",e.months);const n=await fetch(`/api/analytics/strategy-advisor?${t}`);if(!n.ok)throw new Error("Failed to fetch strategy advisor data");return n.json()}},BU={create:async e=>(console.log("Creating note:",e),{id:Date.now(),...e})},UU=()=>{const[e,t]=h.useState("total_advance_applicants"),[n,r]=h.useState("all"),[a,i]=h.useState("all"),[o,l]=h.useState([]),[c,u]=h.useState(!1),[d,p]=h.useState("insights"),f=wa(),{data:m,isLoading:g,error:x}=Me({queryKey:["strategy-advisor",e,n,a],queryFn:()=>zU.getStrategyAdvisor({metric:e,weeks:n,months:a})}),w=ot({mutationFn:BU.create,onSuccess:()=>{f.invalidateQueries(["notes"])}}),v=N=>{const T={title:N.title,content:`Evidence: ${JSON.stringify(N.evidence)}

Recommendation: ${N.recommendation}`,tags:["advisor","auto",N.type],report_date:new Date().toISOString().split("T")[0]};w.mutate(T)},y=N=>{const T=`task-${N.id}`;if(!o.find(F=>F.id===T)){const F={id:T,label:`Action: ${N.title}`,details:N.recommendation,priority:N.priority,owner:null,due:null,completed:!1};l(_=>[..._,F])}},b=N=>{l(T=>T.filter(I=>I.id!==N))},j=N=>{l(T=>T.map(I=>I.id===N?{...I,completed:!I.completed}:I))},S=()=>{const N=["Task","Priority","Details","Owner","Due Date","Status"],T=o.map($=>[$.label,$.priority,$.details,$.owner||"Unassigned",$.due||"No due date",$.completed?"Completed":"Pending"]),I=[N,...T].map($=>$.map(z=>`"${z}"`).join(",")).join(`
`),F=new Blob([I],{type:"text/csv"}),_=window.URL.createObjectURL(F),D=document.createElement("a");D.href=_,D.download=`marketing-strategy-checklist-${new Date().toISOString().split("T")[0]}.csv`,D.click(),window.URL.revokeObjectURL(_)},k=()=>{const N=o.map(T=>`□ ${T.label} (${T.priority.toUpperCase()})`).join(`
`);navigator.clipboard.writeText(N)},C=N=>FU[N]||gg,E=_w.find(N=>N.key===e),R=()=>m!=null&&m.insights?m.insights.reduce((N,T)=>(N[T.type]||(N[T.type]=[]),N[T.type].push(T),N),{}):{},M=()=>m!=null&&m.insights?m.insights.reduce((N,T)=>(N.total++,N[T.priority]++,N),{total:0,high:0,medium:0,low:0}):{total:0,high:0,medium:0,low:0};return s.jsxs("div",{className:"space-y-6",children:[s.jsx(oe,{title:"🤖 Marketing Strategy Advisor - AI-Powered Insights",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Metric"}),s.jsx("select",{value:e,onChange:N=>t(N.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:_w.map(N=>s.jsx("option",{value:N.key,children:N.label},N.key))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Weeks"}),s.jsxs("select",{value:n,onChange:N=>r(N.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"All Weeks"}),s.jsx("option",{value:"1",children:"Week 1"}),s.jsx("option",{value:"2",children:"Week 2"}),s.jsx("option",{value:"3",children:"Week 3"}),s.jsx("option",{value:"4",children:"Week 4"}),s.jsx("option",{value:"5",children:"Week 5"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Months"}),s.jsx("select",{value:a,onChange:N=>i(N.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:s.jsx("option",{value:"all",children:"All Months"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"View Mode"}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>p("insights"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${d==="insights"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Insights"}),s.jsx("button",{onClick:()=>p("comparisons"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${d==="comparisons"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Compare"})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs("button",{onClick:()=>u(!c),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-800 border border-blue-300 rounded-md px-3 py-2 w-full justify-center",children:[s.jsx(Se,{className:"h-4 w-4"}),s.jsxs("span",{children:["Action Plan (",o.length,")"]})]})})]}),g&&s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),x&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:s.jsxs("p",{className:"text-red-800",children:["Error loading insights: ",(x==null?void 0:x.message)||"Unknown error"]})}),m&&s.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 border border-purple-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-purple-500 rounded-lg",children:s.jsx(gr,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"AI Analysis Complete"}),s.jsxs("p",{className:"text-sm text-purple-700",children:["Generated at ",new Date(m.generated_at).toLocaleString()," • Analyzing ",E==null?void 0:E.label.toLowerCase()," patterns"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-900",children:M().total}),s.jsx("div",{className:"text-xs text-purple-600",children:"insights found"})]})]})}),m&&m.insights&&m.insights.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-gradient-to-r from-red-50 to-red-100 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-red-500 rounded-lg",children:s.jsx(pT,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-800",children:"High Priority"}),s.jsx("p",{className:"text-xl font-bold text-red-900",children:M().high})]})]})}),s.jsx("div",{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-yellow-500 rounded-lg",children:s.jsx(xi,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Medium Priority"}),s.jsx("p",{className:"text-xl font-bold text-yellow-900",children:M().medium})]})]})}),s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-green-100 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:s.jsx(Se,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-800",children:"Low Priority"}),s.jsx("p",{className:"text-xl font-bold text-green-900",children:M().low})]})]})}),s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:s.jsx(Ga,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Total Insights"}),s.jsx("p",{className:"text-xl font-bold text-blue-900",children:M().total})]})]})})]}),d==="insights"&&s.jsx("div",{className:"space-y-6",children:Object.entries(R()).map(([N,T])=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${N==="opportunity"?"bg-green-100 text-green-600":N==="risk"?"bg-red-100 text-red-600":N==="timing"?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:zn.createElement(C(N),{className:"h-5 w-5"})}),s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 capitalize",children:[N," Insights (",T.length,")"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:T.map((I,F)=>{const _=o.some(D=>D.id===`task-${I.id}`);return s.jsx("div",{className:`border rounded-lg p-4 ${LU[I.priority]} hover:shadow-md transition-shadow`,children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("h4",{className:"font-medium text-gray-900 flex-1",children:I.title}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ml-2 ${I.priority==="high"?"bg-red-100 text-red-800":I.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:I.priority.toUpperCase()})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("strong",{children:"🔍 Evidence:"})," ",JSON.stringify(I.evidence)]}),s.jsxs("div",{className:"text-sm text-gray-800",children:[s.jsx("strong",{children:"💡 Strategy:"})," ",I.recommendation]}),s.jsxs("div",{className:"flex space-x-2 pt-2",children:[s.jsxs("button",{onClick:()=>v(I),disabled:w.isLoading,className:"flex items-center space-x-1 text-xs bg-blue-500 text-white px-3 py-1.5 rounded hover:bg-blue-600 disabled:opacity-50 transition-colors",children:[s.jsx(tn,{className:"h-3 w-3"}),s.jsx("span",{children:"Save Note"})]}),s.jsxs("button",{onClick:()=>y(I),disabled:_,className:`flex items-center space-x-1 text-xs px-3 py-1.5 rounded transition-colors ${_?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-green-500 text-white hover:bg-green-600"}`,children:[_?s.jsx(qn,{className:"h-3 w-3"}):s.jsx(tn,{className:"h-3 w-3"}),s.jsx("span",{children:_?"In Plan":"Add to Plan"})]})]})]})},I.id)})})]},N))}),d==="comparisons"&&s.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Data-Driven Comparisons"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["AI analysis comparing ",E==null?void 0:E.label.toLowerCase()," performance across different time periods and patterns."]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"font-medium text-gray-900 flex items-center space-x-2",children:[s.jsx(Ht,{className:"h-4 w-4"}),s.jsx("span",{children:"Temporal Patterns"})]}),m.insights.filter(N=>N.type==="timing").slice(0,3).map(N=>s.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("div",{className:"text-sm font-medium text-blue-900",children:N.title}),s.jsxs("div",{className:"text-xs text-blue-700 mt-1",children:["Evidence: ",Object.entries(N.evidence).map(([T,I])=>`${T}: ${I}`).join(", ")]})]},N.id))]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"font-medium text-gray-900 flex items-center space-x-2",children:[s.jsx(ja,{className:"h-4 w-4"}),s.jsx("span",{children:"Growth Opportunities"})]}),m.insights.filter(N=>N.type==="opportunity").slice(0,3).map(N=>s.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[s.jsx("div",{className:"text-sm font-medium text-green-900",children:N.title}),s.jsxs("div",{className:"text-xs text-green-700 mt-1",children:["Evidence: ",Object.entries(N.evidence).map(([T,I])=>`${T}: ${I}`).join(", ")]})]},N.id))]})]})]})]}),m&&(!m.insights||m.insights.length===0)&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:s.jsx(gr,{className:"h-8 w-8 text-gray-400"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Strategic Insights Available"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"The AI needs more data patterns to generate meaningful marketing insights."}),s.jsx("button",{className:"bg-blue-500 text-white px-6 py-2 rounded-md hover:bg-blue-600 transition-colors",children:"Import More Data"})]})]})}),c&&s.jsx(oe,{title:"🎯 Marketing Action Plan",children:s.jsx("div",{className:"space-y-4",children:o.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"bg-gray-100 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-4",children:s.jsx(Se,{className:"h-6 w-6 text-gray-400"})}),s.jsx("p",{className:"text-gray-500 text-center",children:"No action items yet. Add insights from above to build your strategic action plan."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:[o.filter(N=>N.completed).length," of ",o.length," completed"]}),s.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${o.filter(N=>N.completed).length/o.length*100}%`}})})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:k,className:"flex items-center space-x-1 text-sm bg-gray-500 text-white px-3 py-1 rounded hover:bg-gray-600 transition-colors",children:[s.jsx(U4,{className:"h-3 w-3"}),s.jsx("span",{children:"Copy"})]}),s.jsxs("button",{onClick:S,className:"flex items-center space-x-1 text-sm bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600 transition-colors",children:[s.jsx(fd,{className:"h-3 w-3"}),s.jsx("span",{children:"Export"})]})]})]}),s.jsx("div",{className:"space-y-3",children:o.map(N=>s.jsxs("div",{className:"flex items-start space-x-3 p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx("input",{type:"checkbox",checked:N.completed,onChange:()=>j(N.id),className:"w-4 h-4 text-blue-600 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:`font-medium ${N.completed?"line-through text-gray-500":"text-gray-900"}`,children:N.label}),s.jsx("div",{className:`text-sm mt-1 ${N.completed?"line-through text-gray-400":"text-gray-600"}`,children:N.details})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${N.priority==="high"?"bg-red-100 text-red-800":N.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:N.priority.toUpperCase()}),s.jsx("button",{onClick:()=>b(N.id),className:"text-gray-400 hover:text-red-500 transition-colors",children:s.jsx(vt,{className:"h-4 w-4"})})]})]},N.id))}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"💼 Quick Actions"}),s.jsxs("div",{className:"flex space-x-3 text-sm",children:[s.jsx("button",{onClick:()=>l(N=>N.map(T=>({...T,completed:!0}))),className:"text-blue-700 hover:text-blue-900 underline",children:"Mark All Complete"}),s.jsx("button",{onClick:()=>l(N=>N.map(T=>({...T,completed:!1}))),className:"text-blue-700 hover:text-blue-900 underline",children:"Reset All"}),s.jsx("button",{onClick:()=>l([]),className:"text-red-700 hover:text-red-900 underline",children:"Clear All"})]})]})]})})})]})},WU=()=>{const[e,t]=h.useState(null),n=()=>{t(null)};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 rounded-lg",children:[s.jsx("h2",{className:"text-xl font-bold mb-2",children:"Action Labs – Strategy View (Detailed)"}),s.jsx("p",{className:"text-blue-100",children:"Comprehensive analytics with Monthly Comparison, Weekly Analysis, Best Month Detection, and AI-powered Marketing Strategy Advisor."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("button",{onClick:()=>t("monthly"),className:"bg-white border-2 border-gray-200 rounded-lg p-6 text-left hover:border-blue-500 hover:shadow-md transition-all duration-200 group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-2xl",children:"📅"}),s.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 opacity-0 group-hover:opacity-100 transition-opacity"})]}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Monthly Comparison"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Compare performance across months with detailed metrics and KPI cards"})]}),s.jsxs("button",{onClick:()=>t("weekly"),className:"bg-white border-2 border-gray-200 rounded-lg p-6 text-left hover:border-blue-500 hover:shadow-md transition-all duration-200 group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-2xl",children:"📊"}),s.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 opacity-0 group-hover:opacity-100 transition-opacity"})]}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Daily & Weekly Analysis"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Detailed breakdown with week filters, weekday heatmaps, per-week charts, and day-specific notes"})]}),s.jsxs("button",{onClick:()=>t("best"),className:"bg-white border-2 border-gray-200 rounded-lg p-6 text-left hover:border-blue-500 hover:shadow-md transition-all duration-200 group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-2xl",children:"🏆"}),s.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 opacity-0 group-hover:opacity-100 transition-opacity"})]}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Best Month Analysis"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Identify top performing months with detailed metrics and recommendations"})]}),s.jsxs("button",{onClick:()=>t("marketing"),className:"bg-white border-2 border-gray-200 rounded-lg p-6 text-left hover:border-blue-500 hover:shadow-md transition-all duration-200 group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-2xl",children:"🤖"}),s.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 opacity-0 group-hover:opacity-100 transition-opacity"})]}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Marketing Strategy Advisor"}),s.jsx("p",{className:"text-sm text-gray-600",children:"AI-powered insights and strategic recommendations based on your data"})]})]}),s.jsx("div",{id:"monthlyComparisonDisplay",className:e==="monthly"?"block":"hidden",children:e==="monthly"&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50 rounded-t-lg",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx("span",{className:"mr-2",children:"📅"}),"Monthly Comparison"]}),s.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-200 rounded-full transition-colors","aria-label":"Close Monthly Comparison",children:s.jsx(vt,{className:"w-5 h-5 text-gray-500"})})]}),s.jsx("div",{id:"monthlyComparisonContent",className:"p-6",children:s.jsx(XP,{})})]})}),s.jsx("div",{id:"crossMonthComparisonDisplay",className:e==="weekly"?"block":"hidden",children:e==="weekly"&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50 rounded-t-lg",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx("span",{className:"mr-2",children:"📊"}),"Daily & Weekly Analysis"]}),s.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-200 rounded-full transition-colors","aria-label":"Close Daily Weekly Analysis",children:s.jsx(vt,{className:"w-5 h-5 text-gray-500"})})]}),s.jsx("div",{id:"crossMonthComparisonContent",className:"p-6",children:s.jsx($U,{})})]})}),s.jsx("div",{id:"bestMonthDisplay",className:e==="best"?"block":"hidden",children:e==="best"&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50 rounded-t-lg",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx("span",{className:"mr-2",children:"🏆"}),"Best Month Analysis"]}),s.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-200 rounded-full transition-colors","aria-label":"Close Best Month Analysis",children:s.jsx(vt,{className:"w-5 h-5 text-gray-500"})})]}),s.jsx("div",{id:"bestMonthContent",className:"p-6",children:s.jsx(RU,{})})]})}),s.jsx("div",{id:"marketingAdvisorDisplay",className:e==="marketing"?"block":"hidden",children:e==="marketing"&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50 rounded-t-lg",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx("span",{className:"mr-2",children:"🤖"}),"Marketing Strategy Advisor"]}),s.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-200 rounded-full transition-colors","aria-label":"Close Marketing Advisor",children:s.jsx(vt,{className:"w-5 h-5 text-gray-500"})})]}),s.jsx("div",{id:"marketingAdvisorContent",className:"p-6",children:s.jsx(UU,{})})]})})]})};var eA={exports:{}},qU="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",KU=qU,VU=KU;function tA(){}function nA(){}nA.resetWarningCache=tA;var HU=function(){function e(r,a,i,o,l,c){if(c!==VU){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:nA,resetWarningCache:tA};return n.PropTypes=n,n};eA.exports=HU();var QU=eA.exports;const ye=sr(QU);function Ni(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(p){o(p)}}function c(d){try{u(r.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})}const YU=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function vs(e,t,n){const r=GU(e),{webkitRelativePath:a}=e,i=typeof t=="string"?t:typeof a=="string"&&a.length>0?a:`./${e.name}`;return typeof r.path!="string"&&Mw(r,"path",i),n!==void 0&&Object.defineProperty(r,"handle",{value:n,writable:!1,configurable:!1,enumerable:!0}),Mw(r,"relativePath",i),r}function GU(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const r=t.split(".").pop().toLowerCase(),a=YU.get(r);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}function Mw(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const XU=[".DS_Store","Thumbs.db"];function ZU(e){return Ni(this,void 0,void 0,function*(){return Ku(e)&&JU(e.dataTransfer)?rW(e.dataTransfer,e.type):eW(e)?tW(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?nW(e):[]})}function JU(e){return Ku(e)}function eW(e){return Ku(e)&&Ku(e.target)}function Ku(e){return typeof e=="object"&&e!==null}function tW(e){return uh(e.target.files).map(t=>vs(t))}function nW(e){return Ni(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>vs(n))})}function rW(e,t){return Ni(this,void 0,void 0,function*(){if(e.items){const n=uh(e.items).filter(a=>a.kind==="file");if(t!=="drop")return n;const r=yield Promise.all(n.map(aW));return Dw(rA(r))}return Dw(uh(e.files).map(n=>vs(n)))})}function Dw(e){return e.filter(t=>XU.indexOf(t.name)===-1)}function uh(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r)}return t}function aW(e){if(typeof e.webkitGetAsEntry!="function")return $w(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?aA(t):$w(e,t)}function rA(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?rA(n):[n]],[])}function $w(e,t){return Ni(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const i=yield e.getAsFileSystemHandle();if(i===null)throw new Error(`${e} is not a File`);if(i!==void 0){const o=yield i.getFile();return o.handle=i,vs(o)}}const r=e.getAsFile();if(!r)throw new Error(`${e} is not a File`);return vs(r,(n=t==null?void 0:t.fullPath)!==null&&n!==void 0?n:void 0)})}function iW(e){return Ni(this,void 0,void 0,function*(){return e.isDirectory?aA(e):sW(e)})}function aA(e){const t=e.createReader();return new Promise((n,r)=>{const a=[];function i(){t.readEntries(o=>Ni(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map(iW));a.push(l),i()}else try{const l=yield Promise.all(a);n(l)}catch(l){r(l)}}),o=>{r(o)})}i()})}function sW(e){return Ni(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(r=>{const a=vs(r,e.fullPath);t(a)},r=>{n(r)})})})}var hf=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var r=e.name||"",a=(e.type||"").toLowerCase(),i=a.replace(/\/.*$/,"");return n.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?i===l.replace(/\/.*$/,""):a===l})}return!0};function Iw(e){return cW(e)||lW(e)||sA(e)||oW()}function oW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cW(e){if(Array.isArray(e))return dh(e)}function Rw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Lw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rw(Object(n),!0).forEach(function(r){iA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tl(e,t){return pW(e)||dW(e,t)||sA(e,t)||uW()}function uW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sA(e,t){if(e){if(typeof e=="string")return dh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dh(e,t)}}function dh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dW(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,i=!1,o,l;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));a=!0);}catch(c){i=!0,l=c}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw l}}return r}}function pW(e){if(Array.isArray(e))return e}var fW=typeof hf=="function"?hf:hf.default,mW="file-invalid-type",hW="file-too-large",gW="file-too-small",xW="too-many-files",vW=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:mW,message:"File type must be ".concat(r)}},Fw=function(t){return{code:hW,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},zw=function(t){return{code:gW,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},yW={code:xW,message:"Too many files"};function oA(e,t){var n=e.type==="application/x-moz-file"||fW(e,t);return[n,n?null:vW(t)]}function lA(e,t,n){if(Fa(e.size))if(Fa(t)&&Fa(n)){if(e.size>n)return[!1,Fw(n)];if(e.size<t)return[!1,zw(t)]}else{if(Fa(t)&&e.size<t)return[!1,zw(t)];if(Fa(n)&&e.size>n)return[!1,Fw(n)]}return[!0,null]}function Fa(e){return e!=null}function bW(e){var t=e.files,n=e.accept,r=e.minSize,a=e.maxSize,i=e.multiple,o=e.maxFiles,l=e.validator;return!i&&t.length>1||i&&o>=1&&t.length>o?!1:t.every(function(c){var u=oA(c,n),d=tl(u,1),p=d[0],f=lA(c,r,a),m=tl(f,1),g=m[0],x=l?l(c):null;return p&&g&&!x})}function Vu(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function lc(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Bw(e){e.preventDefault()}function wW(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function jW(e){return e.indexOf("Edge/")!==-1}function NW(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return wW(e)||jW(e)}function Yn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return t.some(function(l){return!Vu(r)&&l&&l.apply(void 0,[r].concat(i)),Vu(r)})}}function kW(){return"showOpenFilePicker"in window}function SW(e){if(Fa(e)){var t=Object.entries(e).filter(function(n){var r=tl(n,2),a=r[0],i=r[1],o=!0;return cA(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(i)||!i.every(uA))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,r){var a=tl(r,2),i=a[0],o=a[1];return Lw(Lw({},n),{},iA({},i,o))},{});return[{description:"Files",accept:t}]}return e}function CW(e){if(Fa(e))return Object.entries(e).reduce(function(t,n){var r=tl(n,2),a=r[0],i=r[1];return[].concat(Iw(t),[a],Iw(i))},[]).filter(function(t){return cA(t)||uA(t)}).join(",")}function PW(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function AW(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function cA(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function uA(e){return/^.*\.[\w]+$/.test(e)}var EW=["children"],OW=["open"],TW=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_W=["refKey","onChange","onClick"];function MW(e){return IW(e)||$W(e)||dA(e)||DW()}function DW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $W(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IW(e){if(Array.isArray(e))return ph(e)}function gf(e,t){return FW(e)||LW(e,t)||dA(e,t)||RW()}function RW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dA(e,t){if(e){if(typeof e=="string")return ph(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ph(e,t)}}function ph(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LW(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,i=!1,o,l;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));a=!0);}catch(c){i=!0,l=c}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw l}}return r}}function FW(e){if(Array.isArray(e))return e}function Uw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uw(Object(n),!0).forEach(function(r){fh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hu(e,t){if(e==null)return{};var n=zW(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zW(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}var av=h.forwardRef(function(e,t){var n=e.children,r=Hu(e,EW),a=fA(r),i=a.open,o=Hu(a,OW);return h.useImperativeHandle(t,function(){return{open:i}},[i]),zn.createElement(h.Fragment,null,n(Te(Te({},o),{},{open:i})))});av.displayName="Dropzone";var pA={disabled:!1,getFilesFromEvent:ZU,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};av.defaultProps=pA;av.propTypes={children:ye.func,accept:ye.objectOf(ye.arrayOf(ye.string)),multiple:ye.bool,preventDropOnDocument:ye.bool,noClick:ye.bool,noKeyboard:ye.bool,noDrag:ye.bool,noDragEventsBubbling:ye.bool,minSize:ye.number,maxSize:ye.number,maxFiles:ye.number,disabled:ye.bool,getFilesFromEvent:ye.func,onFileDialogCancel:ye.func,onFileDialogOpen:ye.func,useFsAccessApi:ye.bool,autoFocus:ye.bool,onDragEnter:ye.func,onDragLeave:ye.func,onDragOver:ye.func,onDrop:ye.func,onDropAccepted:ye.func,onDropRejected:ye.func,onError:ye.func,validator:ye.func};var mh={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function fA(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Te(Te({},pA),e),n=t.accept,r=t.disabled,a=t.getFilesFromEvent,i=t.maxSize,o=t.minSize,l=t.multiple,c=t.maxFiles,u=t.onDragEnter,d=t.onDragLeave,p=t.onDragOver,f=t.onDrop,m=t.onDropAccepted,g=t.onDropRejected,x=t.onFileDialogCancel,w=t.onFileDialogOpen,v=t.useFsAccessApi,y=t.autoFocus,b=t.preventDropOnDocument,j=t.noClick,S=t.noKeyboard,k=t.noDrag,C=t.noDragEventsBubbling,E=t.onError,R=t.validator,M=h.useMemo(function(){return CW(n)},[n]),N=h.useMemo(function(){return SW(n)},[n]),T=h.useMemo(function(){return typeof w=="function"?w:Ww},[w]),I=h.useMemo(function(){return typeof x=="function"?x:Ww},[x]),F=h.useRef(null),_=h.useRef(null),D=h.useReducer(BW,mh),$=gf(D,2),z=$[0],U=$[1],O=z.isFocused,W=z.isFileDialogActive,A=h.useRef(typeof window<"u"&&window.isSecureContext&&v&&kW()),K=function(){!A.current&&W&&setTimeout(function(){if(_.current){var se=_.current.files;se.length||(U({type:"closeDialog"}),I())}},300)};h.useEffect(function(){return window.addEventListener("focus",K,!1),function(){window.removeEventListener("focus",K,!1)}},[_,W,I,A]);var V=h.useRef([]),H=function(se){F.current&&F.current.contains(se.target)||(se.preventDefault(),V.current=[])};h.useEffect(function(){return b&&(document.addEventListener("dragover",Bw,!1),document.addEventListener("drop",H,!1)),function(){b&&(document.removeEventListener("dragover",Bw),document.removeEventListener("drop",H))}},[F,b]),h.useEffect(function(){return!r&&y&&F.current&&F.current.focus(),function(){}},[F,y,r]);var Y=h.useCallback(function(X){E?E(X):console.error(X)},[E]),le=h.useCallback(function(X){X.preventDefault(),X.persist(),Aa(X),V.current=[].concat(MW(V.current),[X.target]),lc(X)&&Promise.resolve(a(X)).then(function(se){if(!(Vu(X)&&!C)){var Ie=se.length,Ke=Ie>0&&bW({files:se,accept:M,minSize:o,maxSize:i,multiple:l,maxFiles:c,validator:R}),Tt=Ie>0&&!Ke;U({isDragAccept:Ke,isDragReject:Tt,isDragActive:!0,type:"setDraggedFiles"}),u&&u(X)}}).catch(function(se){return Y(se)})},[a,u,Y,C,M,o,i,l,c,R]),qe=h.useCallback(function(X){X.preventDefault(),X.persist(),Aa(X);var se=lc(X);if(se&&X.dataTransfer)try{X.dataTransfer.dropEffect="copy"}catch{}return se&&p&&p(X),!1},[p,C]),L=h.useCallback(function(X){X.preventDefault(),X.persist(),Aa(X);var se=V.current.filter(function(Ke){return F.current&&F.current.contains(Ke)}),Ie=se.indexOf(X.target);Ie!==-1&&se.splice(Ie,1),V.current=se,!(se.length>0)&&(U({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),lc(X)&&d&&d(X))},[F,d,C]),G=h.useCallback(function(X,se){var Ie=[],Ke=[];X.forEach(function(Tt){var or=oA(Tt,M),Fr=gf(or,2),Ea=Fr[0],Oa=Fr[1],Ta=lA(Tt,o,i),_a=gf(Ta,2),Ci=_a[0],P=_a[1],J=R?R(Tt):null;if(Ea&&Ci&&!J)Ie.push(Tt);else{var ze=[Oa,P];J&&(ze=ze.concat(J)),Ke.push({file:Tt,errors:ze.filter(function(at){return at})})}}),(!l&&Ie.length>1||l&&c>=1&&Ie.length>c)&&(Ie.forEach(function(Tt){Ke.push({file:Tt,errors:[yW]})}),Ie.splice(0)),U({acceptedFiles:Ie,fileRejections:Ke,isDragReject:Ke.length>0,type:"setFiles"}),f&&f(Ie,Ke,se),Ke.length>0&&g&&g(Ke,se),Ie.length>0&&m&&m(Ie,se)},[U,l,M,o,i,c,f,m,g,R]),ie=h.useCallback(function(X){X.preventDefault(),X.persist(),Aa(X),V.current=[],lc(X)&&Promise.resolve(a(X)).then(function(se){Vu(X)&&!C||G(se,X)}).catch(function(se){return Y(se)}),U({type:"reset"})},[a,G,Y,C]),q=h.useCallback(function(){if(A.current){U({type:"openDialog"}),T();var X={multiple:l,types:N};window.showOpenFilePicker(X).then(function(se){return a(se)}).then(function(se){G(se,null),U({type:"closeDialog"})}).catch(function(se){PW(se)?(I(se),U({type:"closeDialog"})):AW(se)?(A.current=!1,_.current?(_.current.value=null,_.current.click()):Y(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Y(se)});return}_.current&&(U({type:"openDialog"}),T(),_.current.value=null,_.current.click())},[U,T,I,v,G,Y,N,l]),Fe=h.useCallback(function(X){!F.current||!F.current.isEqualNode(X.target)||(X.key===" "||X.key==="Enter"||X.keyCode===32||X.keyCode===13)&&(X.preventDefault(),q())},[F,q]),pe=h.useCallback(function(){U({type:"focus"})},[]),nt=h.useCallback(function(){U({type:"blur"})},[]),rt=h.useCallback(function(){j||(NW()?setTimeout(q,0):q())},[j,q]),jt=function(se){return r?null:se},Lr=function(se){return S?null:jt(se)},ki=function(se){return k?null:jt(se)},Aa=function(se){C&&se.stopPropagation()},Si=h.useMemo(function(){return function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},se=X.refKey,Ie=se===void 0?"ref":se,Ke=X.role,Tt=X.onKeyDown,or=X.onFocus,Fr=X.onBlur,Ea=X.onClick,Oa=X.onDragEnter,Ta=X.onDragOver,_a=X.onDragLeave,Ci=X.onDrop,P=Hu(X,TW);return Te(Te(fh({onKeyDown:Lr(Yn(Tt,Fe)),onFocus:Lr(Yn(or,pe)),onBlur:Lr(Yn(Fr,nt)),onClick:jt(Yn(Ea,rt)),onDragEnter:ki(Yn(Oa,le)),onDragOver:ki(Yn(Ta,qe)),onDragLeave:ki(Yn(_a,L)),onDrop:ki(Yn(Ci,ie)),role:typeof Ke=="string"&&Ke!==""?Ke:"presentation"},Ie,F),!r&&!S?{tabIndex:0}:{}),P)}},[F,Fe,pe,nt,rt,le,qe,L,ie,S,k,r]),Sl=h.useCallback(function(X){X.stopPropagation()},[]),Ds=h.useMemo(function(){return function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},se=X.refKey,Ie=se===void 0?"ref":se,Ke=X.onChange,Tt=X.onClick,or=Hu(X,_W),Fr=fh({accept:M,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:jt(Yn(Ke,ie)),onClick:jt(Yn(Tt,Sl)),tabIndex:-1},Ie,_);return Te(Te({},Fr),or)}},[_,n,l,ie,r]);return Te(Te({},z),{},{isFocused:O&&!r,getRootProps:Si,getInputProps:Ds,rootRef:F,inputRef:_,open:jt(q)})}function BW(e,t){switch(t.type){case"focus":return Te(Te({},e),{},{isFocused:!0});case"blur":return Te(Te({},e),{},{isFocused:!1});case"openDialog":return Te(Te({},mh),{},{isFileDialogActive:!0});case"closeDialog":return Te(Te({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Te(Te({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Te(Te({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Te({},mh);default:return e}}function Ww(){}const cc={getAssets:async(e={})=>{const t=new URLSearchParams;e.stage&&e.stage!=="all"&&t.append("stage",e.stage),e.search&&t.append("search",e.search),e.status&&t.append("status",e.status);const n=await fetch(`/api/media?${t}`);if(!n.ok)throw new Error("Failed to fetch media assets");return n.json()},getAsset:async e=>{const t=await fetch(`/api/media/${e}`);if(!t.ok)throw new Error("Failed to fetch media asset");return t.json()},uploadAsset:async(e,t)=>{const n=new FormData;n.append("file",e),n.append("stage",t.stage),n.append("tags",t.tags),n.append("description",t.description),n.append("status",t.status||"active");const r=await fetch("/api/media/upload",{method:"POST",body:n});if(!r.ok)throw new Error("Failed to upload asset");return r.json()},updateAsset:async(e,t)=>{const n=await fetch(`/api/media/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error("Failed to update asset");return n.json()},deleteAsset:async e=>{const t=await fetch(`/api/media/${e}`,{method:"DELETE"});if(!t.ok)throw new Error("Failed to delete asset");return t.json()},getStats:async()=>{const e=await fetch("/api/media/stats/overview");if(!e.ok)throw new Error("Failed to fetch stats");return e.json()}},Ur=[{id:"awareness",name:"Awareness",description:"Content that builds brand awareness and attracts potential customers",color:"bg-blue-500",lightColor:"bg-blue-50",borderColor:"border-blue-200",textColor:"text-blue-700"},{id:"downloads",name:"Downloads",description:"Lead magnets and downloadable resources",color:"bg-orange-500",lightColor:"bg-orange-50",borderColor:"border-orange-200",textColor:"text-orange-700"},{id:"registration",name:"Registration",description:"Content for user registration and onboarding",color:"bg-purple-500",lightColor:"bg-purple-50",borderColor:"border-purple-200",textColor:"text-purple-700"},{id:"apply",name:"Apply",description:"Content for application and conversion actions",color:"bg-green-500",lightColor:"bg-green-50",borderColor:"border-green-200",textColor:"text-green-700"}],UW=()=>{var K,V,H,Y,le,qe;const[e,t]=h.useState([]),[n,r]=h.useState("all"),[a,i]=h.useState(""),[o,l]=h.useState("grid"),[c,u]=h.useState(!1),[d,p]=h.useState(Ur[0].id),[f,m]=h.useState(""),[g,x]=h.useState(""),[w,v]=h.useState(null),[y,b]=h.useState([]),j=wa(),{data:S}=Me({queryKey:["media-assets",n,a],queryFn:()=>cc.getAssets({stage:n,search:a,status:"active"})}),k=ot({mutationFn:({file:L,metadata:G})=>cc.uploadAsset(L,G),onSuccess:()=>{j.invalidateQueries({queryKey:["media-assets"]}),u(!1),b([]),m(""),x(""),alert("File uploaded successfully!")},onError:L=>{console.error("Upload error:",L),alert("Failed to upload file. Please try again.")}}),C=ot({mutationFn:({id:L,metadata:G})=>cc.updateAsset(L,G),onSuccess:()=>{j.invalidateQueries({queryKey:["media-assets"]}),v(null),alert("Asset updated successfully!")},onError:L=>{console.error("Update error:",L),alert("Failed to update asset. Please try again.")}}),E=ot({mutationFn:L=>cc.deleteAsset(L),onSuccess:()=>{j.invalidateQueries({queryKey:["media-assets"]}),alert("Asset deleted successfully!")},onError:L=>{console.error("Delete error:",L),alert("Failed to delete asset. Please try again.")}});h.useEffect(()=>{S!=null&&S.assets&&t(S.assets)},[S]);const R=(e==null?void 0:e.filter(L=>{const G=n==="all"||L.stage===n,ie=L.name.toLowerCase().includes(a.toLowerCase())||L.tags.some(q=>q.toLowerCase().includes(a.toLowerCase()));return G&&ie}))||[],M=h.useCallback(L=>{b(L),u(!0)},[]),{getRootProps:N,getInputProps:T,isDragActive:I}=fA({onDrop:M,accept:{"image/*":[".png",".jpg",".jpeg",".gif",".webp"],"video/*":[".mp4",".avi",".mov",".wmv"],"application/pdf":[".pdf"],"application/msword":[".doc"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"]}}),F=async()=>{if(y.length===0)return;const L={stage:d,tags:f,description:g,status:"active"};try{for(const G of y)await k.mutateAsync({file:G,metadata:L})}catch(G){console.error("Upload failed:",G)}},_=L=>{v(L)},D=async()=>{if(!w)return;const L={stage:w.stage,tags:w.tags.join(", "),description:w.description,status:w.status};C.mutate({id:w.id,metadata:L})},$=async L=>{window.confirm(`Are you sure you want to delete "${L.name}"?`)&&E.mutate(L.id)},z=L=>{window.open(L.url,"_blank")},U=L=>{if(L===0)return"0 Bytes";const G=1024,ie=["Bytes","KB","MB","GB"],q=Math.floor(Math.log(L)/Math.log(G));return parseFloat((L/Math.pow(G,q)).toFixed(2))+" "+ie[q]},O=L=>{switch(L){case"image":return s.jsx(Ly,{className:"h-5 w-5"});case"video":return s.jsx(q4,{className:"h-5 w-5"});default:return s.jsx(K4,{className:"h-5 w-5"})}},W=L=>{switch(L){case"active":return s.jsx(qn,{className:"h-4 w-4 text-green-500"});case"draft":return s.jsx(xi,{className:"h-4 w-4 text-yellow-500"});case"archived":return s.jsx(mg,{className:"h-4 w-4 text-gray-500"});default:return null}},A=()=>Ur.find(L=>L.id===n);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white p-6 rounded-lg",children:[s.jsx("h2",{className:"text-xl font-bold mb-2",children:"Content Management"}),s.jsx("p",{className:"text-purple-100",children:"Organize and manage media assets across your marketing funnel stages"})]}),s.jsxs(oe,{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Funnel Stages"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-7 gap-4",children:Ur.map((L,G)=>{const ie=e.filter(Fe=>Fe.stage===L.id),q=n===L.id;return s.jsxs("button",{onClick:()=>r(L.id),className:`relative p-4 rounded-lg border-2 transition-all ${q?`${L.lightColor} ${L.borderColor} shadow-md scale-105`:"bg-white border-gray-200 hover:border-gray-300"}`,children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${L.color} mb-2`}),s.jsx("h4",{className:`font-medium text-sm ${q?L.textColor:"text-gray-900"}`,children:L.name}),s.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[ie.length," assets"]}),G<Ur.length-1&&s.jsx("div",{className:"hidden md:block absolute top-1/2 -right-2 w-4 h-0.5 bg-gray-300 transform -translate-y-1/2"})]},L.id)})}),s.jsx("button",{onClick:()=>r("all"),className:`mt-4 px-4 py-2 rounded-md transition-colors ${n==="all"?"bg-gray-900 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Show All Stages"})]}),s.jsxs(oe,{children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[s.jsx("div",{className:"flex-1 max-w-md",children:s.jsxs("div",{className:"relative",children:[s.jsx(aT,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search assets...",value:a,onChange:L=>i(L.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>u(!0),className:"btn-primary inline-flex items-center",children:[s.jsx(tn,{className:"w-4 h-4 mr-2"}),"Upload Asset"]}),s.jsxs("div",{className:"flex border border-gray-300 rounded-md",children:[s.jsx("button",{onClick:()=>l("grid"),className:`px-3 py-2 text-sm ${o==="grid"?"bg-purple-500 text-white":"bg-white text-gray-700 hover:bg-gray-50"} border-r border-gray-300`,children:"Grid"}),s.jsx("button",{onClick:()=>l("list"),className:`px-3 py-2 text-sm ${o==="list"?"bg-purple-500 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"List"})]})]})]}),n!=="all"&&A()&&s.jsxs("div",{className:`mt-4 p-3 rounded-lg ${(K=A())==null?void 0:K.lightColor} border ${(V=A())==null?void 0:V.borderColor}`,children:[s.jsxs("h4",{className:`font-medium ${(H=A())==null?void 0:H.textColor}`,children:[(Y=A())==null?void 0:Y.name," Stage"]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:(le=A())==null?void 0:le.description})]})]}),s.jsx(oe,{children:s.jsxs("div",{...N(),className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer ${I?"border-purple-400 bg-purple-50":"border-gray-300 hover:border-purple-400 hover:bg-gray-50"}`,children:[s.jsx("input",{...T()}),s.jsx(dT,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),I?s.jsx("p",{className:"text-purple-600 font-medium",children:"Drop files here to upload..."}):s.jsxs("div",{children:[s.jsxs("p",{className:"text-gray-600 mb-2",children:[s.jsx("span",{className:"font-medium text-purple-600",children:"Click to upload"})," or drag and drop"]}),s.jsx("p",{className:"text-sm text-gray-500",children:"Images, videos, PDFs, and documents up to 50MB"})]})]})}),s.jsxs(oe,{children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[n==="all"?"All Assets":`${(qe=A())==null?void 0:qe.name} Assets`,s.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",R.length,")"]})]})}),R.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ly,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 font-medium",children:"No assets found"}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Upload your first asset or adjust your filters"})]}):o==="grid"?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:R.map(L=>{const G=Ur.find(ie=>ie.id===L.stage);return s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"aspect-video bg-gray-100 flex items-center justify-center",children:L.type==="image"?s.jsx("img",{src:L.thumbnailUrl||L.url,alt:L.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"text-4xl text-gray-400",children:O(L.type)})}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h4",{className:"font-medium text-sm text-gray-900 truncate flex-1",children:L.name}),W(L.status)]}),s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${G==null?void 0:G.color}`}),s.jsx("span",{className:"text-xs text-gray-600",children:G==null?void 0:G.name})]}),s.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:[U(L.size)," • ",new Date(L.uploadDate).toLocaleDateString()]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsxs("button",{onClick:()=>z(L),className:"flex-1 btn-secondary text-xs py-1",children:[s.jsx(Xa,{className:"w-3 h-3 mr-1"}),"View"]}),s.jsx("button",{onClick:()=>_(L),className:"btn-secondary text-xs py-1 px-2",children:s.jsx(vo,{className:"w-3 h-3"})}),s.jsx("button",{onClick:()=>$(L),className:"btn-secondary text-xs py-1 px-2 text-red-600 hover:bg-red-50",children:s.jsx(xr,{className:"w-3 h-3"})})]})]})]},L.id)})}):s.jsx("div",{className:"space-y-2",children:R.map(L=>{const G=Ur.find(ie=>ie.id===L.stage);return s.jsxs("div",{className:"flex items-center gap-4 p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[s.jsx("div",{className:"flex-shrink-0",children:O(L.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-medium text-sm text-gray-900 truncate",children:L.name}),W(L.status)]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${G==null?void 0:G.color}`}),G==null?void 0:G.name]}),s.jsx("span",{children:U(L.size)}),s.jsx("span",{children:new Date(L.uploadDate).toLocaleDateString()})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>z(L),className:"btn-secondary text-xs py-1 px-3",children:[s.jsx(Xa,{className:"w-3 h-3 mr-1"}),"View"]}),s.jsx("button",{onClick:()=>_(L),className:"btn-secondary text-xs py-1 px-2",children:s.jsx(vo,{className:"w-3 h-3"})}),s.jsx("button",{onClick:()=>z(L),className:"btn-secondary text-xs py-1 px-2",children:s.jsx(fd,{className:"w-3 h-3"})}),s.jsx("button",{onClick:()=>$(L),className:"btn-secondary text-xs py-1 px-2 text-red-600 hover:bg-red-50",children:s.jsx(xr,{className:"w-3 h-3"})})]})]},L.id)})})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Upload Asset"}),s.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-gray-100 rounded-full",children:s.jsx(vt,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Funnel Stage"}),s.jsx("select",{value:d,onChange:L=>p(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:Ur.map(L=>s.jsx("option",{value:L.id,children:L.name},L.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (comma-separated)"}),s.jsx("input",{type:"text",value:f,onChange:L=>m(L.target.value),placeholder:"e.g., video, social-media, campaign",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:g,onChange:L=>x(L.target.value),placeholder:"Brief description of the asset...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx("button",{onClick:()=>u(!1),className:"btn-secondary",children:"Cancel"}),s.jsx("button",{onClick:F,disabled:y.length===0||k.isPending,className:"btn-primary",children:k.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Uo,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):"Upload"})]})]})}),w&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Asset"}),s.jsx("button",{onClick:()=>v(null),className:"text-gray-400 hover:text-gray-600",children:s.jsx(vt,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Asset Name"}),s.jsx("input",{type:"text",value:w.name,onChange:L=>v({...w,name:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Funnel Stage"}),s.jsx("select",{value:w.stage,onChange:L=>v({...w,stage:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:Ur.map(L=>s.jsx("option",{value:L.id,children:L.name},L.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (comma-separated)"}),s.jsx("input",{type:"text",value:w.tags.join(", "),onChange:L=>v({...w,tags:L.target.value.split(",").map(G=>G.trim()).filter(Boolean)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., marketing, social, campaign"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:w.description||"",onChange:L=>v({...w,description:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Brief description of this asset..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{value:w.status,onChange:L=>v({...w,status:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"archived",children:"Archived"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx("button",{onClick:()=>v(null),className:"btn-secondary",children:"Cancel"}),s.jsx("button",{onClick:D,disabled:C.isPending,className:"btn-primary",children:C.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Uo,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update"})]})]})})]})},Mn=`${window.location.protocol}//${window.location.hostname}:2345`,wo={getAuthUrl:async()=>{const e=await fetch(`${Mn}/api/meta/auth-url`);if(!e.ok)throw new Error("Failed to get Meta auth URL");return e.json()},handleCallback:async(e,t)=>{const n=await fetch(`${Mn}/api/meta/callback`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e,state:t})});if(!n.ok)throw new Error("Failed to complete Meta authentication");return n.json()},getPages:async e=>{const t=await fetch(`${Mn}/api/meta/pages?access_token=${e}`);if(!t.ok)throw new Error("Failed to fetch Facebook pages");return t.json()},getInstagramAccounts:async(e,t)=>{const n=await fetch(`${Mn}/api/meta/instagram-accounts?page_access_token=${e}&page_id=${t}`);if(!n.ok)throw new Error("Failed to fetch Instagram accounts");return n.json()},postToFacebook:async(e,t,n,r=null)=>{const a=await fetch(`${Mn}/api/meta/post-facebook`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page_id:e,page_access_token:t,message:n,link:r})});if(!a.ok)throw new Error("Failed to post to Facebook");return a.json()},postToInstagram:async(e,t,n,r="")=>{const a=await fetch(`${Mn}/api/meta/post-instagram`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({instagram_account_id:e,page_access_token:t,image_url:n,caption:r})});if(!a.ok)throw new Error("Failed to post to Instagram");return a.json()},getInsights:async(e,t,n="page_fans,page_impressions,page_engaged_users",r="day")=>{const a=await fetch(`${Mn}/api/meta/insights/${e}?page_access_token=${t}&metric=${n}&period=${r}`);if(!a.ok)throw new Error("Failed to fetch page insights");return a.json()},getFacebookPosts:async(e,t,n=25,r=null,a=null)=>{const i=new URLSearchParams({page_access_token:t,limit:n.toString()});r&&i.append("since",r),a&&i.append("until",a);const o=await fetch(`${Mn}/api/meta/posts/${e}?${i}`);if(!o.ok)throw new Error("Failed to fetch Facebook posts");return o.json()},getInstagramPosts:async(e,t,n=25,r=null,a=null)=>{const i=new URLSearchParams({access_token:t,limit:n.toString()});r&&i.append("since",r),a&&i.append("until",a);const o=await fetch(`${Mn}/api/meta/instagram-posts/${e}?${i}`);if(!o.ok)throw new Error("Failed to fetch Instagram posts");return o.json()},getConnectionStatus:async e=>{const t=await fetch(`${Mn}/api/meta/connection-status/${e}`);if(!t.ok)throw new Error("Failed to fetch Meta connection status");return t.json()},getAnalytics:async(e,t,n=null,r=null,a=null)=>{const i=new URLSearchParams({page_access_token:t});n&&i.append("instagram_account_id",n),r&&i.append("since",r),a&&i.append("until",a);const o=await fetch(`${Mn}/api/meta/analytics/${e}?${i}`);if(!o.ok)throw new Error("Failed to fetch Meta analytics");return o.json()}},Wr=`${window.location.protocol}//${window.location.hostname}:2345/api`,Qu={exchangeToken:async(e,t)=>{const n=await fetch(`${Wr}/tiktok/exchange-token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth_code:e,client_id:t})});if(!n.ok){const r=await n.json();throw new Error(r.message||"Failed to exchange TikTok token")}return n.json()},getAccounts:async e=>{const t=await fetch(`${Wr}/tiktok/accounts/${e}`);if(!t.ok)throw new Error("Failed to fetch TikTok accounts");return t.json()},refreshToken:async(e,t)=>{const n=await fetch(`${Wr}/tiktok/refresh-token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:e,client_id:t})});if(!n.ok){const r=await n.json();throw new Error(r.message||"Failed to refresh TikTok token")}return n.json()},getCampaigns:async(e,t)=>{const n=await fetch(`${Wr}/tiktok/campaigns/${e}/${t}`);if(!n.ok)throw new Error("Failed to fetch TikTok campaigns");return n.json()},getAnalytics:async(e,t,n)=>{const r=new URLSearchParams({start_date:n.start,end_date:n.end}),a=await fetch(`${Wr}/tiktok/analytics/${e}/${t}?${r}`);if(!a.ok)throw new Error("Failed to fetch TikTok analytics");return a.json()},getVideos:async(e,t,n=50,r=1,a,i)=>{const o=new URLSearchParams({access_token:t,page_size:n.toString(),page:r.toString()});a&&o.append("since",a),i&&o.append("until",i);const l=await fetch(`${Wr}/tiktok/videos/${e}?${o}`);if(!l.ok)throw new Error("Failed to fetch TikTok videos");return l.json()},getCampaignAnalytics:async(e,t,n,r,a)=>{const i=new URLSearchParams({access_token:t});n&&i.append("since",n),r&&i.append("until",r),a&&i.append("metrics",a);const o=await fetch(`${Wr}/tiktok/analytics/${e}?${i}`);if(!o.ok)throw new Error("Failed to fetch TikTok campaign analytics");return o.json()},getAudienceInsights:async(e,t,n,r)=>{const a=new URLSearchParams({access_token:t});n&&a.append("since",n),r&&a.append("until",r);const i=await fetch(`${Wr}/tiktok/audience/${e}?${a}`);if(!i.ok)throw new Error("Failed to fetch TikTok audience insights");return i.json()}},WW=({clientId:e})=>{const[t,n]=h.useState("all"),[r,a]=h.useState({since:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],until:new Date().toISOString().split("T")[0]}),{data:i}=Me({queryKey:["meta-connection",e],queryFn:()=>wo.getConnectionStatus(e),enabled:!!e}),{data:o}=Me({queryKey:["tiktok-accounts",e],queryFn:()=>Qu.getAccounts(e),enabled:!!e}),l=(i==null?void 0:i.connected)||!1,c=(i==null?void 0:i.pages)||[],{data:u,isLoading:d}=Me({queryKey:["meta-posts",r.since,r.until],queryFn:async()=>{if(!l||c.length===0)return[];const j=[];for(const S of c)try{const C=(await wo.getFacebookPosts(S.id,S.access_token,25,r.since,r.until)).posts.map(E=>({...E,platform:"facebook"}));if(j.push(...C),S.instagram_business_account){const R=(await wo.getInstagramPosts(S.instagram_business_account.id,S.access_token,25,r.since,r.until)).posts.map(M=>({...M,platform:"instagram"}));j.push(...R)}}catch(k){console.error(`Error fetching posts for page ${S.id}:`,k)}return j},enabled:l&&c.length>0}),{data:p,isLoading:f}=Me({queryKey:["tiktok-posts",r.since,r.until],queryFn:async()=>{if(!(o!=null&&o.connected)||!o.accounts.length)return[];const j=[];for(const S of o.accounts)try{const C=(await Qu.getVideos(S.advertiser_id,S.access_token,25,1,r.since,r.until)).videos.map(E=>({...E,platform:"tiktok"}));j.push(...C)}catch(k){console.error(`Error fetching TikTok videos for account ${S.advertiser_id}:`,k)}return j},enabled:!!(o!=null&&o.connected)&&o.accounts.length>0}),m=[...u||[],...p||[]],g=t==="all"?m:m.filter(j=>j.platform===t),x={totalPosts:g.length,totalLikes:g.reduce((j,S)=>{var k,C;return S.platform==="facebook"||S.platform==="instagram"?j+(((C=(k=S.likes)==null?void 0:k.summary)==null?void 0:C.total_count)||S.like_count||0):j},0),totalComments:g.reduce((j,S)=>{var k,C;return j+(((C=(k=S.comments)==null?void 0:k.summary)==null?void 0:C.total_count)||S.comments_count||0)},0),totalShares:g.reduce((j,S)=>{var k;return j+(((k=S.shares)==null?void 0:k.count)||0)},0),avgEngagement:g.length>0?g.reduce((j,S)=>{var R,M,N,T,I;const k=((M=(R=S.likes)==null?void 0:R.summary)==null?void 0:M.total_count)||S.like_count||0,C=((T=(N=S.comments)==null?void 0:N.summary)==null?void 0:T.total_count)||S.comments_count||0,E=((I=S.shares)==null?void 0:I.count)||0;return j+k+C+E},0)/g.length:0},w=j=>j>=1e6?(j/1e6).toFixed(1)+"M":j>=1e3?(j/1e3).toFixed(1)+"K":j.toString(),v=j=>new Date(j).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),y=j=>{var R,M,N,T,I,F,_;const S=((M=(R=j.likes)==null?void 0:R.summary)==null?void 0:M.total_count)||j.like_count||0,k=((T=(N=j.comments)==null?void 0:N.summary)==null?void 0:T.total_count)||j.comments_count||0,C=((I=j.shares)==null?void 0:I.count)||0,E=((_=(F=j.reactions)==null?void 0:F.summary)==null?void 0:_.total_count)||0;return{likes:S,comments:k,shares:C,reactions:E}},b=j=>{switch(j){case"facebook":return s.jsx("div",{className:"w-5 h-5 bg-blue-600 rounded flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-bold",children:"f"})});case"instagram":return s.jsx("div",{className:"w-5 h-5 bg-gradient-to-br from-purple-600 to-pink-500 rounded flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs",children:"📷"})});case"tiktok":return s.jsx("div",{className:"w-5 h-5 bg-black rounded flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs",children:"♪"})});default:return null}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Social Media Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Monitor your social media performance across platforms"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{className:"w-4 h-4 text-gray-400"}),s.jsx("input",{type:"date",value:r.since,onChange:j=>a(S=>({...S,since:j.target.value})),className:"px-3 py-2 border border-gray-300 rounded-md text-sm"}),s.jsx("span",{className:"text-gray-400",children:"to"}),s.jsx("input",{type:"date",value:r.until,onChange:j=>a(S=>({...S,until:j.target.value})),className:"px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]}),s.jsx("div",{className:"flex gap-2",children:["all","facebook","instagram","tiktok"].map(j=>s.jsx("button",{onClick:()=>n(j),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${t===j?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:j.charAt(0).toUpperCase()+j.slice(1)},j))}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(oe,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Posts"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.totalPosts})]}),s.jsx(Ga,{className:"w-8 h-8 text-blue-600"})]})}),s.jsx(oe,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Likes"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w(x.totalLikes)})]}),s.jsx(Fy,{className:"w-8 h-8 text-red-500"})]})}),s.jsx(oe,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Comments"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w(x.totalComments)})]}),s.jsx(By,{className:"w-8 h-8 text-blue-500"})]})}),s.jsx(oe,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Engagement"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w(Math.round(x.avgEngagement))})]}),s.jsx(ja,{className:"w-8 h-8 text-green-500"})]})})]}),!l&&!(o!=null&&o.connected)&&s.jsx(oe,{className:"p-6 bg-yellow-50 border-yellow-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(Et,{className:"w-4 h-4 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-yellow-800",children:"No Social Media Accounts Connected"}),s.jsx("p",{className:"text-sm text-yellow-700",children:"Connect your Meta (Facebook/Instagram) or TikTok accounts to see your posts and analytics."})]})]})}),g.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.slice(0,12).map(j=>{const S=y(j),k=v(j.created_time||j.timestamp||"");return s.jsxs(oe,{className:"overflow-hidden",children:[(j.full_picture||j.media_url||j.thumbnail_url)&&s.jsx("div",{className:"aspect-square bg-gray-100",children:s.jsx("img",{src:j.full_picture||j.media_url||j.thumbnail_url,alt:"Post content",className:"w-full h-full object-cover",onError:C=>{C.currentTarget.style.display="none"}})}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[b(j.platform),s.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:j.platform})]}),s.jsx("span",{className:"text-xs text-gray-500",children:k})]}),s.jsx("div",{className:"mb-3",children:s.jsx("p",{className:"text-sm text-gray-800 line-clamp-3",children:j.message||j.caption||"No caption available"})}),s.jsx("div",{className:"flex items-center justify-between text-sm text-gray-600",children:s.jsxs("div",{className:"flex items-center gap-4",children:[S.likes>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Fy,{className:"w-4 h-4"}),s.jsx("span",{children:w(S.likes)})]}),S.comments>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(By,{className:"w-4 h-4"}),s.jsx("span",{children:w(S.comments)})]}),S.shares>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(iT,{className:"w-4 h-4"}),s.jsx("span",{children:w(S.shares)})]})]})}),(j.permalink_url||j.permalink)&&s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:s.jsxs("a",{href:j.permalink_url||j.permalink,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[s.jsx(Xa,{className:"w-4 h-4"}),"View Post"]})})]})]},j.id)})}):s.jsxs(oe,{className:"p-8 text-center",children:[s.jsx("div",{className:"text-gray-400 mb-2",children:s.jsx(Ga,{className:"w-12 h-12 mx-auto"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No Posts Found"}),s.jsx("p",{className:"text-gray-600",children:d||f?"Loading posts...":"No posts available for the selected date range and platform."})]})]})},qw=["Facebook","Instagram","X (Twitter)","LinkedIn","Google Ads","TikTok","YouTube","Snapchat"],Kw=["BHD","AED","SAR","KWD","QAR","OMR","USD","EUR"],qW=()=>{const[e,t]=h.useState("cpc"),{cpcRows:n,setCpcRows:r,cpmRows:a,setCpmRows:i,cpcTableShownOnBusinessData:o,setCpcTableShownOnBusinessData:l,cpmTableShownOnBusinessData:c,setCpmTableShownOnBusinessData:u}=JP(),d=()=>{const D={id:Date.now().toString(),channel:"Facebook",currency:"BHD",targetAudience:"",format:"",estimatedClicks:0,cpc:0,netCost:0};r([...n,D])},p=()=>{const D={id:Date.now().toString(),channel:"Facebook",currency:"BHD",targetAudience:"",format:"",impressions:0,frequencyUser:0,frequencyWeek:0,addressableAudience:0,percentReach:0,reach:0,estImpressions:0,netRate:0,netCost:0};i([...a,D])},f=(D,$,z)=>{const U=n.map(O=>{if(O.id===D){const W={...O,[$]:z};return($==="estimatedClicks"||$==="cpc")&&(W.netCost=W.estimatedClicks*W.cpc),W}return O});r(U)},m=(D,$,z)=>{const U=a.map(O=>{if(O.id===D){const W={...O,[$]:z};if($==="addressableAudience"||$==="percentReach"){const A=Number(W.addressableAudience)||0,K=Number(W.percentReach)||0;W.reach=A&&K?Math.round(A*K/100):0}if($==="impressions"||$==="frequencyUser"||$==="frequencyWeek"){const A=Number(W.impressions)||0,K=Number(W.frequencyUser)||0,V=Number(W.frequencyWeek)||0;W.estImpressions=A*K*V}return($==="estImpressions"||$==="netRate"||$==="impressions"||$==="frequencyUser"||$==="frequencyWeek")&&(W.netCost=W.estImpressions&&W.netRate?W.estImpressions/1e3*W.netRate:0),W}return O});i(U)},g=D=>{const $=n.filter(z=>z.id!==D);r($)},x=D=>{const $=a.filter(z=>z.id!==D);i($)},w=n.reduce((D,$)=>D+$.netCost,0),v=a.reduce((D,$)=>D+$.netCost,0),y=a.length>0?a[0].currency:"BHD",b={BHD:2.65,AED:.272,SAR:.267,KWD:3.27,QAR:.275,OMR:2.6,USD:1,EUR:1.1},j=v||333502.37,S=j*.05,k=(j+S)*.05,C=j+S+k,E=b[y]||1,R=[{item:"Media Cost",amount:j,usd:Math.round(j*E)},{item:"Agency Fee 5%",amount:S,usd:Math.round(S*E)},{item:"VAT 5%",amount:k,usd:Math.round(k*E)}],M=R.reduce((D,$)=>D+$.usd,0),N=a.reduce((D,$)=>D+$.addressableAudience,0),T=a.reduce((D,$)=>D+$.reach,0),I=a.reduce((D,$)=>D+$.estImpressions,0),F=a.length>0?T/N*100:0,_={addressableAudience:N,percentReach:Math.round(F),reach:T,frequency:a.length>0?Math.round(a.reduce((D,$)=>D+$.frequencyUser,0)/a.length):0,durationWeeks:a.length>0?Math.round(a.reduce((D,$)=>D+$.frequencyWeek,0)/a.length):0,estImpressions:I};return s.jsx("div",{className:"space-y-6",children:s.jsxs(oe,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Media Plan"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Plan and budget your advertising campaigns across different channels"})]}),s.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>t("cpc"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${e==="cpc"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"CPC (Cost Per Click)"}),s.jsx("button",{onClick:()=>t("cpm"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${e==="cpm"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"CPM (Cost Per Thousand Impressions)"})]})]}),e==="cpc"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Cost Per Click Campaigns"}),s.jsx("button",{type:"button",onClick:()=>l(!o),className:`p-1 rounded hover:bg-gray-100 transition-colors ${o?"text-green-600":"text-gray-400"}`,title:o?"Table is shown on Business Data (editing disabled)":"Table is hidden from Business Data (editing enabled)",children:s.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:[s.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),s.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})})]}),s.jsxs("button",{onClick:d,className:"btn-primary inline-flex items-center",children:[s.jsx(tn,{className:"w-4 h-4 mr-2"}),"Add Campaign"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Channel"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Currency"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Target Audience"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Format"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Est. Clicks"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CPC"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net Cost"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(D=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-3 py-4",children:s.jsx("select",{value:D.channel,onChange:$=>f(D.id,"channel",$.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:qw.map($=>s.jsx("option",{value:$,children:$},$))})}),s.jsx("td",{className:"px-3 py-4",children:s.jsx("select",{value:D.currency,onChange:$=>f(D.id,"currency",$.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:Kw.map($=>s.jsx("option",{value:$,children:$},$))})}),s.jsx("td",{className:"px-3 py-4",children:s.jsx("input",{type:"text",value:D.targetAudience,onChange:$=>f(D.id,"targetAudience",$.target.value),disabled:o,className:`w-full px-2 py-1 border rounded-md text-sm ${o?"border-gray-200 bg-gray-50 text-gray-500 cursor-not-allowed":"border-gray-300 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}`,placeholder:"Target audience description"})}),s.jsx("td",{className:"px-3 py-4",children:s.jsx("input",{type:"text",value:D.format,onChange:$=>f(D.id,"format",$.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., Static, Video"})}),s.jsx("td",{className:"px-3 py-4",children:s.jsx("input",{type:"number",value:D.estimatedClicks,onChange:$=>f(D.id,"estimatedClicks",parseFloat($.target.value)||0),className:"w-full px-2 py-1 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500",min:"0"})}),s.jsx("td",{className:"px-3 py-4",children:s.jsx("input",{type:"number",value:D.cpc,onChange:$=>f(D.id,"cpc",parseFloat($.target.value)||0),className:"w-full px-2 py-1 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500",min:"0",step:"0.01"})}),s.jsx("td",{className:"px-3 py-4",children:s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[D.netCost.toLocaleString()," ",D.currency]})}),s.jsx("td",{className:"px-3 py-4",children:s.jsx("button",{onClick:()=>g(D.id),className:"text-red-600 hover:text-red-800",children:s.jsx(xr,{className:"w-4 h-4"})})})]},D.id))})]})}),s.jsx("div",{className:"flex justify-end",children:s.jsx("div",{className:"bg-gray-50 px-4 py-3 rounded-lg",children:s.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["Total CPC Cost: ",w.toLocaleString()," BHD"]})})}),s.jsxs("div",{className:"mt-8 space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Total Investment"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Campaign costs calculated from CPC data above (read-only) - Currency: ",n.length>0?n[0].currency:"BHD"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Investment"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n.length>0?n[0].currency:"BHD"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"USD"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(()=>{const D=n.length>0?n[0].currency:"BHD",$=b[D]||1,z=w||0,U=z*.05,O=(z+U)*.05,W=z+U+O,A=[{item:"Media Cost",amount:z,usd:Math.round(z*$)},{item:"Agency Fee 5%",amount:U,usd:Math.round(U*$)},{item:"VAT 5%",amount:O,usd:Math.round(O*$)}],K=A.reduce((V,H)=>V+H.usd,0);return s.jsxs(s.Fragment,{children:[A.map((V,H)=>s.jsxs("tr",{className:"bg-gray-50",children:[s.jsx("td",{className:"px-3 py-4 text-sm font-medium text-gray-900",children:V.item}),s.jsxs("td",{className:"px-3 py-4 text-sm font-medium text-gray-900",children:[D," ",V.amount.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),s.jsxs("td",{className:"px-3 py-4 text-sm font-medium text-gray-900",children:["$",V.usd.toLocaleString()]})]},H)),s.jsxs("tr",{className:"bg-gray-800 text-white font-semibold",children:[s.jsx("td",{className:"px-3 py-4 text-sm font-medium",children:"Grand Total"}),s.jsxs("td",{className:"px-3 py-4 text-sm font-medium",children:[D," ",W.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),s.jsxs("td",{className:"px-3 py-4 text-sm font-medium",children:["$",K.toLocaleString()]})]})]})})()})]})})]})]}),e==="cpm"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Cost Per Thousand Impressions (CPM) Campaigns"}),s.jsx("button",{type:"button",onClick:()=>u(!c),className:`p-1 rounded hover:bg-gray-100 transition-colors ${c?"text-green-600":"text-gray-400"}`,title:c?"Table is shown on Business Data (editing disabled)":"Table is hidden from Business Data (editing enabled)",children:s.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:[s.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),s.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})})]}),s.jsxs("button",{onClick:p,className:"btn-primary inline-flex items-center",children:[s.jsx(tn,{className:"w-4 h-4 mr-2"}),"Add Campaign"]})]}),s.jsx("div",{className:"w-full",children:s.jsxs("table",{className:"w-full table-auto divide-y divide-gray-200 text-sm",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-2 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-20",children:"Channel"}),s.jsx("th",{className:"px-2 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-16",children:"Currency"}),s.jsx("th",{className:"px-2 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-40",children:"Target Audience"}),s.jsx("th",{className:"px-2 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-32",children:"Format"}),s.jsx("th",{className:"px-2 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-20",children:"Impressions"}),s.jsx("th",{className:"px-2 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-16",children:"F/User"}),s.jsx("th",{className:"px-2 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-16",children:"F/Week"}),s.jsx("th",{className:"px-2 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-24",children:"Addressable Aud."}),s.jsx("th",{className:"px-2 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-16",children:"% Reach"}),s.jsx("th",{className:"px-2 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-20",children:"Reach"}),s.jsx("th",{className:"px-2 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-24",children:"Est. Impr."}),s.jsx("th",{className:"px-2 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-16",children:"Net Rate"}),s.jsx("th",{className:"px-2 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-20",children:"Net Cost"}),s.jsx("th",{className:"px-2 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-16",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(D=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-2 py-3",children:s.jsx("select",{value:D.channel,onChange:$=>m(D.id,"channel",$.target.value),className:"w-full px-1 py-1 border border-gray-300 rounded text-xs focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:qw.map($=>s.jsx("option",{value:$,children:$},$))})}),s.jsx("td",{className:"px-2 py-3",children:s.jsx("select",{value:D.currency,onChange:$=>m(D.id,"currency",$.target.value),className:"w-full px-1 py-1 border border-gray-300 rounded text-xs focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:Kw.map($=>s.jsx("option",{value:$,children:$},$))})}),s.jsx("td",{className:"px-2 py-3",children:s.jsx("textarea",{value:D.targetAudience,onChange:$=>m(D.id,"targetAudience",$.target.value),className:"w-full px-1 py-1 border border-gray-300 rounded text-xs focus:ring-1 focus:ring-primary-500 focus:border-primary-500 resize-none",placeholder:"Target audience",rows:2})}),s.jsx("td",{className:"px-2 py-3",children:s.jsx("textarea",{value:D.format,onChange:$=>m(D.id,"format",$.target.value),className:"w-full px-1 py-1 border border-gray-300 rounded text-xs focus:ring-1 focus:ring-primary-500 focus:border-primary-500 resize-none",placeholder:"Format",rows:2})}),s.jsx("td",{className:"px-2 py-3",children:s.jsx("input",{type:"number",value:D.impressions,onChange:$=>m(D.id,"impressions",parseFloat($.target.value)||0),className:"w-full px-1 py-1 border border-gray-300 rounded text-xs focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:"0"})}),s.jsx("td",{className:"px-2 py-3",children:s.jsx("input",{type:"number",value:D.frequencyUser,onChange:$=>m(D.id,"frequencyUser",parseFloat($.target.value)||0),className:"w-full px-1 py-1 border border-gray-300 rounded text-xs focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:"0"})}),s.jsx("td",{className:"px-2 py-3",children:s.jsx("input",{type:"number",value:D.frequencyWeek,onChange:$=>m(D.id,"frequencyWeek",parseFloat($.target.value)||0),className:"w-full px-1 py-1 border border-gray-300 rounded text-xs focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:"0"})}),s.jsx("td",{className:"px-2 py-3",children:s.jsx("input",{type:"number",value:D.addressableAudience,onChange:$=>m(D.id,"addressableAudience",parseFloat($.target.value)||0),className:"w-full px-1 py-1 border border-gray-300 rounded text-xs focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:"0"})}),s.jsx("td",{className:"px-2 py-3",children:s.jsx("input",{type:"number",value:D.percentReach,onChange:$=>m(D.id,"percentReach",parseFloat($.target.value)||0),className:"w-full px-1 py-1 border border-gray-300 rounded text-xs focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:"0",max:"100"})}),s.jsx("td",{className:"px-2 py-3",children:s.jsx("span",{className:"text-xs font-medium text-gray-900 block",children:D.reach.toLocaleString()})}),s.jsx("td",{className:"px-2 py-3",children:s.jsx("span",{className:"text-xs text-gray-600 block",children:D.estImpressions.toLocaleString()})}),s.jsx("td",{className:"px-2 py-3",children:s.jsx("input",{type:"number",value:D.netRate,onChange:$=>m(D.id,"netRate",parseFloat($.target.value)||0),className:"w-full px-1 py-1 border border-gray-300 rounded text-xs focus:ring-1 focus:ring-primary-500 focus:border-primary-500",min:"0",step:"0.01"})}),s.jsx("td",{className:"px-2 py-3",children:s.jsxs("span",{className:"text-xs font-medium text-gray-900 block",children:[D.netCost.toLocaleString()," ",D.currency]})}),s.jsx("td",{className:"px-2 py-3",children:s.jsx("button",{onClick:()=>x(D.id),className:"text-red-600 hover:text-red-800 p-1",children:s.jsx(xr,{className:"w-3 h-3"})})})]},D.id))})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-gray-50 px-4 py-3 rounded-lg",children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Total Cost"}),s.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:[v.toLocaleString()," BHD"]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 rounded-lg",children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Total Addressable Audience"}),s.jsx("div",{className:"text-lg font-semibold text-gray-900",children:N.toLocaleString()})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 rounded-lg",children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Total Reach"}),s.jsx("div",{className:"text-lg font-semibold text-gray-900",children:T.toLocaleString()})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 rounded-lg",children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Total Impressions"}),s.jsx("div",{className:"text-lg font-semibold text-gray-900",children:I.toLocaleString()})]})]}),s.jsxs("div",{className:"mt-8 space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Key Performance Indicators (KPIs)"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Consolidated data from CPM campaigns above (read-only)"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Addressable Audience"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"%ge Reach"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reach"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Frequency / user"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration by week"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Est. Impressions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.jsxs("tr",{className:"bg-gray-50",children:[s.jsx("td",{className:"px-3 py-4",children:s.jsx("span",{className:"text-sm font-medium text-gray-900",children:_.addressableAudience.toLocaleString()})}),s.jsx("td",{className:"px-3 py-4",children:s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[_.percentReach,"%"]})}),s.jsx("td",{className:"px-3 py-4",children:s.jsx("span",{className:"text-sm font-medium text-gray-900",children:_.reach.toLocaleString()})}),s.jsx("td",{className:"px-3 py-4",children:s.jsx("span",{className:"text-sm font-medium text-gray-900",children:_.frequency})}),s.jsx("td",{className:"px-3 py-4",children:s.jsx("span",{className:"text-sm font-medium text-gray-900",children:_.durationWeeks})}),s.jsx("td",{className:"px-3 py-4",children:s.jsx("span",{className:"text-sm font-medium text-gray-900",children:_.estImpressions.toLocaleString()})})]})})]})})]}),s.jsxs("div",{className:"mt-8 space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Total Investment"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Campaign costs calculated from CPM data above (read-only) - Currency: ",y]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Investment"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:y}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"USD"})]})}),s.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[R.map((D,$)=>s.jsxs("tr",{className:"bg-gray-50",children:[s.jsx("td",{className:"px-3 py-4 text-sm font-medium text-gray-900",children:D.item}),s.jsxs("td",{className:"px-3 py-4 text-sm font-medium text-gray-900",children:[y," ",D.amount.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),s.jsxs("td",{className:"px-3 py-4 text-sm font-medium text-gray-900",children:["$",D.usd.toLocaleString()]})]},$)),s.jsxs("tr",{className:"bg-gray-800 text-white font-semibold",children:[s.jsx("td",{className:"px-3 py-4 text-sm font-medium",children:"Grand Total"}),s.jsxs("td",{className:"px-3 py-4 text-sm font-medium",children:[y," ",C.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),s.jsxs("td",{className:"px-3 py-4 text-sm font-medium",children:["$",M.toLocaleString()]})]})]})]})})]})]})]})})},KW=()=>{const{selectedClient:e}=vi(),[t,n]=h.useState("data"),[r,a]=h.useState(""),[i,o]=h.useState(!1),[l,c]=h.useState(!1),[u,d]=h.useState(!1),[p,f]=h.useState(null);zn.useEffect(()=>{const N=localStorage.getItem("meta_connected")==="true";c(N)},[]),zn.useEffect(()=>{const N=T=>{var I;((I=T.data)==null?void 0:I.type)==="TIKTOK_AUTH_SUCCESS"&&(o(!0),console.log("TikTok connected successfully!"))};return window.addEventListener("message",N),()=>window.removeEventListener("message",N)},[]),zn.useEffect(()=>{e&&Qu.getAccounts(e.id).then(N=>{o(N.connected)}).catch(N=>{console.error("Error checking TikTok connection:",N),o(!1)})},[e]);const m=()=>{if(i){o(!1);return}const N=`${window.location.protocol}//${window.location.host}/tiktok-auth-callback`,T=`https://business-api.tiktok.com/portal/auth?app_id=7522384605962469377&state=${(e==null?void 0:e.id)||"default"}&redirect_uri=${encodeURIComponent(N)}`;window.open(T,"tiktok-auth","width=600,height=700,scrollbars=yes,resizable=yes")||alert("Popup was blocked. Please allow popups for this site and try again.")},g=async()=>{if(l){localStorage.removeItem("meta_access_token"),localStorage.removeItem("meta_user"),localStorage.removeItem("meta_pages"),localStorage.removeItem("meta_connected"),c(!1);return}if(!e){alert("Please select a client first");return}try{const{authUrl:N}=await wo.getAuthUrl();window.location.href=N}catch(N){console.error("Error connecting to Meta:",N),alert("Failed to connect to Meta. Please try again.")}},{data:x=[],isLoading:w,refetch:v}=Me({queryKey:["reports",e==null?void 0:e.id,r],queryFn:()=>e?FN.getReports({...r?{month:r}:{},clientId:e.id}):Promise.resolve([]),enabled:!!e});zn.useMemo(()=>{const N=new Set;return x.forEach(T=>{const I=new Date(T.report_date),F=`${I.getFullYear()}-${String(I.getMonth()+1).padStart(2,"0")}`;N.add(F)}),Array.from(N).sort().reverse()},[x]);const y=async()=>{var F;if(!e){alert("Please select a client first");return}const N=document.getElementById("excel-file-input"),T=(F=N==null?void 0:N.files)==null?void 0:F[0];if(!T){alert("Please select a file first");return}d(!0),f(null);const I=new FormData;I.append("file",T),I.append("clientId",e.id);try{const D=await(await fetch("/api/import",{method:"POST",body:I})).json();f(D),D.success&&window.location.reload()}catch{f({success:!1,message:"Import failed. Please try again."})}finally{d(!1),N.value=""}},b=async()=>{if(!e){alert("Please select a client first");return}if(window.confirm(`Are you sure you want to clear all data for ${e.name}? This action cannot be undone.`))try{const I=await(await fetch(`/api/import/clear-all/${e.id}`,{method:"DELETE"})).json();I.success?(alert(`Successfully deleted ${I.data.deleted} records`),window.location.reload()):alert(`Failed to clear records: ${I.message}`)}catch{alert("Failed to clear records. Please try again.")}},[j,S]=h.useState({}),[k,C]=h.useState({}),[E,R]=h.useState({}),M=async N=>{if(!e){alert("Please select a client first");return}C(T=>({...T,[N]:!0})),R(T=>({...T,[N]:!1})),console.log("🔍 Saving note for date:",N,"client:",e.id);try{const T={notes:j[N]||"",clientId:e.id};console.log("🔍 Request body:",T);const I=await fetch(`/api/reports/${N}/notes`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)});if(console.log("🔍 Response status:",I.status),!I.ok){const _=await I.text();throw console.error("🔍 Response error:",_),new Error(`Failed to save note: ${I.status} - ${_}`)}const F=await I.json();console.log("🔍 Save success:",F),R(_=>({..._,[N]:!0})),v(),setTimeout(()=>R(_=>({..._,[N]:!1})),3e3)}catch(T){console.error("🔍 Save note error:",T),alert(`Failed to save note: ${T.message}`)}finally{C(T=>({...T,[N]:!1}))}};return s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Action Labs"}),e?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border-b border-gray-200 mb-8",children:s.jsxs("nav",{className:"-mb-px flex space-x-8",children:[s.jsx("button",{onClick:()=>n("data"),className:`py-2 px-1 border-b-2 font-medium text-sm ${t==="data"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Data Entry"}),s.jsx("button",{onClick:()=>n("strategy"),className:`py-2 px-1 border-b-2 font-medium text-sm ${t==="strategy"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Strategy View"}),s.jsx("button",{onClick:()=>n("content"),className:`py-2 px-1 border-b-2 font-medium text-sm ${t==="content"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Content"}),s.jsx("button",{onClick:()=>n("social"),className:`py-2 px-1 border-b-2 font-medium text-sm ${t==="social"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Social Media"}),s.jsx("button",{onClick:()=>n("media"),className:`py-2 px-1 border-b-2 font-medium text-sm ${t==="media"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Media Plan"})]})}),t==="data"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx(oe,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Excel Data Import"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:["Upload your Excel file with financial data for ",e.name,". The system will process the data and update your dashboard."]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"w-12 h-12 mx-auto bg-green-100 rounded-full flex items-center justify-center mb-4",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Upload Excel File"}),s.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Choose your .xlsx file and click Import to process"})]}),s.jsx("input",{id:"excel-file-input",type:"file",accept:".xlsx,.xls",className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 mb-4"}),s.jsxs("div",{className:"mt-4 text-xs text-gray-400 mb-6",children:[s.jsx("p",{children:"Expected columns: Report Date, Registered Onboarded, Linked Accounts,"}),s.jsx("p",{children:"Total Advance Applications, Total Advance Applicants,"}),s.jsx("p",{children:"Total Micro Financing Applications, Total Micro Financing Applicants,"}),s.jsx("p",{children:"Total Personal Finance Applications, Total Personal Finance Applicants,"}),s.jsx("p",{children:"Total BNPL Applications, Total BNPL Applicants"})]})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx("button",{onClick:y,disabled:u,className:"flex items-center justify-center px-6 py-3 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:u?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Importing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(fd,{className:"w-4 h-4 mr-2"}),"Import Excel Data"]})}),s.jsxs("button",{onClick:b,className:"flex items-center justify-center px-6 py-3 bg-red-600 text-white text-sm font-medium rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500",children:[s.jsx(xr,{className:"w-4 h-4 mr-2"}),"Clear All Records"]})]}),p&&s.jsx("div",{className:`p-4 rounded-md ${p.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:p.success?s.jsx("div",{className:"w-5 h-5 text-green-400",children:"✓"}):s.jsx("div",{className:"w-5 h-5 text-red-400",children:"✗"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:`text-sm font-medium ${p.success?"text-green-800":"text-red-800"}`,children:p.message}),p.data&&s.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[s.jsxs("p",{children:["Processed: ",p.data.inserted," records"]}),p.data.errors&&p.data.errors.length>0&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-red-600",children:"Errors:"}),s.jsx("ul",{className:"list-disc list-inside text-xs",children:p.data.errors.slice(0,3).map((N,T)=>s.jsx("li",{children:N},T))})]})]})]})]})})]})]})}),s.jsx(oe,{children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Financial Data Table"}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Data for ",e.name]})]}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Registered Onboarded"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Linked Accounts"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Advance Applications"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Advance Applicants"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Micro Finance Applications"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Micro Finance Applicants"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Personal Finance Applications"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Personal Finance Applicants"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"BNPL Applications"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"BNPL Applicants"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map((N,T)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:new Date(N.report_date).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.registeredOnboarded||N.registered_onboarded||0}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.linkedAccounts||N.linked_accounts||0}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.totalAdvanceApplications||N.total_advance_applications||0}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.totalAdvanceApplicants||N.total_advance_applicants||0}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.totalMicroFinancingApplications||N.total_micro_financing_applications||0}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.totalMicroFinancingApplicants||N.total_micro_financing_applicants||0}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.totalPersonalFinanceApplication||N.total_personal_finance_application||0}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.totalPersonalFinanceApplicants||N.total_personal_finance_applicants||0}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.totalBnplApplication||N.total_bnpl_applications||0}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.totalBnplApplicants||N.total_bnpl_applicants||0}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("textarea",{rows:2,placeholder:"Add note...",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",value:j.hasOwnProperty(N.report_date)?j[N.report_date]:N.notes??"",onChange:I=>S(F=>({...F,[N.report_date]:I.target.value}))}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("button",{className:`px-4 py-1 text-sm font-medium rounded transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 ${k[N.report_date]?"bg-gray-300 text-gray-600 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,disabled:k[N.report_date],onClick:()=>M(N.report_date),children:k[N.report_date]?"Saving...":E[N.report_date]?"Saved!":"Save Note"}),E[N.report_date]&&s.jsx("span",{className:"text-green-600 text-xs ml-2",children:"Note saved"})]})]})})]},N.id||T))})]}),x.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:s.jsx("p",{children:"No data available. Upload an Excel file to get started."})})]})]})})]}),t==="strategy"&&s.jsx(WU,{}),t==="content"&&s.jsx(UW,{}),t==="social"&&s.jsx("div",{children:l||i?s.jsx(WW,{clientId:(e==null?void 0:e.id)||""}):s.jsx("div",{className:"space-y-6",children:s.jsx(oe,{children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-pink-400 to-purple-600 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Social Media Management"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:["Manage social media content, campaigns, and analytics for ",e==null?void 0:e.name,"."]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-2xl mx-auto",children:[s.jsx("div",{className:"bg-white border-2 border-dashed border-gray-300 rounded-lg p-6 hover:border-gray-400 transition-colors",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`w-12 h-12 mx-auto mb-3 rounded-lg flex items-center justify-center ${l?"bg-green-100":"bg-gradient-to-br from-blue-600 to-pink-500"}`,children:l?s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):s.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),s.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Meta (Facebook/Instagram)"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Connect your Meta Business account for Facebook & Instagram management"}),s.jsx("button",{onClick:g,className:`mt-3 px-4 py-2 text-sm font-medium rounded-md transition-colors ${l?"bg-red-600 text-white hover:bg-red-700":"bg-blue-600 text-white hover:bg-blue-700"}`,children:l?"Disconnect Meta":"Connect Meta"})]})}),s.jsx("div",{className:"bg-white border-2 border-dashed border-gray-300 rounded-lg p-6 hover:border-gray-400 transition-colors",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`w-12 h-12 mx-auto mb-3 rounded-lg flex items-center justify-center ${i?"bg-green-100":"bg-black"}`,children:i?s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):s.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12.53.02C13.84 0 15.14.01 16.44 0c.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"})})}),s.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"TikTok"}),s.jsx("p",{className:"text-sm text-gray-500",children:i?"Connected to TikTok Business":"Short-form video content and ads"}),s.jsx("button",{onClick:m,className:`mt-3 px-4 py-2 text-sm font-medium rounded-md transition-colors ${i?"bg-red-600 text-white hover:bg-red-700":"bg-black text-white hover:bg-gray-800"}`,children:i?"Disconnect":"Connect TikTok"})]})})]})]})})})}),t==="media"&&s.jsx(qW,{})]}):s.jsx(oe,{children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:s.jsx(kn,{className:"w-8 h-8 text-gray-400"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Client Selection Required"}),s.jsx("p",{className:"text-gray-600",children:"Please select a client from the home page to access Action Labs features."})]})})]})};class VW{constructor(){this.requiredFields=["campaignName","typeOfCampaign","campaignBudget","productService","campaignObjective","campaignNarrative","campaignConcept","campaignTagline"],this.budgetPatterns=[/^\$[\d,]+(\.\d{2})?$/,/^£[\d,]+(\.\d{2})?$/,/^€[\d,]+(\.\d{2})?$/,/^[\d,]+(\.\d{2})?\s*(USD|GBP|EUR|dollars?|pounds?|euros?)$/i,/^[\d,]+k?$/i]}validateCampaign(t){const n=[],r=[],a=[];let i=0;const o=this.validateRequiredFields(t);o.length>0?n.push(...o.map(m=>`${this.getFieldLabel(m)} is required`)):i+=40;const l=this.validateBudget(t.campaignBudget);i+=l.score,l.errors&&n.push(...l.errors),l.warnings&&r.push(...l.warnings),l.suggestions&&a.push(...l.suggestions);const c=this.validateContent(t);i+=c.score,c.warnings&&r.push(...c.warnings),c.suggestions&&a.push(...c.suggestions);const u=this.validateStrategy(t);i+=u.score,u.warnings&&r.push(...u.warnings),u.suggestions&&a.push(...u.suggestions);const d=this.validateActivities(t);i+=d.score,d.warnings&&r.push(...d.warnings),d.suggestions&&a.push(...d.suggestions);const p=this.generateOverallFeedback(i,n,r);return{isValid:n.length===0&&i>=70,score:i,feedback:p,suggestions:a.length>0?a:void 0,warnings:r.length>0?r:void 0,errors:n.length>0?n:void 0}}validateRequiredFields(t){return this.requiredFields.filter(n=>{const r=t[n];return!r||typeof r=="string"&&r.trim().length===0})}validateBudget(t){if(!t||t.trim().length===0)return{score:0,errors:["Budget is required"]};const n=t.trim(),r=[],a=[],i=[];if(!this.budgetPatterns.some(c=>c.test(n)))return r.push("Budget format is invalid. Use formats like $50,000, £30,000, or 50000 USD"),{score:0,errors:r};const l=this.extractBudgetNumber(n);return l<1e3?(a.push("Budget seems very low for a marketing campaign"),i.push("Consider if this budget is sufficient for your campaign objectives"),{score:10,warnings:a,suggestions:i}):l>1e6?(a.push("This is a very large budget - ensure proper approval processes"),i.push("Break down budget allocation across different activities"),{score:12,warnings:a,suggestions:i}):{score:15}}validateContent(t){let n=0;const r=[],a=[],i=this.assessContentQuality(t.campaignName);t.campaignName.length>=5&&t.campaignName.length<=50&&i.isValid?n+=5:t.campaignName.length<5?(r.push("Campaign name is too short"),a.push("Campaign name should be descriptive and memorable (5-50 characters)")):i.isValid?(r.push("Campaign name is too long"),a.push("Keep campaign name concise and impactful (under 50 characters)")):(r.push("Campaign name appears to be nonsense or gibberish"),a.push("Provide a real, professional campaign name that describes your marketing initiative"));const o=t.campaignObjective.split(" ").length,l=this.assessContentQuality(t.campaignObjective);o>=10&&o<=100&&l.isValid?n+=5:o<10?(r.push("Campaign objective needs more detail"),a.push("Include specific, measurable goals (increase awareness by X%, generate Y leads, etc.)")):l.isValid||(r.push("Campaign objective appears to be nonsense or contains gibberish"),a.push("Provide a clear, professional objective with specific measurable goals"));const c=t.campaignNarrative.split(" ").length,u=this.assessContentQuality(t.campaignNarrative);c>=15&&u.isValid?n+=5:c<15?(r.push("Campaign narrative is too brief"),a.push("Develop a compelling story that connects emotionally with your audience")):u.isValid||(r.push("Campaign narrative appears to be gibberish or nonsense"),a.push("Write a real, compelling story that explains your campaign's purpose and impact"));const d=t.campaignConcept.split(" ").length,p=this.assessContentQuality(t.campaignConcept);d>=10&&p.isValid?n+=5:d<10?(r.push("Campaign concept needs more elaboration"),a.push("Describe the creative direction, visual style, and key creative elements")):p.isValid||(r.push("Campaign concept appears to be nonsense or gibberish"),a.push("Provide a real creative concept with actual design and execution details"));const f=t.campaignTagline.split(" ").length,m=this.assessContentQuality(t.campaignTagline);return f>=2&&f<=8&&m.isValid?n+=5:f<2?(r.push("Tagline is too short"),a.push("Create a memorable tagline that captures your campaign essence (2-8 words)")):m.isValid?(r.push("Tagline is too long"),a.push("Keep tagline punchy and memorable (2-8 words optimal)")):(r.push("Tagline appears to be nonsense, gibberish, or unprofessional"),a.push("Create a real, professional tagline that represents your brand and campaign")),this.assessContentQuality(t.productService).isValid||(r.push("Product/Service description appears to be nonsense or gibberish"),a.push("Provide a clear, professional description of what you are marketing"),n=Math.max(0,n-5)),{score:n,warnings:r.length>0?r:void 0,suggestions:a.length>0?a:void 0}}validateStrategy(t){let n=0;const r=[],a=[],o={"brand-awareness":["outdoor","radio","influencers","pressRelease","videoAds"],"product-launch":["mediaEvent","pressRelease","influencers","videoAds","photoshoot"],"lead-generation":["videoAds","sponsorAds","influencers"],"sales-conversion":["videoAds","sponsorAds","inMallActivation"],"customer-retention":["influencers","radio","sponsorAds"],seasonal:["outdoor","radio","inMallActivation","videoAds"]}[t.typeOfCampaign]||[],l=Object.entries(t.activities).filter(([u,d])=>d).map(([u,d])=>u);return o.some(u=>l.includes(u))?n+=10:(r.push("Selected activities may not align optimally with campaign type"),a.push(`For ${t.typeOfCampaign} campaigns, consider: ${o.slice(0,3).join(", ")}`),n+=5),{score:n,warnings:r.length>0?r:void 0,suggestions:a.length>0?a:void 0}}validateActivities(t){const n=Object.values(t.activities).filter(Boolean).length,r=[],a=[];return n===0?(r.push("No marketing activities selected"),a.push("Select at least 2-3 complementary marketing activities for campaign success"),{score:0,warnings:r,suggestions:a}):n===1?(r.push("Only one activity selected"),a.push("Consider adding complementary activities for better reach and impact"),{score:5,warnings:r,suggestions:a}):n>=2&&n<=5?{score:10}:n>5?(r.push("Many activities selected - ensure sufficient budget and resources"),a.push("Focus on 3-5 high-impact activities rather than spreading resources thin"),{score:8,warnings:r,suggestions:a}):{score:10}}extractBudgetNumber(t){const r=t.replace(/[$£€,\s]/g,"").replace(/k$/i,"000").match(/(\d+(?:\.\d{2})?)/);return r?parseFloat(r[1]):0}getFieldLabel(t){return{campaignName:"Campaign Name",typeOfCampaign:"Campaign Type",campaignBudget:"Campaign Budget",productService:"Product/Service Description",campaignObjective:"Campaign Objective",campaignNarrative:"Campaign Narrative",campaignConcept:"Campaign Concept",campaignTagline:"Campaign Tagline",campaignHeroArtwork:"Hero Artwork Description"}[t]||t}generateOverallFeedback(t,n,r){return n.length>0?"❌ Campaign validation failed. Please address all required fields and errors before proceeding.":t>=90?"🎉 Excellent! Your campaign is well-planned and ready for execution. All elements are professionally structured.":t>=80?"✅ Great job! Your campaign is solid with minor areas for improvement. Ready to proceed with confidence.":t>=70?"👍 Good campaign foundation. Consider addressing the suggestions to enhance campaign effectiveness.":t>=60?"⚠️ Campaign needs improvement. Please review the warnings and suggestions before proceeding.":"❌ Campaign requires significant improvements. Please address all issues before submission."}assessContentQuality(t){if(!t||t.trim().length===0)return{isValid:!1,confidence:0};const n=t.trim().toLowerCase();let r=0,a=10;if([/^[a-z]{1,3}$/i,/^(test|asdf|qwerty|lorem|ipsum|hello|world|sample|demo|placeholder|dummy|fake|random)/i,/^[0-9]+$/,/^[!@#$%^&*()]+$/,/(.)\1{2,}/,/^(xyz|abc|123|ttt|yyy|uuu|iii|ooo|ppp|qqq|rrr|eee|www|sss|aaa|ddd|fff|ggg|hhh|jjj|kkk|lll|zzz|xxx|ccc|vvv|bbb|nnn|mmm)/i,/^(fuck|shit|damn|crap|stupid|dumb|retard|ass|hell|wtf|lol|omg|brb|idk|tbh|smh|fml|yolo|rofl|lmao|lmfao)/i,/^(blah|meh|whatever|ugh|hmm|haha|hehe|hoho|hihi)/i,/^(qwe|wer|ert|rty|tyu|yui|uio|iop|asd|sdf|dfg|fgh|ghj|hjk|jkl|zxc|xcv|cvb|vbn|bnm)/i,/^[qwertyuiopasdfghjklzxcvbnm]{4,}$/i,/^(abcd|efgh|ijkl|mnop|qrst|uvwx|yz)/i,/^(1234|5678|9012|3456|7890)/i,/^(aaaa|bbbb|cccc|dddd|eeee|ffff|gggg|hhhh|iiii|jjjj|kkkk|llll|mmmm|nnnn|oooo|pppp|qqqq|rrrr|ssss|tttt|uuuu|vvvv|wwww|xxxx|yyyy|zzzz)/i].some(x=>x.test(n)))return{isValid:!1,confidence:0};const l=t.trim().split(/\s+/);if(l.length===1&&l[0].length<4)return{isValid:!1,confidence:0};const c=l.reduce((x,w)=>(x[w.toLowerCase()]=(x[w.toLowerCase()]||0)+1,x),{});if(Object.values(c).some(x=>x>Math.ceil(l.length/2))&&l.length>2)return{isValid:!1,confidence:0};t.length>=5&&(r+=1),/[A-Z]/.test(t)&&(r+=1),/\s/.test(t)&&(r+=2),/[.,!?;:]/.test(t)&&(r+=1),/(.)\1{3,}/.test(t)||(r+=2),t.split(" ").length>=2&&(r+=2),/^\d+$/.test(t)||(r+=1);const d=t.split(/\s+/),p=["the","and","or","but","in","on","at","to","for","of","with","by","from","up","about","into","through","during","before","after","above","below","between","among","this","that","these","those","my","your","his","her","its","our","their","a","an","some","many","few","all","any","most","other","such","what","which","who","when","where","why","how","is","are","was","were","be","been","being","have","has","had","do","does","did","will","would","could","should","may","might","must","can","campaign","marketing","brand","product","service","customer","client","business","company","sales","revenue","profit","growth","strategy","plan","goal","objective","target","audience","market","advertising","promotion","launch","awareness","engagement"];d.some(x=>x.length>=3&&p.includes(x.toLowerCase()))&&(r+=2);const m=r/a;return{isValid:m>=.8,confidence:m}}validateField(t,n,r){switch(t){case"campaignName":return n.trim()?n.length<5?{isValid:!1,message:"Campaign name too short",suggestion:"Use a descriptive name (5+ characters)"}:n.length>50?{isValid:!1,message:"Campaign name too long",suggestion:"Keep it concise (under 50 characters)"}:{isValid:!0}:{isValid:!1,message:"Campaign name is required"};case"campaignBudget":return n.trim()?this.budgetPatterns.some(o=>o.test(n.trim()))?{isValid:!0}:{isValid:!1,message:"Invalid budget format",suggestion:"Use format like $50,000 or 50000 USD"}:{isValid:!1,message:"Budget is required"};case"campaignTagline":return n.trim()?n.split(" ").length>8?{isValid:!1,message:"Tagline too long",suggestion:"Keep it punchy (2-8 words)"}:{isValid:!0}:{isValid:!1,message:"Tagline is required"};default:return n.trim()?{isValid:!0}:{isValid:!1,message:`${this.getFieldLabel(t)} is required`}}}}const qr=[{id:"name",title:"Campaign Name",subtitle:"What would you like to call this campaign?",type:"text",field:"campaignName",placeholder:"e.g., Spring Product Launch 2024",icon:"🚀"},{id:"type",title:"Type of Campaign",subtitle:"What kind of campaign are you creating?",type:"select",field:"typeOfCampaign",options:[{value:"brand-awareness",label:"Brand Awareness"},{value:"product-launch",label:"Product Launch"},{value:"lead-generation",label:"Lead Generation"},{value:"sales-conversion",label:"Sales Conversion"},{value:"customer-retention",label:"Customer Retention"},{value:"seasonal",label:"Seasonal Campaign"},{value:"other",label:"Other"}],icon:"🎯"},{id:"budget",title:"Campaign Budget",subtitle:"What's the total budget for this campaign?",type:"text",field:"campaignBudget",placeholder:"e.g., $50,000 or £30,000",icon:"💰"},{id:"product",title:"Product/Service",subtitle:"Tell us about the product or service being promoted",type:"textarea",field:"productService",placeholder:"Describe the key features, benefits, and unique selling points...",icon:"📦"},{id:"objective",title:"Campaign Objective",subtitle:"What are the main goals you want to achieve?",type:"textarea",field:"campaignObjective",placeholder:"e.g., Increase brand awareness by 30%, generate 1000 leads, boost sales by 20%...",icon:"🎯"},{id:"narrative",title:"Campaign Narrative",subtitle:"What's the core story behind this campaign?",type:"textarea",field:"campaignNarrative",placeholder:"Describe the key message, emotional connection, and story you want to tell...",icon:"📖"},{id:"concept",title:"Campaign Concept",subtitle:"What's the creative concept and theme?",type:"textarea",field:"campaignConcept",placeholder:"Describe the creative direction, visual style, and overall concept...",icon:"💡"},{id:"tagline",title:"Campaign Tagline",subtitle:"Create a memorable tagline that captures the essence",type:"text",field:"campaignTagline",placeholder:'e.g., "Experience the Future Today"',icon:"✨"},{id:"hero",title:"Campaign Hero Artwork",subtitle:"Describe the main visual identity and hero creative",type:"textarea",field:"campaignHeroArtwork",placeholder:"Describe the key visual elements, style, colors, and hero artwork concept...",icon:"🎨"},{id:"manager",title:"Assign Account Manager",subtitle:"Who will be responsible for managing this campaign?",type:"employee-select",field:"accountManager",icon:"👤"},{id:"activities",title:"Campaign Activities",subtitle:"Which marketing activities will you include?",type:"checkbox",field:"activities",options:[{key:"videoAds",label:"Video Ads",description:"Create video advertisements for digital platforms"},{key:"photoshoot",label:"Photoshoot",description:"Professional product/brand photography"},{key:"inMallActivation",label:"In Mall Activation",description:"Physical activation in shopping centers"},{key:"mediaEvent",label:"Media Event",description:"Press conferences and media gatherings"},{key:"influencers",label:"Influencer Marketing",description:"Collaborate with social media influencers"},{key:"outdoor",label:"Outdoor Advertising",description:"Billboards, transit, and outdoor displays"},{key:"radio",label:"Radio Advertising",description:"Radio spots and sponsorships"},{key:"pressRelease",label:"Press Release",description:"PR announcements and media coverage"},{key:"sponsorAds",label:"Sponsor Ads",description:"Sponsored content and partnerships"}],icon:"📋"},{id:"approval",title:"Approval Process",subtitle:"Set up the approval workflow",type:"approval",icon:"✅"},{id:"validation",title:"AI Validation",subtitle:"Let our PM Agent validate your campaign",type:"validation",icon:"🤖"}],HW=({isOpen:e,onClose:t,onComplete:n})=>{const[r,a]=h.useState(0),[i]=h.useState(new VW),[o,l]=h.useState(null),[c,u]=h.useState({}),[d,p]=h.useState(!1),[f,m]=h.useState([]),[g,x]=h.useState(""),[w,v]=h.useState(!1),[y,b]=h.useState({campaignName:"",typeOfCampaign:"",campaignBudget:"",productService:"",campaignObjective:"",campaignNarrative:"",campaignConcept:"",campaignTagline:"",campaignHeroArtwork:"",accountManager:"",activities:{videoAds:!1,photoshoot:!1,inMallActivation:!1,mediaEvent:!1,influencers:!1,outdoor:!1,radio:!1,pressRelease:!1,sponsorAds:!1},internalApproval:!0,clientApproval:!0}),j=qr[r],S=r===qr.length-1,k=r===0;zn.useEffect(()=>{(async()=>{var D;try{const $=`${window.location.protocol}//${window.location.hostname}:2345`;console.log("🔄 Attempting to fetch employees from:",`${$}/api/employees`);const z=localStorage.getItem("authToken");console.log("🔑 Using token:",z?"Token exists":"No token found");const U=await fetch(`${$}/api/employees`,{headers:{Authorization:`Bearer ${z}`,"Content-Type":"application/json"}});if(console.log("📡 Response status:",U.status,U.statusText),!U.ok){const W=await U.text();throw console.error("❌ Response error:",W),new Error(`Failed to fetch employees: ${U.status} - ${W}`)}const O=await U.json();console.log("✅ Fetched employees data:",O),console.log("👥 Number of employees:",((D=O.employees)==null?void 0:D.length)||0),m(O.employees||[])}catch($){console.error("❌ Error fetching employees:",$);const z=[{id:"1",name:"Admin User",email:"admin@example.com",role:"Administrator",avatar:"/api/placeholder/32/32"},{id:"2",name:"Test Employee",email:"employee@example.com",role:"Employee",avatar:"/api/placeholder/32/32"}];console.log("🔄 Using fallback mock employees:",z),m(z)}})()},[]),zn.useEffect(()=>{const _=D=>{const $=D.target;$.closest(".employee-dropdown")||$.closest(".employee-search-input")||w&&v(!1)};return document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[w]);const C=f.filter(_=>g===""||_.name.toLowerCase().includes(g.toLowerCase())||_.role.toLowerCase().includes(g.toLowerCase())),E=(_,D)=>{if(b($=>({...$,[_]:D})),typeof D=="string"&&D.trim()){const $=i.validateField(_,D,y.typeOfCampaign);u(z=>({...z,[_]:$}))}},R=(_,D)=>{b($=>({...$,activities:{...$.activities,[_]:D}}))},M=_=>{console.log("🎯 Selecting employee:",_),b(D=>({...D,accountManager:_.id})),x(_.name),v(!1)},N=()=>{const _=j;if(_.type==="validation")return(o==null?void 0:o.isValid)||!1;if(_.type==="text"||_.type==="textarea"){const D=y[_.field],$=c[_.field];return D!==""&&($==null?void 0:$.isValid)!==!1}return _.type==="select"?y[_.field]!=="":_.type==="employee-select"?y.accountManager!=="":!0},T=async()=>{r===qr.length-2?(p(!0),a(_=>_+1),setTimeout(()=>{const _=i.validateCampaign(y);l(_),p(!1)},2e3)):S&&(o!=null&&o.isValid)&&y.accountManager?n(y):a(_=>_+1)},I=()=>{a(_=>_-1)},F=()=>{var D,$;const _=j;switch(_.type){case"text":const z=c[_.field];return s.jsxs("div",{children:[s.jsx("input",{type:"text",value:y[_.field],onChange:O=>E(_.field,O.target.value),placeholder:_.placeholder,className:`w-full px-4 py-3 text-lg border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${(z==null?void 0:z.isValid)===!1?"border-red-300 bg-red-50":(z==null?void 0:z.isValid)===!0?"border-green-300 bg-green-50":"border-gray-300"}`,autoFocus:!0}),z&&!z.isValid&&s.jsxs("div",{className:"mt-2 text-sm text-red-600 flex items-start gap-2",children:[s.jsx(Zn,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("div",{children:z.message}),z.suggestion&&s.jsx("div",{className:"text-blue-600 mt-1",children:z.suggestion})]})]}),(z==null?void 0:z.isValid)&&s.jsxs("div",{className:"mt-2 text-sm text-green-600 flex items-center gap-2",children:[s.jsx(qn,{className:"w-4 h-4"}),"Looks good!"]})]});case"textarea":return s.jsx("textarea",{value:y[_.field],onChange:O=>E(_.field,O.target.value),placeholder:_.placeholder,className:"w-full px-4 py-3 text-lg border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:4,autoFocus:!0});case"select":return s.jsxs("select",{value:y[_.field],onChange:O=>E(_.field,O.target.value),className:"w-full px-4 py-3 text-lg border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0,children:[s.jsx("option",{value:"",children:"Select campaign type..."}),(D=_.options)==null?void 0:D.map(O=>s.jsx("option",{value:O.value,children:O.label},O.value))]});case"checkbox":return s.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:($=_.options)==null?void 0:$.map(O=>s.jsxs("label",{className:"flex items-start gap-3 p-4 border-2 border-gray-200 rounded-lg hover:border-blue-300 cursor-pointer transition-colors",children:[s.jsx("input",{type:"checkbox",checked:y.activities[O.key],onChange:W=>R(O.key,W.target.checked),className:"mt-1 w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:O.label}),s.jsx("div",{className:"text-sm text-gray-600",children:O.description})]})]},O.key))});case"approval":return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"flex items-center gap-3 p-4 border-2 border-gray-200 rounded-lg cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:y.internalApproval,onChange:O=>b(W=>({...W,internalApproval:O.target.checked})),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:"Internal Approval Required"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Campaign needs internal stakeholder approval"})]})]}),s.jsxs("label",{className:"flex items-center gap-3 p-4 border-2 border-gray-200 rounded-lg cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:y.clientApproval,onChange:O=>b(W=>({...W,clientApproval:O.target.checked})),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:"Client Approval Required"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Campaign needs final client approval"})]})]})]});case"validation":return s.jsx("div",{className:"space-y-6",children:d?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin w-16 h-16 mx-auto mb-4",children:s.jsx(gr,{className:"w-16 h-16 text-blue-500"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"AI Agent Analyzing..."}),s.jsx("p",{className:"text-gray-600",children:"Our PM Agent is validating your campaign for completeness and quality"}),s.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:[s.jsx("div",{className:"animate-pulse",children:"Checking required fields..."}),s.jsx("div",{className:"animate-pulse",style:{animationDelay:"0.5s"},children:"Validating budget format..."}),s.jsx("div",{className:"animate-pulse",style:{animationDelay:"1s"},children:"Analyzing content quality..."}),s.jsx("div",{className:"animate-pulse",style:{animationDelay:"1.5s"},children:"Assessing strategic alignment..."})]})]}):o?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:`p-4 rounded-lg border-2 ${o.score>=80?"bg-green-50 border-green-200":o.score>=70?"bg-yellow-50 border-yellow-200":"bg-red-50 border-red-200"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.score>=80?s.jsx(qn,{className:"w-6 h-6 text-green-600"}):o.score>=70?s.jsx(Zn,{className:"w-6 h-6 text-yellow-600"}):s.jsx(Zn,{className:"w-6 h-6 text-red-600"}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-semibold text-gray-900",children:["Validation Score: ",o.score,"/100"]}),s.jsx("div",{className:"text-sm text-gray-600",children:o.feedback})]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-3",children:s.jsx("div",{className:`h-2 rounded-full transition-all duration-1000 ${o.score>=80?"bg-green-500":o.score>=70?"bg-yellow-500":"bg-red-500"}`,style:{width:`${o.score}%`}})})]}),s.jsxs("div",{className:"max-h-96 overflow-y-auto space-y-4 pr-3 border border-gray-200 rounded-lg p-2",style:{maxHeight:"24rem",overflowY:"scroll"},children:[o.errors&&o.errors.length>0&&s.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsxs("h4",{className:"font-medium text-red-800 mb-2 flex items-center gap-2",children:[s.jsx(Zn,{className:"w-4 h-4"}),"Required Fixes"]}),s.jsx("ul",{className:"text-sm text-red-700 space-y-1",children:o.errors.map((O,W)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-red-500 mt-0.5",children:"•"}),O]},W))})]}),o.warnings&&o.warnings.length>0&&s.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[s.jsxs("h4",{className:"font-medium text-yellow-800 mb-2 flex items-center gap-2",children:[s.jsx(Zn,{className:"w-4 h-4"}),"Recommendations"]}),s.jsx("ul",{className:"text-sm text-yellow-700 space-y-1",children:o.warnings.map((O,W)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-yellow-500 mt-0.5",children:"•"}),O]},W))})]}),o.suggestions&&o.suggestions.length>0&&s.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsxs("h4",{className:"font-medium text-blue-800 mb-2 flex items-center gap-2",children:[s.jsx(gr,{className:"w-4 h-4"}),"AI Suggestions"]}),s.jsx("ul",{className:"text-sm text-blue-700 space-y-1",children:o.suggestions.map((O,W)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-blue-500 mt-0.5",children:"•"}),O]},W))})]})]}),!o.isValid&&s.jsx("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Please go back and address the issues above before proceeding."})})]}):null});case"employee-select":const U=f.find(O=>O.id===y.accountManager);return s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"mb-4",children:s.jsx("input",{type:"text",placeholder:"Search employees by name or role...",value:g,onChange:O=>{x(O.target.value),v(!0)},onFocus:()=>v(!0),className:"employee-search-input w-full px-4 py-3 text-lg border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0})}),U&&s.jsx("div",{className:"mb-4 p-4 bg-blue-50 border-2 border-blue-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white font-medium",children:U.name.split(" ").map(O=>O[0]).join("")}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:U.name}),s.jsx("div",{className:"text-sm text-gray-600",children:U.role}),s.jsx("div",{className:"text-sm text-blue-600",children:U.email})]}),s.jsx("div",{className:"ml-auto",children:s.jsx("button",{onClick:()=>{b(O=>({...O,accountManager:""})),x("")},className:"text-gray-400 hover:text-gray-600",children:s.jsx(vt,{className:"w-5 h-5"})})})]})}),w&&C.length>0&&s.jsx("div",{className:"employee-dropdown absolute z-10 w-full bg-white border-2 border-gray-300 rounded-lg shadow-lg max-h-64 overflow-y-auto",children:C.map(O=>s.jsx("button",{onClick:W=>{W.preventDefault(),W.stopPropagation(),M(O)},className:"w-full p-4 text-left hover:bg-gray-50 border-b border-gray-100 last:border-b-0 focus:outline-none focus:bg-blue-50",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gray-500 rounded-full flex items-center justify-center text-white font-medium text-sm",children:O.name.split(" ").map(W=>W[0]).join("")}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:O.name}),s.jsx("div",{className:"text-sm text-gray-600",children:O.role}),s.jsx("div",{className:"text-xs text-gray-500",children:O.email})]})]})},O.id))}),w&&g&&C.length===0&&s.jsxs("div",{className:"absolute z-10 w-full bg-white border-2 border-gray-300 rounded-lg shadow-lg p-4 text-center text-gray-500",children:['No employees found matching "',g,'"']})]});default:return null}};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden animate-in slide-in-from-bottom-4 duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:s.jsx(oT,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Create New Campaign"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Step ",r+1," of ",qr.length]})]})]}),s.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(vt,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"px-6 py-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Progress"}),s.jsxs("div",{className:"text-sm text-blue-600",children:[Math.round((r+1)/qr.length*100),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${(r+1)/qr.length*100}%`}})})]}),s.jsx("div",{className:"flex-grow overflow-y-auto",children:s.jsxs("div",{className:"px-6 py-4 min-h-[400px]",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"text-4xl mb-4",children:j.icon}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:j.title}),s.jsx("p",{className:"text-gray-600",children:j.subtitle})]}),s.jsx("div",{className:"animate-in slide-in-from-right-4 duration-200",children:F()})]})}),s.jsxs("div",{className:"sticky bottom-0 flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:I,disabled:k,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${k?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:text-gray-800 hover:bg-gray-200"}`,children:[s.jsx(B4,{className:"w-4 h-4"}),"Previous"]}),j.type==="validation"&&o&&!o.isValid&&s.jsxs("button",{onClick:()=>a(0),className:"flex items-center gap-2 px-4 py-2 bg-yellow-600 text-white rounded-lg font-medium hover:bg-yellow-700 transition-colors",children:[s.jsx(Zn,{className:"w-4 h-4"}),"Go Back to Fix"]})]}),s.jsx("div",{className:"flex items-center gap-1",children:qr.map((_,D)=>s.jsx("div",{className:`w-2 h-2 rounded-full transition-colors ${D<=r?"bg-blue-500":"bg-gray-300"}`},D))}),s.jsx("button",{onClick:T,disabled:!N(),className:`flex items-center gap-2 px-6 py-2 rounded-lg font-medium transition-colors ${N()?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:S?o!=null&&o.isValid?s.jsxs(s.Fragment,{children:[s.jsx($N,{className:"w-4 h-4"}),"Create Campaign"]}):s.jsxs(s.Fragment,{children:[s.jsx(Zn,{className:"w-4 h-4"}),"Fix Issues First"]}):r===qr.length-2?s.jsxs(s.Fragment,{children:[s.jsx(gr,{className:"w-4 h-4"}),"Validate Campaign"]}):s.jsxs(s.Fragment,{children:["Next",s.jsx(Sc,{className:"w-4 h-4"})]})})]})]})}):null},Dn="/api/tasks",Zs={async getTasks(e={}){const t=new URLSearchParams;e.status&&t.append("status",e.status),e.assignee&&t.append("assignee",e.assignee),e.search&&t.append("search",e.search),e.clientId&&t.append("clientId",e.clientId);const n=t.toString()?`${Dn}?${t}`:Dn,r=await fetch(n);if(!r.ok)throw new Error(`Failed to fetch tasks: ${r.statusText}`);return r.json()},async getTask(e,t){const n=new URLSearchParams;t&&n.append("clientId",t);const r=n.toString()?`${Dn}/${e}?${n}`:`${Dn}/${e}`,a=await fetch(r);if(!a.ok)throw new Error(`Failed to fetch task: ${a.statusText}`);return a.json()},async createTask(e){const t=await fetch(Dn,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`Failed to create task: ${t.statusText}`)}return t.json()},async updateTask(e,t){const n=await fetch(`${Dn}/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok){const r=await n.json().catch(()=>({}));throw new Error(r.error||`Failed to update task: ${n.statusText}`)}return n.json()},async deleteTask(e,t){const n=new URLSearchParams;t&&n.append("clientId",t);const r=n.toString()?`${Dn}/${e}?${n}`:`${Dn}/${e}`,a=await fetch(r,{method:"DELETE"});if(!a.ok){const i=await a.json().catch(()=>({}));throw new Error(i.error||`Failed to delete task: ${a.statusText}`)}return a.json()},async getTaskStats(e){const t=new URLSearchParams;e&&t.append("clientId",e);const n=t.toString()?`${Dn}/stats?${t}`:`${Dn}/stats`,r=await fetch(n);if(!r.ok)throw new Error(`Failed to fetch task stats: ${r.statusText}`);return r.json()},async toggleTaskVisibility(e,t,n){const r=await fetch(`${Dn}/${e}/visibility`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({visible:t,clientId:n})});if(!r.ok){const a=await r.json().catch(()=>({}));throw new Error(a.error||`Failed to update task visibility: ${r.statusText}`)}return r.json()}},Js="/api/sections",_t={async getSections(e){const t=new URLSearchParams;t.append("clientId",e);const n=await fetch(`${Js}?${t}`);if(!n.ok)throw new Error(`Failed to fetch sections: ${n.statusText}`);return n.json()},async getSection(e,t){const n=new URLSearchParams;n.append("clientId",t);const r=await fetch(`${Js}/${e}?${n}`);if(!r.ok)throw new Error(`Failed to fetch section: ${r.statusText}`);return r.json()},async createSection(e){const t=await fetch(Js,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`Failed to create section: ${t.statusText}`)}return t.json()},async updateSection(e,t){const n=await fetch(`${Js}/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok){const r=await n.json().catch(()=>({}));throw new Error(r.error||`Failed to update section: ${n.statusText}`)}return n.json()},async deleteSection(e,t){const n=new URLSearchParams;n.append("clientId",t);const r=await fetch(`${Js}/${e}?${n}`,{method:"DELETE"});if(!r.ok){const a=await r.json().catch(()=>({}));throw new Error(a.error||`Failed to delete section: ${r.statusText}`)}return r.json()},async createSectionTask(e){const t=await fetch("/api/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.error||`Failed to create task: ${t.statusText}`)}return t.json()}},Vw=[{value:"create-new-campaign",label:"Create New Campaign"},{value:"new-campaign",label:"New Campaign"},{value:"website-update",label:"Website Update"},{value:"social-media",label:"Social Media"},{value:"content-creation",label:"Content Creation"},{value:"analytics-reporting",label:"Analytics & Reporting"},{value:"maintenance",label:"Maintenance"},{value:"strategy-planning",label:"Strategy & Planning"},{value:"other",label:"Other"}],Ct={todo:{label:"To Do",color:"bg-gray-500",lightColor:"bg-gray-50",textColor:"text-gray-700",icon:xi},"in-progress":{label:"In Progress",color:"bg-blue-500",lightColor:"bg-blue-50",textColor:"text-blue-700",icon:Uo},pending:{label:"Pending",color:"bg-yellow-500",lightColor:"bg-yellow-50",textColor:"text-yellow-700",icon:mg},completed:{label:"Completed",color:"bg-green-500",lightColor:"bg-green-50",textColor:"text-green-700",icon:qn}},QW=[{key:"all",label:"All",color:"bg-gray-200",textColor:"text-gray-700"},{key:"todo",label:"To Do",color:Ct.todo.color,textColor:Ct.todo.textColor},{key:"in-progress",label:"In Progress",color:Ct["in-progress"].color,textColor:Ct["in-progress"].textColor},{key:"pending",label:"Pending",color:Ct.pending.color,textColor:Ct.pending.textColor},{key:"completed",label:"Completed",color:Ct.completed.color,textColor:Ct.completed.textColor}],YW=()=>{const{selectedClient:e}=vi(),{user:t}=Ss(),[n,r]=h.useState([]),[a,i]=h.useState(new Set),[o,l]=h.useState(new Set),[c,u]=h.useState(new Set),[d,p]=h.useState(null),[f,m]=h.useState(!1),[g,x]=h.useState(!1),[w,v]=h.useState(!1),[y,b]=h.useState(null),[j,S]=h.useState(null),[k,C]=h.useState(null),[E,R]=h.useState("all"),[M,N]=h.useState({title:"",description:"",status:"todo",assignee:"",deadline:"",clientComments:"",actionLabsComments:"",link:""}),[T,I]=h.useState({title:"",type:"create-new-campaign",description:""}),[F,_]=h.useState({campaignType:"",campaignBudget:"",productService:"",campaignObjective:"",campaignNarrative:"",campaignConcept:"",campaignTagline:"",campaignHeroArtwork:"",videoAds:!1,photoshoot:!1,inMallActivation:!1,mediaEvent:!1,influencers:!1,outdoor:!1,radio:!1,pressRelease:!1,sponsorAds:!1,internalApproval:!1,clientApproval:!1}),[D,$]=h.useState({}),[z,U]=h.useState(!1),O=wa(),W=`${window.location.protocol}//${window.location.hostname}:2345`,A=(t==null?void 0:t.user_type)==="client"&&(t==null?void 0:t.association),{data:K,isLoading:V,error:H}=Me({queryKey:["tasks",e==null?void 0:e.id],queryFn:()=>e?Zs.getTasks({clientId:e.id}):Promise.resolve({tasks:[]}),enabled:!!e}),{data:Y,isLoading:le}=Me({queryKey:["sections",e==null?void 0:e.id],queryFn:()=>e?_t.getSections(e.id):Promise.resolve({sections:[]}),enabled:!!e}),qe=ot({mutationFn:P=>(console.log("🚀 Frontend: Creating task with data:",P),Zs.createTask(P)),onSuccess:P=>{console.log("✅ Frontend: Task created successfully:",P),O.invalidateQueries({queryKey:["tasks",e==null?void 0:e.id]}),O.invalidateQueries({queryKey:["sections",e==null?void 0:e.id]}),Si()},onError:P=>{console.error("❌ Frontend: Add task error:",P),alert("Failed to add task. Please try again.")}}),L=ot({mutationFn:({id:P,taskData:J})=>Zs.updateTask(P,J),onSuccess:()=>{O.invalidateQueries({queryKey:["tasks",e==null?void 0:e.id]}),O.invalidateQueries({queryKey:["sections",e==null?void 0:e.id]}),p(null)},onError:P=>{console.error("Update task error:",P),alert("Failed to update task. Please try again.")}}),G=ot({mutationFn:P=>e?Zs.deleteTask(P,e.id):Promise.reject("No client selected"),onSuccess:()=>{O.invalidateQueries({queryKey:["tasks",e==null?void 0:e.id]}),O.invalidateQueries({queryKey:["sections",e==null?void 0:e.id]})},onError:P=>{console.error("Delete task error:",P),alert("Failed to delete task. Please try again.")}}),ie=ot({mutationFn:P=>(console.log("🚀 Frontend: Creating section with data:",P),_t.createSection(P)),onSuccess:P=>{console.log("✅ Frontend: Section created successfully:",P),O.invalidateQueries({queryKey:["sections",e==null?void 0:e.id]}),Aa()},onError:P=>{console.error("❌ Frontend: Add section error:",P),alert("Failed to add section. Please try again.")}});ot({mutationFn:({id:P,sectionData:J})=>_t.updateSection(P,J),onSuccess:()=>{O.invalidateQueries({queryKey:["sections",e==null?void 0:e.id]})},onError:P=>{console.error("Update section error:",P),alert("Failed to update section. Please try again.")}});const q=ot({mutationFn:P=>e?_t.deleteSection(P,e.id):Promise.reject("No client selected"),onSuccess:()=>{O.invalidateQueries({queryKey:["sections",e==null?void 0:e.id]})},onError:P=>{console.error("Delete section error:",P),alert("Failed to delete section. Please try again.")}}),Fe=ot({mutationFn:P=>_t.createSectionTask(P),onSuccess:()=>{O.invalidateQueries({queryKey:["sections",e==null?void 0:e.id]}),Si()},onError:P=>{console.error("Add section task error:",P),alert("Failed to add task to section. Please try again.")}}),pe=ot({mutationFn:({taskId:P,visible:J})=>e?Zs.toggleTaskVisibility(P,J,e.id):Promise.reject("No client selected"),onSuccess:()=>{O.invalidateQueries({queryKey:["tasks",e==null?void 0:e.id]}),O.invalidateQueries({queryKey:["sections",e==null?void 0:e.id]})},onError:P=>{console.error("Toggle visibility error:",P),alert("Failed to toggle task visibility. Please try again.")}});h.useEffect(()=>{K!=null&&K.tasks&&r(K.tasks)},[K]);const nt=P=>{const J=new Set(a);J.has(P)?J.delete(P):J.add(P),i(J)},rt=P=>{const J=new Set(o);J.has(P)?J.delete(P):J.add(P),l(J)},jt=P=>{const J=new Set(c);J.has(P)?J.delete(P):J.add(P),u(J)},Lr=async P=>{if(e)try{console.log("🚀 Creating campaign with data:",P);const J=`${window.location.protocol}//${window.location.hostname}:2345`,ze=await fetch(`${J}/api/campaigns`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)});if(!ze.ok){const Pi=await ze.text();throw new Error(`Failed to create campaign: ${Pi}`)}const at=await ze.json();console.log("✅ Campaign created successfully:",at);const ne={title:P.campaignName,type:"create-new-campaign",description:`Campaign Type: ${P.typeOfCampaign}
Budget: ${P.campaignBudget}
Objective: ${P.campaignObjective}`,clientId:e.id},{section:Pe}=await _t.createSection(ne),zr=await _t.createSectionTask({title:"Campaign Brief",description:"Campaign planning and strategy documentation",status:"todo",sectionId:Pe.id,clientId:e.id}),lr=[{title:"Type of campaign",description:P.typeOfCampaign},{title:"Campaign budget",description:P.campaignBudget},{title:"What's the product/service",description:P.productService},{title:"Campaign objective",description:P.campaignObjective},{title:"Campaign narrative",description:P.campaignNarrative},{title:"Campaign concept",description:P.campaignConcept},{title:"Campaign tagline",description:P.campaignTagline}];for(const Pi of lr)await _t.createSectionTask({title:Pi.title,description:Pi.description,status:"completed",parentId:zr.task.id,sectionId:Pe.id,clientId:e.id});const me=await _t.createSectionTask({title:"Creative Assets",description:"Visual and creative materials development",status:"todo",sectionId:Pe.id,clientId:e.id});await _t.createSectionTask({title:"Campaign Hero artwork",description:P.campaignHeroArtwork,status:P.campaignHeroArtwork?"completed":"todo",parentId:me.task.id,sectionId:Pe.id,clientId:e.id});const hA=await _t.createSectionTask({title:"Campaign Activities",description:"Marketing activities execution",status:"todo",sectionId:Pe.id,clientId:e.id}),gA={videoAds:"Video Ads",photoshoot:"Photoshoot",inMallActivation:"In Mall Activation",mediaEvent:"Media Event",influencers:"Influencer Marketing",outdoor:"Outdoor Advertising",radio:"Radio Advertising",pressRelease:"Press Release",sponsorAds:"Sponsor Ads"};for(const[Pi,sv]of Object.entries(gA))P.activities[Pi]&&await _t.createSectionTask({title:sv,description:`Execute ${sv.toLowerCase()} for the campaign`,status:"todo",parentId:hA.task.id,sectionId:Pe.id,clientId:e.id});const iv=await _t.createSectionTask({title:"Approval Process",description:"Campaign approval workflow",status:"todo",sectionId:Pe.id,clientId:e.id});P.internalApproval&&await _t.createSectionTask({title:"Internal approval",description:"Get internal stakeholder approval",status:"todo",parentId:iv.task.id,sectionId:Pe.id,clientId:e.id}),P.clientApproval&&await _t.createSectionTask({title:"Client approval",description:"Get final client approval for campaign",status:"todo",parentId:iv.task.id,sectionId:Pe.id,clientId:e.id}),O.invalidateQueries({queryKey:["sections",e==null?void 0:e.id]}),v(!1)}catch(J){console.error("Campaign creation error:",J),alert("Failed to create campaign. Please try again.")}},ki=()=>{if(!T.title.trim()||!e)return;const P={title:T.title,type:T.type,description:T.description||void 0,clientId:e.id};ie.mutate(P)},Aa=()=>{I({title:"",type:"create-new-campaign",description:""}),_({campaignType:"",campaignBudget:"",productService:"",campaignObjective:"",campaignNarrative:"",campaignConcept:"",campaignTagline:"",campaignHeroArtwork:"",videoAds:!1,photoshoot:!1,inMallActivation:!1,mediaEvent:!1,influencers:!1,outdoor:!1,radio:!1,pressRelease:!1,sponsorAds:!1,internalApproval:!1,clientApproval:!1}),x(!1)},Si=()=>{N({title:"",description:"",status:"todo",assignee:"",deadline:"",clientComments:"",actionLabsComments:"",link:""}),m(!1),b(null),S(null),C(null)},Sl=()=>{var P;if(!(!M.title.trim()||!e))if(j||k){let J=j;if(k){const at=(P=Y==null?void 0:Y.sections)==null?void 0:P.find(ne=>ne.tasks.some(Pe=>Pe.id===k));J=(at==null?void 0:at.id)||""}const ze={title:M.title,description:M.description||void 0,status:M.status,assignee:M.assignee||void 0,deadline:M.deadline||void 0,clientComments:M.clientComments||void 0,actionLabsComments:M.actionLabsComments||void 0,link:M.link||void 0,parentId:k||void 0,sectionId:J||"",clientId:e.id};Fe.mutate(ze)}else{const J={title:M.title,description:M.description||void 0,status:M.status,assignee:M.assignee||void 0,deadline:M.deadline||void 0,clientComments:M.clientComments||void 0,actionLabsComments:M.actionLabsComments||void 0,link:M.link||void 0,parentId:y||void 0,clientId:e.id};qe.mutate(J)}},Ds=P=>{p({...P})},X=()=>{if(!d||!e)return;const P={title:d.title,description:d.description,status:d.status,assignee:d.assignee,deadline:d.deadline,clientComments:d.clientComments,actionLabsComments:d.actionLabsComments,link:d.link,clientId:e.id};L.mutate({id:d.id,taskData:P})},se=(P,J)=>{window.confirm(`Are you sure you want to delete "${J}"? This will also delete all subtasks.`)&&G.mutate(P)},Ie=(P,J)=>{window.confirm(`Are you sure you want to delete section "${J}"? This will also delete all tasks and subtasks in this section.`)&&q.mutate(P)},Ke=(P,J)=>{window.confirm(`Are you sure you want to delete "${J}"? This will also delete all subtasks.`)&&G.mutate(P)},Tt=(P,J)=>{window.confirm(`Are you sure you want to delete "${J}"?`)&&G.mutate(P)},or=P=>{if(!P.tasks||P.tasks.length===0)return!1;for(const J of P.tasks){if(J.status!=="completed")return!1;if(J.subtasks&&J.subtasks.length>0){for(const ze of J.subtasks)if(ze.status!=="completed")return!1}}return!0},Fr=async P=>{if(e){U(!0);try{let J=P.campaignId;if(!J){const Pe=await fetch(`${W}/api/campaigns`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({campaignName:P.title,campaignObjective:P.description||"Campaign created from project tasks",campaignNarrative:`Campaign section: ${P.title}`,campaignConcept:"Project-based campaign",tagline:P.title,productService:"Project services",accountManager:{id:(t==null?void 0:t._id)||"unknown",name:(t==null?void 0:t.name)||"Unknown User",email:(t==null?void 0:t.email)||"unknown@email.com"},activities:["projectManagement"],status:"draft"})});if(!Pe.ok)throw new Error("Failed to create campaign");J=(await Pe.json()).campaign._id}const ze=localStorage.getItem("authToken"),at=localStorage.getItem("userEmail")||(t==null?void 0:t.email);console.log("🔑 Auth token:",ze?"Present":"Missing"),console.log("👤 User email:",at),(await fetch(`${W}/api/campaigns/${J}/request-internal-approval`,{method:"POST",headers:{"Content-Type":"application/json",...ze?{Authorization:`Bearer ${ze}`}:{},...at?{"X-User-Email":at}:{}}})).ok?(alert(`"${P.title}" has been sent for internal approval!`),$(Pe=>({...Pe,[P.id]:!0}))):alert("Failed to request internal approval")}catch(J){console.error("Error requesting internal approval:",J),alert("Failed to request internal approval")}finally{U(!1)}}},Ea=(P,J)=>{pe.mutate({taskId:P,visible:!J})},Oa=P=>{const J=Ct[P].icon;return s.jsx(J,{className:"w-4 h-4"})},Ta=P=>new Date(P).toLocaleDateString(),_a=E==="all"?n.filter(P=>!A||P.visibleToClient!==!1):n.filter(P=>P.status===E&&(!A||P.visibleToClient!==!1)),Ci=({task:P,isSubtask:J=!1})=>{var zr;const ze=Ct[P.status],at=P.subtasks&&P.subtasks.length>0,ne=a.has(P.id),Pe=!J&&at;return s.jsxs(s.Fragment,{children:[s.jsxs("tr",{className:`border-b border-gray-200 hover:bg-gray-50 ${J?"bg-gray-25":Pe?"bg-blue-50 font-bold":""}`,children:[s.jsx("td",{className:`py-3 px-4 ${J?"pl-12":"pl-4"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[!J&&at&&s.jsx("button",{onClick:()=>nt(P.id),className:"p-1 hover:bg-gray-200 rounded",children:ne?s.jsx(kc,{className:"w-4 h-4"}):s.jsx(Sc,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:`${Pe?"font-bold text-blue-900":"font-medium text-gray-900"}`,children:P.title}),P.description&&s.jsx("div",{className:"text-sm text-gray-600 mt-1",children:P.description})]})]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${ze.color} ${ze.textColor}`,children:[" ",Oa(P.status),ze.label]})}),s.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:P.assignee&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(kn,{className:"w-4 h-4"}),P.assignee]})}),s.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:P.deadline&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ht,{className:"w-4 h-4"}),Ta(P.deadline)]})}),s.jsx("td",{className:"py-3 px-4 text-sm text-gray-600 max-w-xs",children:P.clientComments&&s.jsx("div",{className:"truncate",title:P.clientComments,children:P.clientComments})}),s.jsx("td",{className:"py-3 px-4 text-sm text-gray-600 max-w-xs",children:P.actionLabsComments&&s.jsx("div",{className:"truncate",title:P.actionLabsComments,children:P.actionLabsComments})}),s.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:P.link&&s.jsxs("a",{href:P.link,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-blue-600 hover:text-blue-800",children:[s.jsx(Up,{className:"w-4 h-4"}),"Link"]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[!A&&!J&&s.jsx("button",{onClick:()=>b(P.id),className:"p-1 text-green-600 hover:bg-green-50 rounded",title:"Add Subtask",children:s.jsx(tn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Ds(P),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:A?"Add Client Comment":"Edit Task",children:A?s.jsx(eT,{className:"w-4 h-4"}):s.jsx(vo,{className:"w-4 h-4"})}),!A&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>Ea(P.id,P.visibleToClient??!0),className:`p-1 rounded ${P.visibleToClient?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-50"}`,title:P.visibleToClient?"Visible to client (click to hide)":"Hidden from client (click to show)",children:P.visibleToClient?s.jsx(Xa,{className:"w-4 h-4"}):s.jsx(Cc,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>se(P.id,P.title),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Delete Task",children:s.jsx(xr,{className:"w-4 h-4"})})]})]})})]}),!J&&at&&ne&&s.jsx(s.Fragment,{children:(zr=P.subtasks)==null?void 0:zr.filter(lr=>!A||lr.visibleToClient!==!1).map(lr=>s.jsx(Ci,{task:lr,isSubtask:!0},lr.id))})]})};return s.jsxs("div",{className:"space-y-6",children:[e?s.jsxs(s.Fragment,{children:[s.jsxs(oe,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Project Overview - ",e.name]}),s.jsx("p",{className:"text-gray-600 mt-1",children:A?`View project progress and add comments for ${e.name}`:`Manage tasks, subtasks, and track project progress for ${e.name}`})]}),!A&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>v(!0),className:"btn-primary flex items-center gap-2",children:[s.jsx(tn,{className:"w-4 h-4"}),"Create New Campaign"]}),s.jsxs("button",{onClick:()=>x(!0),className:"btn-secondary flex items-center gap-2",children:[s.jsx(tn,{className:"w-4 h-4"}),"Add Section"]}),s.jsxs("button",{onClick:()=>m(!0),className:"btn-secondary flex items-center gap-2",children:[s.jsx(tn,{className:"w-4 h-4"}),"Add Task"]})]})]}),!A&&g&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:T.type==="create-new-campaign"?"Create New Campaign":"Add New Section"}),T.type==="create-new-campaign"&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-6",children:[s.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"Campaign Template"}),s.jsx("p",{className:"text-sm text-green-700",children:"This will create a complete campaign structure with predefined tasks covering:"}),s.jsxs("ul",{className:"text-sm text-green-700 mt-2 ml-4 list-disc space-y-1",children:[s.jsx("li",{children:"Campaign Brief (type, budget, objectives, narrative, concept, tagline)"}),s.jsx("li",{children:"Creative Assets (hero artwork, visual identity)"}),s.jsx("li",{children:"Marketing Activities (video ads, photoshoot, events, influencers, outdoor, radio, PR, sponsorships)"}),s.jsx("li",{children:"Approval Process (internal and client approvals)"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:T.type==="create-new-campaign"?"Campaign Name":"Section Title"}),s.jsx("input",{type:"text",placeholder:T.type==="create-new-campaign"?"e.g., Spring Product Launch 2024":"e.g., Spring Campaign 2024",value:T.title,onChange:P=>I({...T,title:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section Type"}),s.jsx("select",{value:T.type,onChange:P=>I({...T,type:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:Vw.map(P=>s.jsx("option",{value:P.value,children:P.label},P.value))})]})]}),T.type==="create-new-campaign"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Campaign Brief"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type of Campaign"}),s.jsxs("select",{value:F.campaignType,onChange:P=>_({...F,campaignType:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Select campaign type..."}),s.jsx("option",{value:"product-launch",children:"Product Launch"}),s.jsx("option",{value:"brand-awareness",children:"Brand Awareness"}),s.jsx("option",{value:"sales-promotion",children:"Sales Promotion"}),s.jsx("option",{value:"event-marketing",children:"Event Marketing"}),s.jsx("option",{value:"seasonal-campaign",children:"Seasonal Campaign"}),s.jsx("option",{value:"rebranding",children:"Rebranding"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Campaign Budget"}),s.jsx("input",{type:"text",placeholder:"e.g., $50,000 - $100,000",value:F.campaignBudget,onChange:P=>_({...F,campaignBudget:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"What's the Product/Service"}),s.jsx("textarea",{placeholder:"Describe the product or service being promoted...",value:F.productService,onChange:P=>_({...F,productService:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Campaign Objective"}),s.jsx("textarea",{placeholder:"What do you want to achieve with this campaign?",value:F.campaignObjective,onChange:P=>_({...F,campaignObjective:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Campaign Narrative"}),s.jsx("textarea",{placeholder:"Tell the story behind your campaign...",value:F.campaignNarrative,onChange:P=>_({...F,campaignNarrative:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Campaign Concept"}),s.jsx("input",{type:"text",placeholder:"Core creative concept...",value:F.campaignConcept,onChange:P=>_({...F,campaignConcept:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Campaign Tagline"}),s.jsx("input",{type:"text",placeholder:"Memorable campaign tagline...",value:F.campaignTagline,onChange:P=>_({...F,campaignTagline:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Creative Assets"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Campaign Hero Artwork"}),s.jsx("textarea",{placeholder:"Describe the hero artwork requirements...",value:F.campaignHeroArtwork,onChange:P=>_({...F,campaignHeroArtwork:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3})]})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Campaign Activities"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:F.videoAds,onChange:P=>_({...F,videoAds:P.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-2"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Video Ads"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:F.photoshoot,onChange:P=>_({...F,photoshoot:P.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-2"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Photoshoot"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:F.inMallActivation,onChange:P=>_({...F,inMallActivation:P.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-2"}),s.jsx("span",{className:"text-sm text-gray-700",children:"In Mall Activation"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:F.mediaEvent,onChange:P=>_({...F,mediaEvent:P.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-2"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Media Event"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:F.influencers,onChange:P=>_({...F,influencers:P.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-2"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Influencers"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:F.outdoor,onChange:P=>_({...F,outdoor:P.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-2"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Outdoor"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:F.radio,onChange:P=>_({...F,radio:P.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-2"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Radio"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:F.pressRelease,onChange:P=>_({...F,pressRelease:P.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-2"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Press Release"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:F.sponsorAds,onChange:P=>_({...F,sponsorAds:P.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-2"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Sponsor Ads"})]})]})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Approval Process"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:F.internalApproval,onChange:P=>_({...F,internalApproval:P.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-2"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Internal Approval Required"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:F.clientApproval,onChange:P=>_({...F,clientApproval:P.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-2"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Client Approval Required"})]})]})]})]}),T.type!=="create-new-campaign"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Optional)"}),s.jsx("textarea",{placeholder:"Brief description of this section...",value:T.description,onChange:P=>I({...T,description:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3})]}),s.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t",children:[s.jsxs("button",{onClick:ki,disabled:!T.title.trim(),className:"btn-primary flex items-center gap-2",children:[s.jsx(Pc,{className:"w-4 h-4"}),T.type==="create-new-campaign"?"Create Campaign":"Create Section"]}),s.jsx("button",{onClick:Aa,className:"btn-secondary",children:"Cancel"})]})]})]}),(Y==null?void 0:Y.sections)&&Y.sections.length>0&&s.jsx("div",{className:"space-y-6 mb-6",children:Y.sections.map(P=>{var at;const J=o.has(P.id),ze=((at=Vw.find(ne=>ne.value===P.type))==null?void 0:at.label)||P.type;return s.jsxs("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-100 px-4 py-3 cursor-pointer hover:bg-gray-150 transition-colors",onClick:()=>rt(P.id),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{className:"p-1 hover:bg-gray-200 rounded",children:J?s.jsx(kc,{className:"w-4 h-4"}):s.jsx(Sc,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:P.title}),s.jsxs("p",{className:"text-sm text-gray-600",children:[ze," • ",P.tasks.length," task",P.tasks.length!==1?"s":"",P.type==="create-new-campaign"||P.title.toLowerCase().includes("campaign")?s.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${or(P)?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:or(P)?"✅ All Complete":"⏳ In Progress"}):null]})]})]}),!A&&s.jsxs("div",{className:"flex items-center gap-2",children:[(P.type==="create-new-campaign"||P.title.toLowerCase().includes("campaign"))&&or(P)&&!D[P.id]&&s.jsxs("button",{onClick:ne=>{ne.stopPropagation(),Fr(P)},disabled:z,className:"px-3 py-1 text-sm bg-green-600 text-white rounded-md hover:bg-green-700 flex items-center gap-1 disabled:opacity-50",children:[s.jsx(qn,{className:"w-3 h-3"}),z?"Sending...":"Send for Approval"]}),D[P.id]&&s.jsxs("span",{className:"px-3 py-1 text-sm bg-orange-100 text-orange-800 rounded-md flex items-center gap-1",children:[s.jsx(xi,{className:"w-3 h-3"}),"Pending Approval"]}),s.jsxs("button",{onClick:ne=>{ne.stopPropagation(),S(P.id)},className:"px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center gap-1",children:[s.jsx(tn,{className:"w-3 h-3"}),"Add Task"]}),s.jsx("button",{onClick:ne=>{ne.stopPropagation(),Ie(P.id,P.title)},className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Delete Section",children:s.jsx(xr,{className:"w-4 h-4"})})]})]})}),J&&s.jsx("div",{className:"bg-white",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-2 px-4 font-medium text-gray-900 text-sm",children:"Task"}),s.jsx("th",{className:"text-left py-2 px-4 font-medium text-gray-900 text-sm",children:"Status"}),s.jsx("th",{className:"text-left py-2 px-4 font-medium text-gray-900 text-sm",children:"Assignee"}),s.jsx("th",{className:"text-left py-2 px-4 font-medium text-gray-900 text-sm",children:"Deadline"}),s.jsx("th",{className:"text-left py-2 px-4 font-medium text-gray-900 text-sm",children:"Comments"}),s.jsx("th",{className:"text-left py-2 px-4 font-medium text-gray-900 text-sm",children:"Actions"})]})}),s.jsxs("tbody",{children:[P.tasks.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"text-center py-4 text-gray-500 text-sm",children:"No tasks in this section yet."})}):P.tasks.filter(ne=>!A||ne.visibleToClient!==!1).map(ne=>{var lr;const Pe=ne.subtasks&&ne.subtasks.length>0,zr=c.has(ne.id);return s.jsxs(zn.Fragment,{children:[s.jsxs("tr",{className:`border-t border-gray-100 hover:bg-gray-50 ${Pe?"bg-blue-25":""}`,children:[s.jsx("td",{className:"py-2 px-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[Pe&&s.jsx("button",{onClick:()=>jt(ne.id),className:"p-1 hover:bg-gray-200 rounded",children:zr?s.jsx(kc,{className:"w-3 h-3"}):s.jsx(Sc,{className:"w-3 h-3"})}),s.jsxs("div",{children:[s.jsx("div",{className:`font-medium text-gray-900 text-sm ${Pe?"font-bold":""}`,children:ne.title}),ne.description&&s.jsx("div",{className:"text-xs text-gray-600 mt-1",children:ne.description})]})]})}),s.jsx("td",{className:"py-2 px-4",children:s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${Ct[ne.status].color} ${Ct[ne.status].textColor}`,children:[Oa(ne.status),Ct[ne.status].label]})}),s.jsx("td",{className:"py-2 px-4 text-xs text-gray-600",children:ne.assignee&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(kn,{className:"w-3 h-3"}),ne.assignee]})}),s.jsx("td",{className:"py-2 px-4 text-xs text-gray-600",children:ne.deadline&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ht,{className:"w-3 h-3"}),Ta(ne.deadline)]})}),s.jsxs("td",{className:"py-2 px-4 text-xs text-gray-600",children:[ne.clientComments&&s.jsxs("div",{className:"mb-1",children:[s.jsx("strong",{children:"Client:"})," ",ne.clientComments]}),ne.actionLabsComments&&s.jsxs("div",{children:[s.jsx("strong",{children:"Labs:"})," ",ne.actionLabsComments]})]}),s.jsx("td",{className:"py-2 px-4",children:s.jsxs("div",{className:"flex items-center gap-1",children:[!A&&s.jsx("button",{onClick:()=>C(ne.id),className:"p-1 text-green-600 hover:bg-green-50 rounded text-xs",title:"Add Subtask",children:s.jsx(tn,{className:"w-3 h-3"})}),s.jsx("button",{onClick:()=>Ds(ne),className:"p-1 text-blue-600 hover:bg-blue-50 rounded text-xs",title:A?"Add Comment":"Edit Task",children:s.jsx(vo,{className:"w-3 h-3"})}),ne.link&&s.jsx("a",{href:ne.link,target:"_blank",rel:"noopener noreferrer",className:"p-1 text-blue-600 hover:bg-blue-50 rounded text-xs",children:s.jsx(Up,{className:"w-3 h-3"})}),!A&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>Ea(ne.id,ne.visibleToClient??!0),className:`p-1 rounded text-xs ${ne.visibleToClient?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-50"}`,title:ne.visibleToClient?"Visible to client (click to hide)":"Hidden from client (click to show)",children:ne.visibleToClient?s.jsx(Xa,{className:"w-3 h-3"}):s.jsx(Cc,{className:"w-3 h-3"})}),s.jsx("button",{onClick:()=>Ke(ne.id,ne.title),className:"p-1 text-red-600 hover:bg-red-50 rounded text-xs",title:"Delete Task",children:s.jsx(xr,{className:"w-3 h-3"})})]})]})})]}),Pe&&zr&&((lr=ne.subtasks)==null?void 0:lr.filter(me=>!A||me.visibleToClient!==!1).map(me=>s.jsxs("tr",{className:"border-t border-gray-100 bg-gray-25 hover:bg-gray-50",children:[s.jsxs("td",{className:"py-2 px-4 pl-12",children:[s.jsx("div",{className:"font-medium text-gray-800 text-sm",children:me.title}),me.description&&s.jsx("div",{className:"text-xs text-gray-600 mt-1",children:me.description})]}),s.jsx("td",{className:"py-2 px-4",children:s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${Ct[me.status].color} ${Ct[me.status].textColor}`,children:[Oa(me.status),Ct[me.status].label]})}),s.jsx("td",{className:"py-2 px-4 text-xs text-gray-600",children:me.assignee&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(kn,{className:"w-3 h-3"}),me.assignee]})}),s.jsx("td",{className:"py-2 px-4 text-xs text-gray-600",children:me.deadline&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ht,{className:"w-3 h-3"}),Ta(me.deadline)]})}),s.jsxs("td",{className:"py-2 px-4 text-xs text-gray-600",children:[me.clientComments&&s.jsxs("div",{className:"mb-1",children:[s.jsx("strong",{children:"Client:"})," ",me.clientComments]}),me.actionLabsComments&&s.jsxs("div",{children:[s.jsx("strong",{children:"Labs:"})," ",me.actionLabsComments]})]}),s.jsx("td",{className:"py-2 px-4",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>Ds(me),className:"p-1 text-blue-600 hover:bg-blue-50 rounded text-xs",title:A?"Add Comment":"Edit Subtask",children:s.jsx(vo,{className:"w-3 h-3"})}),me.link&&s.jsx("a",{href:me.link,target:"_blank",rel:"noopener noreferrer",className:"p-1 text-blue-600 hover:bg-blue-50 rounded text-xs",children:s.jsx(Up,{className:"w-3 h-3"})}),!A&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>Ea(me.id,me.visibleToClient??!0),className:`p-1 rounded text-xs ${me.visibleToClient?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-50"}`,title:me.visibleToClient?"Visible to client (click to hide)":"Hidden from client (click to show)",children:me.visibleToClient?s.jsx(Xa,{className:"w-3 h-3"}):s.jsx(Cc,{className:"w-3 h-3"})}),s.jsx("button",{onClick:()=>Tt(me.id,me.title),className:"p-1 text-red-600 hover:bg-red-50 rounded text-xs",title:"Delete Subtask",children:s.jsx(xr,{className:"w-3 h-3"})})]})]})})]},me.id)))]},ne.id)}),!A&&(j===P.id||k&&P.tasks.some(ne=>ne.id===k))&&s.jsxs("tr",{className:"border-t border-gray-200 bg-blue-50",children:[s.jsx("td",{className:"py-2 px-4",children:s.jsx("input",{type:"text",placeholder:"Task title...",value:M.title,onChange:ne=>N({...M,title:ne.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",autoFocus:!0})}),s.jsx("td",{className:"py-2 px-4",children:s.jsxs("select",{value:M.status,onChange:ne=>N({...M,status:ne.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:[s.jsx("option",{value:"todo",children:"To Do"}),s.jsx("option",{value:"in-progress",children:"In Progress"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"completed",children:"Completed"})]})}),s.jsx("td",{className:"py-2 px-4",children:s.jsx("input",{type:"text",placeholder:"Assignee...",value:M.assignee,onChange:ne=>N({...M,assignee:ne.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})}),s.jsx("td",{className:"py-2 px-4",children:s.jsx("input",{type:"date",value:M.deadline,onChange:ne=>N({...M,deadline:ne.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})}),s.jsx("td",{className:"py-2 px-4",children:s.jsx("input",{type:"text",placeholder:"Comments...",value:M.clientComments,onChange:ne=>N({...M,clientComments:ne.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})}),s.jsx("td",{className:"py-2 px-4",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:Sl,disabled:!M.title.trim(),className:"p-1 text-green-600 hover:bg-green-50 rounded text-xs",title:"Save",children:s.jsx(Pc,{className:"w-3 h-3"})}),s.jsx("button",{onClick:Si,className:"p-1 text-gray-600 hover:bg-gray-50 rounded text-xs",title:"Cancel",children:s.jsx(vt,{className:"w-3 h-3"})})]})})]})]})]})})]},P.id)})}),s.jsx("div",{className:"flex gap-2 mb-4",children:QW.map(P=>s.jsx("button",{onClick:()=>R(P.key),className:`px-3 py-1 rounded-full font-medium text-xs focus:outline-none border transition-all ${E===P.key?`${P.color} ${P.textColor} border-black`:`${P.color} ${P.textColor} border-transparent`}`,children:P.label},P.key))}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Task"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Status"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Assignee"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Deadline"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Client Comments"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Action Labs Comments"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Link"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Actions"})]})}),s.jsxs("tbody",{children:[_a.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"text-center py-8 text-gray-500",children:'No tasks yet. Click "Add Task" to get started.'})}):_a.map(P=>s.jsx(Ci,{task:P},P.id)),!A&&(f||y)&&s.jsxs("tr",{className:"border-b border-gray-200 bg-blue-50",children:[s.jsxs("td",{className:`py-3 px-4 ${y?"pl-12":"pl-4"}`,children:[s.jsx("input",{type:"text",placeholder:"Task title...",value:M.title,onChange:P=>N({...M,title:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0}),s.jsx("textarea",{placeholder:"Description (optional)...",value:M.description,onChange:P=>N({...M,description:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 mt-2",rows:2})]}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("select",{value:M.status,onChange:P=>N({...M,status:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"todo",children:"To Do"}),s.jsx("option",{value:"in-progress",children:"In Progress"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"completed",children:"Completed"})]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("input",{type:"text",placeholder:"Assignee...",value:M.assignee,onChange:P=>N({...M,assignee:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("input",{type:"date",value:M.deadline,onChange:P=>N({...M,deadline:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("input",{type:"text",placeholder:"Client comments...",value:M.clientComments,onChange:P=>N({...M,clientComments:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("input",{type:"text",placeholder:"Action Labs comments...",value:M.actionLabsComments,onChange:P=>N({...M,actionLabsComments:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("input",{type:"url",placeholder:"https://...",value:M.link,onChange:P=>N({...M,link:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:Sl,disabled:!M.title.trim()||qe.isPending,className:"p-1 text-green-600 hover:bg-green-50 rounded",title:"Save Task",children:s.jsx(Pc,{className:"w-4 h-4"})}),s.jsx("button",{onClick:Si,className:"p-1 text-gray-600 hover:bg-gray-50 rounded",title:"Cancel",children:s.jsx(vt,{className:"w-4 h-4"})})]})})]})]})]})})]}),d&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:A?"Add Client Comment":"Edit Task"}),s.jsx("button",{onClick:()=>p(null),className:"text-gray-400 hover:text-gray-600",children:s.jsx(vt,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Task Title"}),A?s.jsx("div",{className:"w-full px-3 py-2 border border-gray-200 rounded-md bg-gray-50 text-gray-600",children:d.title}):s.jsx("input",{type:"text",value:d.title,onChange:P=>p({...d,title:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.description&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),A?s.jsx("div",{className:"w-full px-3 py-2 border border-gray-200 rounded-md bg-gray-50 text-gray-600",children:d.description}):s.jsx("textarea",{value:d.description||"",onChange:P=>p({...d,description:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3})]}),!A&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{value:d.status,onChange:P=>p({...d,status:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"todo",children:"To Do"}),s.jsx("option",{value:"in-progress",children:"In Progress"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"completed",children:"Completed"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assignee"}),s.jsx("input",{type:"text",value:d.assignee||"",onChange:P=>p({...d,assignee:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Deadline"}),s.jsx("input",{type:"date",value:d.deadline||"",onChange:P=>p({...d,deadline:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client Comments"}),s.jsx("textarea",{value:d.clientComments||"",onChange:P=>p({...d,clientComments:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4,placeholder:A?"Add your comments here...":"Client comments..."})]}),!A&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Action Labs Comments"}),s.jsx("textarea",{value:d.actionLabsComments||"",onChange:P=>p({...d,actionLabsComments:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link"}),s.jsx("input",{type:"url",value:d.link||"",onChange:P=>p({...d,link:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://..."})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx("button",{onClick:()=>p(null),className:"btn-secondary",children:"Cancel"}),s.jsx("button",{onClick:X,disabled:L.isPending,className:"btn-primary",children:L.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Uo,{className:"w-4 h-4 mr-2 animate-spin"}),A?"Saving Comment...":"Updating..."]}):A?"Save Comment":"Update Task"})]})]})})]}):s.jsx(oe,{children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:s.jsx(kn,{className:"w-8 h-8 text-gray-400"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Client Selection Required"}),s.jsx("p",{className:"text-gray-600",children:"Please select a client from the home page to access project management features."})]})}),s.jsx(HW,{isOpen:w,onClose:()=>v(!1),onComplete:Lr})]})},GW=()=>s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx(YW,{})})}),uc=`${window.location.protocol}//${window.location.hostname}:2345`,XW=()=>{const{token:e,user:t}=Ss(),n=wa(),[r,a]=h.useState(null),[i,o]=h.useState({user_type:"client",association:""}),[l,c]=h.useState(!1),[u,d]=h.useState({email:"",password:"",name:"",user_type:"employee",association:""}),[p,f]=h.useState(null),{data:m,isLoading:g,error:x}=Me({queryKey:["users"],queryFn:async()=>{console.log("🔍 Fetching users with token:",e?"Present":"Missing");const N=await fetch(`${uc}/api/auth/users`,{headers:{Authorization:`Bearer ${e}`}});if(console.log("🔍 Users API response status:",N.status),!N.ok){const I=await N.text();throw console.error("🔍 Users API error:",I),new Error(`Failed to fetch users: ${N.status} - ${I}`)}const T=await N.json();return console.log("🔍 Users API data:",T),T},enabled:!!e}),{data:w,isLoading:v}=Me({queryKey:["clients"],queryFn:async()=>{const N=await fetch(`${uc}/api/clients`,{headers:{Authorization:`Bearer ${e}`}});if(!N.ok)throw new Error("Failed to fetch clients");return N.json()},enabled:!!e}),y=ot({mutationFn:async({userId:N,association:T,user_type:I})=>{const F=await fetch(`${uc}/api/auth/users/${N}/association`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({association:T,user_type:I})});if(!F.ok)throw new Error("Failed to update association");return F.json()},onSuccess:()=>{n.invalidateQueries({queryKey:["users"]}),a(null),o({user_type:"client",association:""})}}),b=ot({mutationFn:async N=>{const T=await fetch(`${uc}/api/auth/users`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(N)});if(!T.ok){const I=await T.json();throw new Error(I.error||"Failed to create user")}return T.json()},onSuccess:N=>{n.invalidateQueries({queryKey:["users"]}),c(!1),d({email:"",password:"",name:"",user_type:"employee",association:""}),f(N.credentials),setTimeout(()=>f(null),1e4)}}),j=N=>{a(N._id),o({user_type:N.user_type||"client",association:N.association||""})},S=N=>{y.mutate({userId:N,association:i.association,user_type:i.user_type})},k=()=>{a(null),o({user_type:"client",association:""})},C=()=>{if(!u.email||!u.password||!u.name){alert("Please fill in all required fields");return}b.mutate({email:u.email,password:u.password,name:u.name,user_type:u.user_type,association:u.association||void 0})},E=()=>{const N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let T="";for(let I=0;I<8;I++)T+=N.charAt(Math.floor(Math.random()*N.length));d(I=>({...I,password:T}))},R=(m==null?void 0:m.users)||[],M=(w==null?void 0:w.clients)||[];return(t==null?void 0:t.email)!=="admin@example.com"&&(t==null?void 0:t.user_type)!=="admin"&&(t==null?void 0:t.user_type)!=="employee"&&(t==null?void 0:t.user_type)!==void 0?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:s.jsx(oe,{children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ym,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Admin Access Required"}),s.jsx("p",{className:"text-gray-600",children:"You don't have permission to access user management."})]})})}):g||v?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(console.log("🔍 AccessPage Debug:",{token:e?"Present":"Missing",currentUser:t,usersData:m,usersError:x,users:R.length}),s.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Access Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage user access and client associations"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:s.jsx(Et,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Users"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:R.length})]})]})}),s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-full bg-green-100",children:s.jsx(hg,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Available Clients"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:M.length})]})]})}),s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:s.jsx(ym,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Associated Users"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:R.filter(N=>N.association).length})]})]})})]}),p&&s.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full mr-2"}),s.jsx("h3",{className:"text-green-800 font-medium",children:"User Created Successfully!"})]}),s.jsx("p",{className:"text-green-700 text-sm mb-2",children:"Share these credentials with the user:"}),s.jsxs("div",{className:"bg-white p-3 rounded border",children:[s.jsxs("p",{className:"font-mono text-sm",children:[s.jsx("strong",{children:"Email:"})," ",p.email]}),s.jsxs("p",{className:"font-mono text-sm",children:[s.jsx("strong",{children:"Password:"})," ",p.password]})]}),s.jsx("p",{className:"text-green-600 text-xs mt-2",children:"This message will disappear in 10 seconds."})]}),(t==null?void 0:t.user_type)==="admin"&&s.jsxs(oe,{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New User"}),s.jsxs("button",{onClick:()=>c(!l),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[s.jsx(tn,{className:"w-4 h-4 mr-2"}),l?"Cancel":"Add User"]})]}),l&&s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),s.jsx("input",{type:"email",value:u.email,onChange:N=>d(T=>({...T,email:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"user@example.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),s.jsx("input",{type:"text",value:u.name,onChange:N=>d(T=>({...T,name:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"John Doe"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password *"}),s.jsxs("div",{className:"flex",children:[s.jsx("input",{type:"text",value:u.password,onChange:N=>d(T=>({...T,password:N.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter password"}),s.jsx("button",{type:"button",onClick:E,className:"px-3 py-2 bg-gray-200 border border-l-0 border-gray-300 rounded-r-md hover:bg-gray-300 text-sm",children:"Generate"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User Type"}),s.jsxs("select",{value:u.user_type,onChange:N=>d(T=>({...T,user_type:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"employee",children:"Employee"},"employee"),s.jsx("option",{value:"admin",children:"Admin"},"admin"),s.jsx("option",{value:"client",children:"Client"},"client")]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client Association (Optional)"}),s.jsxs("select",{value:u.association,onChange:N=>d(T=>({...T,association:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"No association"},"no-association"),M.map(N=>s.jsxs("option",{value:N.id,children:[N.name," (",N.company,")"]},N.id))]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:C,disabled:b.isPending||!u.email||!u.password||!u.name,className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:b.isPending?"Creating...":"Create User"})}),b.error&&s.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md",children:s.jsx("p",{className:"text-red-700 text-sm",children:b.error instanceof Error?b.error.message:"Failed to create user"})})]})]}),s.jsxs(oe,{children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Users & Associations"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client Association"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:R.map(N=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-blue-600",children:N.name.charAt(0).toUpperCase()})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.name}),s.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[s.jsx(xg,{className:"w-3 h-3 mr-1"}),N.email]})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r===N._id?s.jsxs("select",{value:i.user_type,onChange:T=>o({...i,user_type:T.target.value}),className:"border border-gray-300 rounded-md px-2 py-1 text-sm",children:[s.jsx("option",{value:"admin",children:"Admin"},"admin-edit"),s.jsx("option",{value:"employee",children:"Employee"},"employee-edit"),s.jsx("option",{value:"client",children:"Client"},"client-edit")]}):s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${N.user_type==="admin"?"bg-purple-100 text-purple-800":N.user_type==="employee"?"bg-green-100 text-green-800":N.user_type==="client"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:N.user_type||"Other"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r===N._id?s.jsxs("select",{value:i.association,onChange:T=>o({...i,association:T.target.value}),className:"border border-gray-300 rounded-md px-2 py-1 text-sm w-full",children:[s.jsx("option",{value:"",children:"No Association"},"no-association-edit"),M.map(T=>s.jsxs("option",{value:T.id,children:[T.name," (",T.company,")"]},T.id))]}):s.jsx("div",{children:N.association?s.jsx("div",{children:(()=>{const T=M.find(I=>I.id===N.association);return T?s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.name}),s.jsx("div",{className:"text-sm text-gray-500",children:T.company})]}):s.jsx("span",{className:"text-sm text-red-600",children:"Invalid Association"})})()}):s.jsx("span",{className:"text-sm text-gray-400",children:"No Association"})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r===N._id?s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>S(N._id),disabled:y.isPending,className:"text-green-600 hover:text-green-800",children:s.jsx(Pc,{className:"w-4 h-4"})}),s.jsx("button",{onClick:k,className:"text-gray-600 hover:text-gray-800",children:s.jsx(vt,{className:"w-4 h-4"})})]}):s.jsx("button",{onClick:()=>j(N),className:"text-blue-600 hover:text-blue-800",children:s.jsx(nT,{className:"w-4 h-4"})})})]},N._id))})]})}),R.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Et,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"No users found"}),x&&s.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md",children:s.jsxs("p",{className:"text-red-700 text-sm",children:["Error: ",x instanceof Error?x.message:"Failed to load users"]})}),!e&&s.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:s.jsx("p",{className:"text-yellow-700 text-sm",children:"No authentication token found. Please log in."})})]})]})]})}))},ZW=()=>{const e=gi(),[t,n]=h.useState("loading"),[r,a]=h.useState("Processing TikTok authorization...");h.useEffect(()=>{(async()=>{try{const c=new URLSearchParams(window.location.search),u=c.get("auth_code"),d=c.get("state"),p=c.get("error");if(p){n("error"),a(`Authorization failed: ${p}`);return}if(!u){n("error"),a("No authorization code received from TikTok");return}console.log("TikTok Auth Code:",u),console.log("State (Client ID):",d);try{const f=await Qu.exchangeToken(u,d||"default");console.log("TikTok token exchange successful:",f),n("success"),a("Successfully connected to TikTok! You can now close this window.")}catch(f){console.error("TikTok API error:",f),n("error"),a(`Failed to connect: ${f.message}`);return}setTimeout(()=>{window.opener?(window.opener.postMessage({type:"TIKTOK_AUTH_SUCCESS",authCode:u,state:d},window.location.origin),window.close()):e("/labs")},3e3)}catch(c){console.error("TikTok auth callback error:",c),n("error"),a("An unexpected error occurred during authorization")}})()},[e]);const i=()=>{switch(t){case"loading":return s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});case"success":return s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})});case"error":return s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}},o=()=>{switch(t){case"loading":return"text-blue-600";case"success":return"text-green-600";case"error":return"text-red-600"}};return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:s.jsx(oe,{className:"max-w-md w-full",children:s.jsxs("div",{className:"text-center py-8",children:[i(),s.jsx("h2",{className:`text-xl font-semibold mb-4 ${o()}`,children:"TikTok Authorization"}),s.jsx("p",{className:"text-gray-600 mb-6",children:r}),t==="error"&&s.jsx("button",{onClick:()=>window.close(),className:"btn-secondary",children:"Close Window"}),t==="success"&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"This window will close automatically in a few seconds."}),s.jsx("button",{onClick:()=>window.close(),className:"btn-primary",children:"Close Now"})]})]})})})},JW=()=>{Ns();const e=gi(),[t,n]=h.useState("loading"),[r,a]=h.useState("");return h.useEffect(()=>{(async()=>{try{const o=new URLSearchParams(window.location.search),l=o.get("code"),c=o.get("state"),u=o.get("error");if(u){a(`Meta authentication error: ${u}`),n("error");return}if(!l){a("No authorization code received from Meta"),n("error");return}const d=await wo.handleCallback(l,c||"");localStorage.setItem("meta_access_token",d.access_token),localStorage.setItem("meta_user",JSON.stringify(d.user)),localStorage.setItem("meta_pages",JSON.stringify(d.pages)),localStorage.setItem("meta_connected","true"),n("success"),setTimeout(()=>{e("/labs")},2e3)}catch(o){console.error("Meta callback error:",o),a(o instanceof Error?o.message:"Authentication failed"),n("error")}})()},[e]),t==="loading"?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"bg-white rounded-lg shadow-md p-8 max-w-md w-full mx-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Connecting to Meta"}),s.jsx("p",{className:"text-gray-600",children:"Please wait while we complete your Meta authentication..."})]})})}):t==="error"?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"bg-white rounded-lg shadow-md p-8 max-w-md w-full mx-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Connection Failed"}),s.jsx("p",{className:"text-gray-600 mb-4",children:r}),s.jsx("button",{onClick:()=>e("/labs"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Return to Labs"})]})})}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"bg-white rounded-lg shadow-md p-8 max-w-md w-full mx-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 mx-auto mb-4 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Meta Connected Successfully!"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Your Meta (Facebook/Instagram) account has been connected. You'll be redirected shortly."}),s.jsx("div",{className:"text-sm text-gray-500",children:"Redirecting to Labs..."})]})})})},eq=()=>{const t=y3().campaignId,n=gi(),[r,a]=h.useState(null),[i,o]=h.useState(!0),[l,c]=h.useState(null),[u,d]=h.useState(!1),[p,f]=h.useState(!1),[m,g]=h.useState(!1),[x,w]=h.useState(null),[v,y]=h.useState(""),[b,j]=h.useState(""),S=`${window.location.protocol}//${window.location.hostname}:2345`,k=async()=>{var I,F;if(t)try{console.log("=== CHECKING TASK COMPLETION ==="),console.log("Campaign ID:",t),console.log("Campaign:",r),console.log("Campaign Status:",r==null?void 0:r.status);let _=!0,D=0;try{const $=await fetch(`${S}/api/campaigns/${t}/tasks`);if($.ok){const z=await $.json();if(console.log("Direct campaign tasks:",z),z.tasks&&z.tasks.length>0){D=z.tasks.length;for(const U of z.tasks)if(U.status!=="completed"){_=!1,console.log("Task not completed:",U);break}}}}catch{console.log("No direct campaign tasks endpoint, trying sections...")}if(D===0){const $=await fetch(`${S}/api/sections?clientId=client1`);if(!$.ok){console.log("Failed to fetch sections"),d(!1);return}const z=await $.json();console.log("All sections:",z.sections),console.log("Campaign name to match:",r==null?void 0:r.campaignName);const U=(I=z.sections)==null?void 0:I.filter(O=>{var W;return O.campaignId&&(r!=null&&r._id)?O.campaignId===r._id:O.title.toLowerCase().includes(((W=r==null?void 0:r.campaignName)==null?void 0:W.toLowerCase())||"")});if(console.log("Matched campaign sections:",U),!U||U.length===0){console.log("No matching campaign sections found - assuming all tasks complete"),d(!0);return}for(const O of U){D+=((F=O.tasks)==null?void 0:F.length)||0;for(const W of O.tasks||[]){if(W.status!=="completed"){_=!1,console.log("Section task not completed:",W);break}if(W.subtasks){for(const A of W.subtasks)if(A.status!=="completed"){_=!1,console.log("Subtask not completed:",A);break}}if(!_)break}if(!_)break}}console.log("Total task count:",D),console.log("All tasks completed result:",_),console.log("Campaign status for button check:",r==null?void 0:r.status),console.log("Should show button?",_&&(r==null?void 0:r.status)==="draft"),d(_)}catch(_){console.error("Error checking task completion:",_),d(!1)}},C=async()=>{if(t){f(!0);try{const I=localStorage.getItem("token");(await fetch(`${S}/api/campaigns/${t}/request-internal-approval`,{method:"POST",headers:{"Content-Type":"application/json",...I?{Authorization:`Bearer ${I}`}:{}}})).ok?(M(),alert("Campaign sent for internal approval!")):alert("Failed to request internal approval")}catch(I){console.error("Error requesting internal approval:",I),alert("Failed to request internal approval")}finally{f(!1)}}},E=async()=>{if(!(!t||!x))try{const I=localStorage.getItem("token"),F=(r==null?void 0:r.status)==="pending_client_approval",_=F?`${S}/api/campaigns/${t}/client-approval`:`${S}/api/campaigns/${t}/internal-approval`,D=F?{action:x,feedback:v,client_email:b}:{action:x,feedback:v};(await fetch(_,{method:"POST",headers:{"Content-Type":"application/json",...I&&!F?{Authorization:`Bearer ${I}`}:{}},body:JSON.stringify(D)})).ok?(M(),g(!1),w(null),y(""),alert(`Campaign ${x}d successfully!`)):alert(`Failed to ${x} campaign`)}catch(I){console.error("Error processing approval:",I),alert(`Failed to ${x} campaign`)}},R=async()=>{if(!(!t||!b)){f(!0);try{const I=localStorage.getItem("token");(await fetch(`${S}/api/campaigns/${t}/request-client-approval`,{method:"POST",headers:{"Content-Type":"application/json",...I?{Authorization:`Bearer ${I}`}:{}},body:JSON.stringify({client_email:b})})).ok?(M(),j(""),alert("Campaign sent for client approval!")):alert("Failed to request client approval")}catch(I){console.error("Error requesting client approval:",I),alert("Failed to request client approval")}finally{f(!1)}}},M=async()=>{try{o(!0);const I=localStorage.getItem("token"),F=await fetch(`${S}/api/campaigns/${t}`,{headers:{"Content-Type":"application/json",...I?{Authorization:`Bearer ${I}`}:{}}});if(!F.ok)throw new Error("Campaign not found");const _=await F.json();a(_.campaign)}catch(I){c(I instanceof Error?I.message:"Failed to load campaign")}finally{o(!1)}};h.useEffect(()=>{t&&M()},[t,S]),h.useEffect(()=>{r&&k()},[r]);const N=I=>{switch(I){case"draft":return"bg-gray-100 text-gray-800";case"approved":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-purple-100 text-purple-800";case"paused":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";case"pending_internal_approval":return"bg-orange-100 text-orange-800";case"approved_internal":return"bg-green-100 text-green-800";case"rejected_internal":return"bg-red-100 text-red-800";case"pending_client_approval":return"bg-blue-100 text-blue-800";case"approved_client":return"bg-green-100 text-green-800";case"rejected_client":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},T=I=>I.replace(/([A-Z])/g," $1").replace(/^./,F=>F.toUpperCase());return i?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(xi,{className:"w-8 h-8 text-blue-600 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading campaign details..."})]})}):l||!r?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"text-center",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 max-w-md",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Campaign Not Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:l||"The requested campaign could not be found."}),s.jsx("button",{onClick:()=>n("/project-overview"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Overview"})]})})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-6xl mx-auto px-4 py-6",children:s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("button",{onClick:()=>n("/project-overview"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(L4,{className:"w-5 h-5 text-gray-600"})}),s.jsxs("div",{className:"flex-grow",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r.campaignName}),s.jsx("p",{className:"text-gray-600",children:"Campaign Details & Management"})]}),s.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${N(r.status)}`,children:r.status.replace("_"," ").toUpperCase()})]})})}),s.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8",children:s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Se,{className:"w-5 h-5 text-blue-600"}),"Campaign Overview"]}),s.jsxs("div",{className:"space-y-4",children:[r.campaignObjective&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Objective"}),s.jsx("p",{className:"text-gray-700",children:r.campaignObjective})]}),r.campaignNarrative&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Campaign Narrative"}),s.jsx("p",{className:"text-gray-700",children:r.campaignNarrative})]}),r.campaignConcept&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Creative Concept"}),s.jsx("p",{className:"text-gray-700",children:r.campaignConcept})]}),r.tagline&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Tagline"}),s.jsxs("p",{className:"text-gray-700 font-medium",children:['"',r.tagline,'"']})]}),r.productService&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Product/Service"}),s.jsx("p",{className:"text-gray-700",children:r.productService})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(R4,{className:"w-5 h-5 text-green-600"}),"Campaign Activities"]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:r.activities.map((I,F)=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx(qn,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{className:"text-gray-900",children:T(I)})]},F))})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(kn,{className:"w-5 h-5 text-blue-600"}),"Account Manager"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:r.accountManager.name}),s.jsx("p",{className:"text-sm text-gray-600",children:r.accountManager.email})]}),s.jsx("button",{className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Contact Manager"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Ht,{className:"w-5 h-5 text-purple-600"}),"Campaign Info"]}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Created"}),s.jsx("p",{className:"text-gray-900",children:new Date(r.createdAt).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Created by"}),s.jsx("p",{className:"text-gray-900",children:r.createdBy.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Campaign ID"}),s.jsx("p",{className:"text-gray-900 font-mono text-xs",children:r._id})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Approval Status"}),s.jsxs("div",{className:"mb-4 p-3 bg-gray-100 rounded text-sm",children:[s.jsx("p",{children:s.jsx("strong",{children:"Debug Info:"})}),s.jsxs("p",{children:["All Tasks Completed: ",u?"YES":"NO"]}),s.jsxs("p",{children:["Campaign Status: ",r.status]}),s.jsxs("p",{children:["Should Show Button: ",u&&r.status==="draft"?"YES":"NO"]})]}),r.status==="draft"&&s.jsxs("div",{className:"space-y-3",children:[!u&&s.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-yellow-800",children:"⚠️ Not all tasks are marked as completed in the system, but you can still proceed if tasks are actually done."})}),s.jsx("button",{onClick:C,disabled:p,className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:p?"Sending...":"Send for Internal Approval"})]}),r.status==="pending_internal_approval"&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"This campaign is pending internal approval"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("button",{onClick:()=>{w("approve"),g(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Approve"}),s.jsx("button",{onClick:()=>{w("reject"),g(!0)},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Reject"})]})]}),r.status==="approved_internal"&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-green-600 mb-3",children:"✅ Internally approved"}),s.jsx("input",{type:"email",placeholder:"Client email...",value:b,onChange:I=>j(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{onClick:R,disabled:p||!b,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:p?"Sending...":"Send for Client Approval"})]}),r.status==="pending_client_approval"&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"This campaign is pending client approval"}),s.jsx("input",{type:"email",placeholder:"Your email (client)...",value:b,onChange:I=>j(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 mb-3"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("button",{onClick:()=>{w("approve"),g(!0)},disabled:!b,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:"Approve"}),s.jsx("button",{onClick:()=>{w("reject"),g(!0)},disabled:!b,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:"Reject"})]})]}),r.status==="approved_client"&&s.jsx("p",{className:"text-sm text-green-600",children:"🎉 Campaign approved by client!"}),r.status==="rejected_client"&&s.jsx("p",{className:"text-sm text-red-600",children:"🔄 Campaign rejected by client - needs revision"}),r.status==="rejected_internal"&&s.jsx("p",{className:"text-sm text-red-600",children:"🔄 Campaign rejected internally - needs revision"}),!u&&r.status==="draft"&&s.jsx("p",{className:"text-sm text-gray-500",children:"⏳ Complete all tasks to enable approval"})]})]})]})}),m&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:x==="approve"?"Approve Campaign":"Reject Campaign"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:x==="approve"?"Approval notes (optional)":"Rejection reason"}),s.jsx("textarea",{value:v,onChange:I=>y(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4,placeholder:x==="approve"?"Add any comments or notes...":"Please explain why this campaign is being rejected..."})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{onClick:()=>{g(!1),w(null),y("")},className:"px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{onClick:E,className:`px-4 py-2 text-white rounded-lg transition-colors ${x==="approve"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:x==="approve"?"Approve":"Reject"})]})]})})]})},tq=`${window.location.protocol}//${window.location.hostname}:2345`,nq=({onLogin:e})=>{const[t,n]=h.useState({email:"",password:""}),[r,a]=h.useState(!1),[i,o]=h.useState(!1),[l,c]=h.useState(""),u=p=>{const{name:f,value:m}=p.target;n(g=>({...g,[f]:m})),l&&c("")},d=async p=>{p.preventDefault(),o(!0),c("");try{const f=await fetch(`${tq}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),m=await f.json();if(!f.ok)throw new Error(m.error||"Login failed");localStorage.setItem("authToken",m.token),localStorage.setItem("user",JSON.stringify(m.user)),e(m.token,m.user)}catch(f){c(f instanceof Error?f.message:"Login failed")}finally{o(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mb-4",children:s.jsx(X4,{className:"w-8 h-8 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Welcome Back"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Sign in to your account"})]}),l&&s.jsx("div",{className:"mb-6 p-3 bg-red-50 border border-red-200 rounded-md",children:s.jsx("p",{className:"text-red-600 text-sm",children:l})}),s.jsxs("form",{onSubmit:d,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(xg,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:t.email,onChange:u,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your email",disabled:i})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(G4,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"password",name:"password",type:r?"text":"password",required:!0,value:t.password,onChange:u,className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your password",disabled:i}),s.jsx("button",{type:"button",onClick:()=>a(!r),className:"absolute inset-y-0 right-0 pr-3 flex items-center",disabled:i,children:r?s.jsx(Cc,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):s.jsx(Xa,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),s.jsx("button",{type:"submit",disabled:i||!t.email||!t.password,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${i||!t.email||!t.password?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"} transition duration-150 ease-in-out`,children:i?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):"Sign In"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",s.jsx("button",{className:"font-medium text-blue-600 hover:text-blue-500",children:"Contact administrator"})]})})]})})},mA=({message:e="You don't have access yet, contact y.alsarraj@action-labs.co",userType:t="client"})=>s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-md text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-6",children:s.jsx(sT,{className:"w-8 h-8 text-red-600"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Restricted"}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-center mb-3",children:[s.jsx(Zn,{className:"w-5 h-5 text-amber-500 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-amber-700",children:t==="client"?"Client Account":"Account"})]}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:e})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-center mb-2",children:[s.jsx(xg,{className:"w-5 h-5 text-blue-600 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Contact Support"})]}),s.jsx("a",{href:"mailto:y.alsarraj@action-labs.co",className:"text-blue-600 hover:text-blue-800 font-medium",children:"y.alsarraj@action-labs.co"})]}),s.jsx("div",{className:"text-sm text-gray-500",children:s.jsx("p",{children:"Please include your email address and account details when contacting support."})}),s.jsx("div",{className:"mt-6",children:s.jsx("button",{onClick:()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.location.reload()},className:"text-sm text-gray-600 hover:text-gray-800 underline",children:"Sign out and try different account"})})]})}),rq=({children:e})=>{const{isAuthenticated:t,isLoading:n,login:r,accessInfo:a,user:i}=Ss();return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t?(console.log("🔍 ProtectedRoute - accessInfo:",a),console.log("🔍 ProtectedRoute - user:",i),(i==null?void 0:i.user_type)==="client"&&!a?(console.log("🔍 ProtectedRoute - Waiting for access check..."),s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})):a&&!a.hasAccess?(console.log("🔍 ProtectedRoute - Access denied, showing NoAccess component"),s.jsx(mA,{message:a.message,userType:a.type})):(console.log("🔍 ProtectedRoute - Access granted, showing children"),s.jsx(s.Fragment,{children:e}))):s.jsx(nq,{onLogin:r})},xf=({children:e,allowedRoutes:t=["/business","/project-overview"]})=>{const{user:n}=Ss(),r=gi(),a=window.location.pathname;return h.useEffect(()=>{(n==null?void 0:n.user_type)==="client"&&(n!=null&&n.association)&&a==="/"&&r("/business")},[n,a,r]),(n==null?void 0:n.user_type)==="client"&&(n!=null&&n.association)&&!t.includes(a)&&a!=="/"?s.jsx(mA,{message:"This page is not accessible to client users. You can only access Business Data and Project Overview.",userType:"client"}):s.jsx(s.Fragment,{children:e})},aq=new o4({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});function iq(){return s.jsx(w4,{client:aq,children:s.jsx(mT,{children:s.jsx(fT,{children:s.jsx(_U,{children:s.jsx(U3,{children:s.jsx(rq,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(vT,{}),s.jsx("main",{children:s.jsxs($3,{children:[s.jsx(cr,{path:"/tiktok-auth-callback",element:s.jsx(ZW,{})}),s.jsx(cr,{path:"/meta-auth-callback",element:s.jsx(JW,{})}),s.jsx(cr,{path:"/",element:s.jsx(xf,{allowedRoutes:["/business"],children:s.jsx(NT,{})})}),s.jsx(cr,{path:"/business",element:s.jsx(MU,{})}),s.jsx(cr,{path:"/project-overview",element:s.jsx(GW,{})}),s.jsx(cr,{path:"/campaigns/:campaignId",element:s.jsx(eq,{})}),s.jsx(cr,{path:"/access",element:s.jsx(xf,{allowedRoutes:[],children:s.jsx(XW,{})})}),s.jsx(cr,{path:"/labs",element:s.jsx(xf,{allowedRoutes:[],children:s.jsx(KW,{})})})]})})]})})})})})})})}const sq=vf.createRoot(document.getElementById("root"));sq.render(s.jsx(zn.StrictMode,{children:s.jsx(iq,{})}));
